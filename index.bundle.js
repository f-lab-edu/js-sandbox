(()=>{"use strict";var t="/js-sandbox/";const e=new class{db;constructor(t,e,i){this.dbName=t,this.dbVersion=e,this.stores=i}async openDB(){return new Promise(((t,e)=>{const i=window.indexedDB.open(this.dbName,this.dbVersion);i.onsuccess=()=>{this.db=i.result,t()},i.onerror=t=>{e(t)},i.onupgradeneeded=()=>{this.db=i.result,this.stores.forEach((t=>{this.db.objectStoreNames.contains(t)&&this.db.deleteObjectStore(t),this.db.createObjectStore(t,{keyPath:"id"})}))}}))}async getData(t,e){return new Promise(((i,n)=>{const s=this.db.transaction(t,"readonly").objectStore(t).get(e);s.onsuccess=()=>{i(s.result)},s.onerror=t=>{n(t)}}))}async getAllData(t){return new Promise(((e,i)=>{const n=this.db.transaction(t,"readonly").objectStore(t).getAll();n.onsuccess=()=>{e(n.result)},n.onerror=t=>{i(t)}}))}async upsertData(t,e){return new Promise(((i,n)=>{const s=this.db.transaction(t,"readwrite").objectStore(t),o={...e,id:e.id||(new Date).getTime()},a=s.put(o);a.onsuccess=()=>{i(a.result)},a.onerror=()=>{console.log(a.error),n(a.error)}}))}async deleteData(t,e){return new Promise(((i,n)=>{const s=this.db.transaction(t,"readwrite").objectStore(t).delete(e);s.onsuccess=()=>{i(!0)},s.onerror=t=>{n(t)}}))}}("sandboxDB",2,["notepad"]),i=(t,...e)=>String.raw(t,...e);class n extends HTMLElement{connectedCallback(){this.render()}render(){this.innerHTML=this.injectHTML()}injectHTML(){return""}}class s extends n{injectHTML(){return i`
      <div id="page"></div>
      <my-icons tabindex="-1"></my-icons>
      <my-footer></my-footer>
    `}}const o=t+"2a583f97b153f7da7d41.png",a="/js-sandbox",r=[{path:"/",html:i`<my-home></my-home>`,label:"Home",iconSrc:null},{path:"/tetris",html:i`<my-tetris></my-tetris>`,label:"Tetris",iconSrc:t+"71c0bea6462001116fcf.png"},{path:"/flappybird",html:i`<my-flappybird></my-flappybird>`,label:"Flappy&nbsp;Bird",iconSrc:t+"39b884119b49599495ed.png"},{path:"/notepad",html:i`<my-notepad></my-notepad>`,label:"Note&nbsp;Pad",iconSrc:o},{path:"/notepad/:id",html:i`<my-notepad data-id=":id"></my-notepad>`,label:"Note&nbsp;Pad",iconSrc:null}],c=r.reduce(((t,e)=>{const{path:i,label:n,iconSrc:s}=e;return e.iconSrc?[...t,{path:i,label:n,iconSrc:s}]:t}),[]),l=async()=>[...(await e.getAllData("notepad")).reduce(((t,e)=>{const{id:i,title:n}=e;return[...t,{path:`/notepad/${i}`,label:n,iconSrc:o}]}),[])],d=r,h=new class{constructor(t){this.routes=t}pathToRegexp(t){return new RegExp(`^${t.replace(/\//g,"\\/").replace(/:\w+/g,"(.+)")}$`)}render(){const t=window.location.pathname,e=this.routes.find((e=>this.pathToRegexp(this.getUrlFrom(e.path)).test(t)));e?document.querySelector("#page").innerHTML=e.html.replace(":id",this.getIdFromPath(t)):this.replaceTo("/")}getIdFromPath(t){return t.match(/\d+/)?.[0]}navigateTo(t){this.getUrlFrom(t)!==window.location.pathname&&(window.history.pushState(null,null,a+t),this.render())}replaceTo(t){window.history.replaceState(null,null,a+t),this.render()}getUrlFrom(t){return`${a}${t}`}back(){window.history.back(),this.render()}}(d),u=t+"59cb65e4f8f2627d6c2c.png",p=t+"bc8d31a2338dd0b3f68a.png";class b extends n{connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.handleClick.bind(this))}injectHTML(){return i`
      <img alt="window_logo" src=${u} class="window_icon" />
      <div class="input_box">
        <img alt="search" src=${p} class="window_icon" /><input type="text" placeholder="Ï∞æÍ∏∞" />
      </div>
      ${c.map((t=>i` <my-icon data-path="${t.path}" data-iconSrc="${t.iconSrc}"></my-icon> `)).join("")}
    `}handleClick(t){if(!t.target.closest("my-icon"))return;const e=t.target.closest("my-icon");h.navigateTo(e.dataset.path)}}class m extends n{}const y={I:[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]],J:[[2,0,0],[2,2,2],[0,0,0]],L:[[0,0,3],[3,3,3],[0,0,0]],O:[[4,4],[4,4]],S:[[0,5,5],[5,5,0],[0,0,0]],T:[[0,6,0],[6,6,6],[0,0,0]],Z:[[7,7,0],[0,7,7],[0,0,0]]},k={0:"empty",1:"I",2:"J",3:"L",4:"O",5:"S",6:"T",7:"Z",10:"I freeze",20:"J freeze",30:"L freeze",40:"O freeze",50:"S freeze",60:"T freeze",70:"Z freeze"},v={1:100,2:300,3:500,4:800},g=10;class w{constructor(){this.createNewBlock()}rotate(t){const e=this.block[0].map(((t,e)=>this.block.map((t=>t[e])).reverse())),i=e[0].length,n=e.length;let s=this.x,o=this.y;s+i>g&&(s=g-i),s<0&&(s=0),o+n>20&&(o=20-n),o<0&&(o=0),this.canMove(t,s,o,e)&&(this.block=e,this.x=s,this.y=o)}moveLeft(t){this.canMove(t,this.x-1,this.y,this.block)&&(this.x-=1)}moveRight(t){this.canMove(t,this.x+1,this.y,this.block)&&(this.x+=1)}moveDown(t){this.canMove(t,this.x,this.y+1,this.block)?this.y+=1:0===this.y?(this.freeze(t),document.querySelector("my-tetris").stopGame()):(this.freeze(t),this.createNewBlock())}freeze(t){const{block:e,x:i,y:n}=this;e.forEach(((e,s)=>{e.forEach(((e,o)=>{0!==e&&(t[n+s][i+o]=10*e)}))}));const s=document.querySelector("my-tetris");var o;10===s.tetrominoCounter&&(s.tetrominoCounter=0,s.dropInterval*=.9),(o=function(){let e=0;return t.forEach(((i,n)=>{i.every((t=>t>=10))&&(e+=1,t.splice(n,1),t.unshift(Array(g).fill(0)))})),e}())>0&&(s.score+=v[o]??0),s.tetrominoCounter+=1}createNewBlock(){this.block=Object.values(y)[Math.floor(7*Math.random())];const t=this.getInitialBlockPos(g,this.block);this.x=t.x,this.y=t.y}canMove(t,e,i,n){for(let s=0;s<n.length;s+=1)for(let o=0;o<n[s].length;o+=1)if(0!==n[s][o]){const n=e+o,a=i+s;if(n<0||n>=g||a<0||a>=20||t[a][n]>=10)return!1}return!0}getInitialBlockPos(t,e){const i=e.findIndex((t=>t.some((t=>0!==t))));return{x:Math.floor((t-e[0].length)/2),y:-i}}clone(){const t=new w;return t.block=this.block.map((t=>[...t])),t.x=this.x,t.y=this.y,t}}class f extends n{constructor(){super(),this.board=this.getInitialBoard(g,20),this.start=!1,this.tetromino=null,this.score=0,this.lastTime=null,this.dropInterval=1e3,this.tetrominoCounter=0,this.startGame=this.startGame.bind(this),this.keydownHandler=this.keydownHandler.bind(this),this.dropBlock=this.dropBlock.bind(this)}connectedCallback(){super.connectedCallback(),this.querySelector("#start-button").addEventListener("click",this.startGame)}injectHTML(){return i`
      <button id="start-button">Í≤åÏûÑ ÏãúÏûë</button>
      <div class="board">
        ${this.board.map((t=>i`
              <ul>
                ${t.map((t=>i`<li class="cell-${k[t]}"></li>`)).join("")}
              </ul>
            `)).join("")}
      </div>
      <span class="score">${this.score}</span>
    `}static get observedAttributes(){return["board"]}attributeChangedCallback(t){"board"===t&&this.render()}getInitialBoard(t,e){return Array.from(Array(e),(()=>Array(t).fill(0)))}startGame(){this.start||(this.start=!0,this.tetromino=new w,this.tetrominoCounter+=1,this.updateBoard(),document.addEventListener("keydown",this.keydownHandler),this.lastTime=performance.now(),requestAnimationFrame(this.dropBlock))}stopGame(){this.start=!1,this.board=this.getInitialBoard(g,20),this.score=0,this.tetrominoCounter=0,this.dropInterval=1e3,this.updateBoard(),document.removeEventListener("keydown",this.keydownHandler)}dropBlock(t){if(t-this.lastTime>this.dropInterval){const e=this.tetromino.clone(),i=this.board;this.tetromino.moveDown(i),this.updateBoard(i,e),this.lastTime=t}requestAnimationFrame(this.dropBlock)}keydownHandler(t){const e=this.tetromino.clone(),i=this.board;"ArrowDown"===t.key?this.tetromino.moveDown(i):"ArrowUp"===t.key?this.tetromino.rotate(i):"ArrowLeft"===t.key?this.tetromino.moveLeft(i):"ArrowRight"===t.key&&this.tetromino.moveRight(i),this.updateBoard(i,e)}updateBoard(t=this.board,e=null){e&&this.removeOldBlock(e,t),this.putNewBlock(this.tetromino,t),this.board=t}removeOldBlock(t,e){const{block:i,x:n,y:s}=t;i.forEach(((t,i)=>{t.forEach(((t,o)=>{e[s+i]?.[n+o]===t&&(e[s+i][n+o]=0)}))}))}putNewBlock(t,e){const{x:i,y:n,block:s}=t;s.forEach(((t,s)=>{t.forEach(((t,o)=>{0!==t&&(e[n+s][i+o]=t)}))}))}get board(){return JSON.parse(this.getAttribute("board"))}set board(t){this.setAttribute("board",JSON.stringify(t))}}class x extends n{injectHTML(){return i`
      <h1>Flappy Bird</h1>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
    `}}class C extends n{async connectedCallback(){this.icons=[...c,...await l()],super.connectedCallback(),this.addEventListener("click",this.handleClick),this.addEventListener("dblclick",this.handleDoubleClick),this.addEventListener("keydown",this.handleKeyDown),this.addEventListener("iconChange",this.handleIconChange),this.addEventListener("iconDelete",this.handleIconDelete)}static get observedAttributes(){return["icons"]}attributeChangedCallback(t,e,i){e!==i&&this.render()}injectHTML(){return i`
      ${this.icons.map((t=>i`
            <my-icon data-path=${t.path} data-label=${t.label} data-iconSrc=${t.iconSrc}></my-icon>
          `)).join("")}
    `}get icons(){return JSON.parse(this.getAttribute("icons"))}set icons(t){this.setAttribute("icons",JSON.stringify(t))}handleClick(t){if(!t.target.closest("my-icon"))return;const e=t.target.closest("my-icon");e.toggleAttribute("checked"),this.querySelectorAll("my-icon").forEach((t=>{t!==e&&t.removeAttribute("checked")}))}handleDoubleClick(t){if(!t.target.closest("my-icon"))return;const e=t.target.closest("my-icon");h.navigateTo(e.dataset.path)}handleKeyDown(t){const e=this.querySelectorAll("my-icon[checked]");if("Enter"===t.key){if(e.length>1)return;if(!e)return;h.navigateTo(e[0].dataset.path)}}handleIconChange(t){const{path:e,label:i,iconSrc:n}=t.detail,s=this.icons.findIndex((t=>t.path===e));if(-1===s)this.icons=[...this.icons,{path:e,label:i,iconSrc:n}];else{const t=[...this.icons];t[s]={path:e,label:i,iconSrc:n},this.icons=t}}handleIconDelete(t){const{path:e}=t.detail;this.icons=this.icons.filter((t=>t.path!==e))}}class S extends n{injectHTML(){const{label:t,iconsrc:e}=this.dataset;return i`
      <img alt="${t}_icon" src=${e} />
      ${t?`<span class="icon_name">${t}</span>`:""}
    `}}class E extends n{async connectedCallback(){this.data=await e.getData("notepad",this.id)??{title:"Ï†úÎ™©ÏóÜÏùå",content:""},super.connectedCallback(),this.addEventListener("save",this.handleSave),this.addEventListener("localSave",this.handleLocalSave),this.addEventListener("delete",this.handleDelete)}disconnectedCallback(){this.removeEventListener("save",this.handleSave),this.removeEventListener("localSave",this.handleLocalSave),this.removeEventListener("delete",this.handleDelete)}injectHTML(){const{title:t,content:e}=this.data;return i`
      <my-notepad-header title=${t}></my-notepad-header>
      <textarea>${e}</textarea>
    `}handleLocalSave(t){t.preventDefault();const e=this.getNotePadData();if(!e)return;const i=new Blob([e.content],{type:"text/plain"}),n=document.createElement("a");n.href=URL.createObjectURL(i),n.download=`${e.title}.txt`,n.click()}async handleSave(t){t.stopPropagation();const i=this.getNotePadData();if(i)try{const t=await e.upsertData("notepad",i),n=`/notepad/${t}`;alert("Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§.");const s=new CustomEvent("iconChange",{detail:{path:n,label:i.title,iconSrc:o}});document.querySelector("my-icons").dispatchEvent(s),this.id===t?this.title=i.title.replace(/&nbsp;/g," "):h.navigateTo(n)}catch(t){alert("Ï†ÄÏû•Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.")}}async handleDelete(t){try{if(t.stopPropagation(),!window.confirm("Ï†ïÎßê ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?"))return;await e.deleteData("notepad",this.id),alert("ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§.");const i=new CustomEvent("iconDelete",{detail:{path:`/notepad/${this.id}`}});document.querySelector("my-icons").dispatchEvent(i),h.replaceTo("/notepad")}catch(t){alert("ÏÇ≠Ï†úÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.")}}getNotePadData(){const t=this.querySelector("textarea").value.trim();if(!t)return alert("ÎÇ¥Ïö©Ïù¥ ÏóÜÏäµÎãàÎã§."),null;let e;for(;!e;)if(!(e=prompt("ÌååÏùºÎ™ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî.",this.data.title.replace(/&nbsp;/g," ")),e||window.confirm("Ï†úÎ™©ÏùÄ ÌïÑÏàòÏûÖÎãàÎã§.")))return null;return{id:this.id,title:e.trim().replace(/ /g,"&nbsp;"),content:t.replace(/ /g,"&nbsp;")}}get id(){return Number(this.getAttribute("data-id"))}set title(t){this.querySelector("my-notepad-header").setAttribute("title",t)}}const L=!0,B=[{id:"file",title:"ÌååÏùº",key:"F",slots:[{id:1,text:"ÏÉàÎ°ú ÎßåÎì§Í∏∞(N)",key:["Ctrl","N"],onClick:function(){const t=document.querySelector("my-notepad");t.getAttribute("data-id")?h.navigateTo("/notepad"):t.render()}},{id:2,text:"ÎÇ¥ Ïª¥Ìì®ÌÑ∞Ïóê Ï†ÄÏû•(W)",key:["Ctrl","Shift","N"],onClick:function(){this.dispatchEvent(new CustomEvent("localSave",{bubbles:!0}))}},{id:3,text:"Ï†ÄÏû•(S)",key:["Ctrl","S"],onClick:function(){this.dispatchEvent(new CustomEvent("save",{bubbles:!0}))}},{id:4,text:"ÏÇ≠Ï†ú(D)",key:["Ctrl","Shift","S"],onClick:function(){document.querySelector("my-notepad").getAttribute("data-id")&&this.dispatchEvent(new CustomEvent("delete",{bubbles:!0}))}},{id:5,text:"ÌéòÏù¥ÏßÄ ÏÑ§Ï†ï(U)...",key:[],disable:L},{id:6,text:"Ïù∏ÏáÑ(P)...",key:["Ctrl","P"],disable:L},{id:7,text:"ÎÅùÎÇ¥Í∏∞(X)",key:[],disable:L}]},{id:"edit",title:"Ìé∏Ïßë",key:"E",slots:[{id:8,text:"Ïã§Ìñâ Ï∑®ÏÜå(U)",key:["Ctrl","Z"],disable:L},{id:9,text:"ÏûòÎùºÎÇ¥Í∏∞(T)",key:["Ctrl","X"],disable:L},{id:10,text:"Î≥µÏÇ¨(C)",key:["Ctrl","C"],disable:L},{id:11,text:"Î∂ôÏó¨ÎÑ£Í∏∞(P)",key:["Ctrl","V"],disable:L},{id:12,text:"ÏÇ≠Ï†ú(D)",key:["Del"],disable:L},{id:13,text:"BingÏúºÎ°ú Í≤ÄÏÉâ(S)...",key:["Ctrl","E"],disable:L},{id:14,text:"Ï∞æÍ∏∞(F)...",key:["Ctrl","F"],disable:L},{id:15,text:"Îã§Ïùå Ï∞æÍ∏∞(N)",key:["F3"],disable:L},{id:16,text:"Ïù¥Ï†Ñ Ï∞æÍ∏∞(V)",key:["Shift","F3"],disable:L},{id:17,text:"Î∞îÍæ∏Í∏∞(R)...",key:["Ctrl","H"],disable:L},{id:18,text:"Ïù¥Îèô(G)...",key:["Ctrl","G"],disable:L},{id:19,text:"Î™®Îëê ÏÑ†ÌÉù(A)",key:["Ctrl","A"],disable:L},{id:20,text:"ÏãúÍ∞Ñ/ÎÇ†Ïßú(D)",key:["F5"],disable:L}]},{id:"format",title:"ÏÑúÏãù",key:"O",slots:[{id:21,text:"ÏûêÎèô Ï§Ñ Î∞îÍøà(W)",key:[],disable:L},{id:22,text:"Í∏ÄÍº¥(F)...",key:[],disable:L}]},{id:"view",title:"Î≥¥Í∏∞",key:"V",slots:[{id:23,text:"ÌôïÎåÄÌïòÍ∏∞(Z)",key:["Ctrl","+"],disable:L},{id:24,text:"Ï∂ïÏÜåÌïòÍ∏∞(X)",key:["Ctrl","-"],disable:L},{id:25,text:"ÏÉÅÌÉú ÌëúÏãúÏ§Ñ(S)",key:[],disable:L}]},{id:"help",title:"ÎèÑÏõÄÎßê",key:"H",slots:[{id:26,text:"ÎèÑÏõÄÎßê Î≥¥Í∏∞(H)",key:[],disable:L},{id:27,text:"ÌîºÎìúÎ∞± Î≥¥ÎÇ¥Í∏∞(F)",key:[],disable:L},{id:28,text:"Î©îÎ™®Ïû• Ï†ïÎ≥¥(A)",key:[],disable:L}]}],$=B.reduce(((t,e)=>[...t,...e.slots]),[]),D=B;class T extends n{connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.handleClick)}disconnectedCallback(){this.removeEventListener("click",this.handleClick)}static get observedAttributes(){return["title"]}attributeChangedCallback(t,e,i){"title"===t&&e&&(this.querySelector("#title").innerText=i)}injectHTML(){return i`
      <header>
        <span>
          <img alt="notepad_icon" src=${o} />
          <span id="title">${this.title}</span> - Windows Î©îÎ™®Ïû•
        </span>
        <div class="view_buttons">
          <button class="view_button" id="mini">üóï</button>
          <button class="view_button" id="full">üóñ</button>
          <button class="view_button" id="close">‚Ö©</button>
        </div>
      </header>
      <div class="edit_buttons">
        ${D.map((t=>i`
              <button class="edit_button">
                ${t.title}(<u>${t.key}</u>)
                <div class="popup">
                  ${t.slots.map((t=>i`
                        <div class="sub" data-id="${t.id}" data-disable="${!!t.disable}">
                          <div>${t.text}</div>
                          ${t.key.length>0?`<div>${t.key.join(" + ")}</div>`:""}
                        </div>
                      `)).join("")}
                </div>
              </button>
            `)).join("")}
      </div>
    `}handleClick(t){const e=t.target.closest(".view_button"),i=t.target.closest(".edit_button"),n=t.target.closest(".sub");e?this.clickViewButton(e):i?this.clickEditButton(i,n):this.closePopup()}clickViewButton(t){switch(t.id){case"full":this.parentElement.classList.toggle("fullscreen");break;case"mini":case"close":h.back()}}clickEditButton(t,e){if(e){const t=Number(e.dataset.id),{onClick:i}=$.find((e=>e.id===t))||{};i&&i.call(this)}else this.togglePopup(t)}togglePopup(t){const e=t.querySelector(".popup");e.classList.contains("show")?e.classList.remove("show"):(this.closePopup(),e.classList.add("show"))}closePopup(){const t=this.querySelector(".popup.show");t?.classList.remove("show")}get title(){return this.getAttribute("title")}}(async()=>{try{await e.openDB()}catch(t){queueMicrotask((()=>alert("IndexedDBÎ•º ÏÇ¨Ïö©Ìï† Ïàò ÏóÜÏäµÎãàÎã§.")))}customElements.define("my-app",s),customElements.define("my-footer",b),customElements.define("my-home",m),customElements.define("my-tetris",f),customElements.define("my-flappybird",x),customElements.define("my-icons",C),customElements.define("my-icon",S),customElements.define("my-notepad",E),customElements.define("my-notepad-header",T)})(),window.addEventListener("load",(()=>h.render())),window.addEventListener("popstate",(()=>h.render()))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEtBQU8yTyxLQUFXLENBQUMsRUFDN0RsQixHQUNGQSxFQUFRbUIsS0FBS2xRLEtBRWpCLE1BQ0VBLEtBQUttUSxZQUFZVixFQUVyQixDQUVBVSxZQUFZVixHQUNWLE1BQU1XLEVBQVFYLEVBQVdoTCxjQUFjLFVBQ25DMkwsRUFBTUwsVUFBVTlPLFNBQVMsUUFDM0JtUCxFQUFNTCxVQUFVTSxPQUFPLFNBRXZCclEsS0FBSzZQLGFBQ0xPLEVBQU1MLFVBQVVPLElBQUksUUFFeEIsQ0FFQVQsYUFDRSxNQUFNTyxFQUFRcFEsS0FBS3lFLGNBQWMsZUFDakMyTCxHQUFPTCxVQUFVTSxPQUFPLE9BQzFCLENBRUl6TSxZQUNGLE9BQU81RCxLQUFLc0wsYUFBYSxRQUMzQixFQzdHRixXQUNFLFVBQ1EsVUFDUixDQUFFLE1BQU8xSyxHQUNQMlAsZ0JBQWUsSUFBTXRDLE1BQU0sMkJBQzdCLENBRUF1QyxlQUFlQyxPQUFPLFNBQVUxTixHQUNoQ3lOLGVBQWVDLE9BQU8sWUFBYXRMLEdBQ25DcUwsZUFBZUMsT0FBTyxVQUFXN0ssR0FDakM0SyxlQUFlQyxPQUFPLFlBQWE3RyxHQUNuQzRHLGVBQWVDLE9BQU8sZ0JBQWlCaEYsR0FDdkMrRSxlQUFlQyxPQUFPLFdBQVkvRSxHQUNsQzhFLGVBQWVDLE9BQU8sVUFBVzlELEdBQ2pDNkQsZUFBZUMsT0FBTyxhQUFjNUQsR0FDcEMyRCxlQUFlQyxPQUFPLG9CQUFxQnJCLEVBQzVDLEVBaEJELEdBa0JBOU8sT0FBTytFLGlCQUFpQixRQUFRLElBQU0sYUFDdEMvRSxPQUFPK0UsaUJBQWlCLFlBQVksSUFBTSxZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvY29yZS9JbmRleGVkREIuanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL3V0aWxzL3V0aWxzLmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy9jb3JlL1dlYkNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvQXBwLmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy91dGlscy9yb3V0ZXMuanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL2NvcmUvUm91dGVyLmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy92aWV3L0NvbW1vbi9Gb290ZXIuanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL3ZpZXcvSG9tZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvdmlldy9UZXRyaXMvY29uc3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL3ZpZXcvVGV0cmlzL2NsYXNzL1RldHJvbWluby5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvdmlldy9UZXRyaXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL3ZpZXcvRmxhcHB5QmlyZC9pbmRleC5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvdmlldy9Db21tb24vSWNvbnMuanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL3ZpZXcvQ29tbW9uL0ljb24uanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL3ZpZXcvTm90ZVBhZC9pbmRleC5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvdmlldy9Ob3RlUGFkL2NvbnN0L2J1dHRvbnMuanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL3ZpZXcvTm90ZVBhZC9jb21wb25lbnRzL05vdGVQYWRIZWFkZXIuanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9qcy1zYW5kYm94L1wiOyIsImNsYXNzIEluZGV4ZWREQiB7XHJcbiAgZGI7XHJcblxyXG4gIC8qKlxyXG4gICAqIOyDneyEseyekFxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkYk5hbWVcclxuICAgKiBAcGFyYW0ge251bWJlcn0gZGJWZXJzaW9uXHJcbiAgICogQHBhcmFtIHtzdHJpbmdbXX0gc3RvcmVzXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoZGJOYW1lLCBkYlZlcnNpb24sIHN0b3Jlcykge1xyXG4gICAgdGhpcy5kYk5hbWUgPSBkYk5hbWU7XHJcbiAgICB0aGlzLmRiVmVyc2lvbiA9IGRiVmVyc2lvbjtcclxuICAgIHRoaXMuc3RvcmVzID0gc3RvcmVzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogREIg7Jik7ZSIIOuplOyEnOuTnFxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxyXG4gICAqL1xyXG4gIGFzeW5jIG9wZW5EQigpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSB3aW5kb3cuaW5kZXhlZERCLm9wZW4odGhpcy5kYk5hbWUsIHRoaXMuZGJWZXJzaW9uKTtcclxuXHJcbiAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuZGIgPSByZXF1ZXN0LnJlc3VsdDtcclxuICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoZSkgPT4ge1xyXG4gICAgICAgIHJlamVjdChlKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJlcXVlc3Qub251cGdyYWRlbmVlZGVkID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuZGIgPSByZXF1ZXN0LnJlc3VsdDtcclxuXHJcbiAgICAgICAgdGhpcy5zdG9yZXMuZm9yRWFjaCgoc3RvcmUpID0+IHtcclxuICAgICAgICAgIGlmICh0aGlzLmRiLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoc3RvcmUpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGIuZGVsZXRlT2JqZWN0U3RvcmUoc3RvcmUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdGhpcy5kYi5jcmVhdGVPYmplY3RTdG9yZShzdG9yZSwgeyBrZXlQYXRoOiAnaWQnIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDrjbDsnbTthLAg7KGw7ZqMIOuplOyEnOuTnFxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdG9yZU5hbWVcclxuICAgKiBAcGFyYW0ge251bWJlcn0gaWRcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxvYmplY3Q+fVxyXG4gICAqL1xyXG4gIGFzeW5jIGdldERhdGEoc3RvcmVOYW1lLCBpZCkge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgY29uc3QgcmVxdWVzdCA9IHRoaXMuZGIudHJhbnNhY3Rpb24oc3RvcmVOYW1lLCAncmVhZG9ubHknKS5vYmplY3RTdG9yZShzdG9yZU5hbWUpLmdldChpZCk7XHJcblxyXG4gICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcclxuICAgICAgICByZXNvbHZlKHJlcXVlc3QucmVzdWx0KTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJlcXVlc3Qub25lcnJvciA9IChlKSA9PiB7XHJcbiAgICAgICAgcmVqZWN0KGUpO1xyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDrjbDsnbTthLAg7KCE7LK0IOyhsO2ajCDrqZTshJzrk5xcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RvcmVOYW1lXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8b2JqZWN0W10+fVxyXG4gICAqL1xyXG4gIGFzeW5jIGdldEFsbERhdGEoc3RvcmVOYW1lKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5kYi50cmFuc2FjdGlvbihzdG9yZU5hbWUsICdyZWFkb25seScpLm9iamVjdFN0b3JlKHN0b3JlTmFtZSkuZ2V0QWxsKCk7XHJcblxyXG4gICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcclxuICAgICAgICByZXNvbHZlKHJlcXVlc3QucmVzdWx0KTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJlcXVlc3Qub25lcnJvciA9IChlKSA9PiB7XHJcbiAgICAgICAgcmVqZWN0KGUpO1xyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDrjbDsnbTthLAg7LaU6rCAIOuplOyEnOuTnFxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdG9yZU5hbWVcclxuICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YVxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPG9iamVjdD59XHJcbiAgICovXHJcbiAgYXN5bmMgdXBzZXJ0RGF0YShzdG9yZU5hbWUsIGRhdGEpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIGNvbnN0IG9iamVjdFN0b3JlID0gdGhpcy5kYi50cmFuc2FjdGlvbihzdG9yZU5hbWUsICdyZWFkd3JpdGUnKS5vYmplY3RTdG9yZShzdG9yZU5hbWUpO1xyXG4gICAgICBjb25zdCBtb2RpZmllZERhdGEgPSB7IC4uLmRhdGEsIGlkOiBkYXRhLmlkIHx8IG5ldyBEYXRlKCkuZ2V0VGltZSgpIH07XHJcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBvYmplY3RTdG9yZS5wdXQobW9kaWZpZWREYXRhKTtcclxuXHJcbiAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xyXG4gICAgICAgIHJlc29sdmUocmVxdWVzdC5yZXN1bHQpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgcmVxdWVzdC5vbmVycm9yID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHJlcXVlc3QuZXJyb3IpO1xyXG4gICAgICAgIHJlamVjdChyZXF1ZXN0LmVycm9yKTtcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog642w7J207YSwIOyCreygnCDrqZTshJzrk5xcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RvcmVOYW1lXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGlkXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8b2JqZWN0Pn1cclxuICAgKi9cclxuICBhc3luYyBkZWxldGVEYXRhKHN0b3JlTmFtZSwgaWQpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSB0aGlzLmRiLnRyYW5zYWN0aW9uKHN0b3JlTmFtZSwgJ3JlYWR3cml0ZScpLm9iamVjdFN0b3JlKHN0b3JlTmFtZSkuZGVsZXRlKGlkKTtcclxuXHJcbiAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xyXG4gICAgICAgIHJlc29sdmUodHJ1ZSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoZSkgPT4ge1xyXG4gICAgICAgIHJlamVjdChlKTtcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuY29uc3Qgc2FuZGJveERCID0gbmV3IEluZGV4ZWREQignc2FuZGJveERCJywgMiwgWydub3RlcGFkJ10pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgc2FuZGJveERCO1xyXG4iLCJjb25zdCByZW5kZXJSYXcgPSAoc3RyaW5nLCAuLi52YWx1ZXMpID0+IHtcclxuICByZXR1cm4gU3RyaW5nLnJhdyhzdHJpbmcsIC4uLnZhbHVlcyk7XHJcbn07XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtudW1iZXJ9IHRpbWVzXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAqL1xyXG5jb25zdCByZXBlYXQgPSAodGltZXMsIGNhbGxiYWNrKSA9PiB7XHJcbiAgcmV0dXJuIG5ldyBBcnJheSh0aW1lcykuZmlsbCgnJykubWFwKGNhbGxiYWNrKS5qb2luKCcnKTtcclxufTtcclxuXHJcbmV4cG9ydCB7IHJlbmRlclJhdyBhcyBodG1sLCByZW5kZXJSYXcgYXMgY3NzLCByZXBlYXQgfTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2ViQ29tcG9uZW50IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xyXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xyXG4gICAgdGhpcy5yZW5kZXIoKTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIHRoaXMuaW5uZXJIVE1MID0gdGhpcy5pbmplY3RIVE1MKCk7XHJcbiAgfVxyXG5cclxuICBpbmplY3RIVE1MKCkge1xyXG4gICAgcmV0dXJuIGBgO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBodG1sIH0gZnJvbSAnLi91dGlscy91dGlscyc7XHJcbmltcG9ydCBXZWJDb21wb25lbnQgZnJvbSAnLi9jb3JlL1dlYkNvbXBvbmVudCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcHAgZXh0ZW5kcyBXZWJDb21wb25lbnQge1xyXG4gIGluamVjdEhUTUwoKSB7XHJcbiAgICByZXR1cm4gaHRtbGBcclxuICAgICAgPGRpdiBpZD1cInBhZ2VcIj48L2Rpdj5cclxuICAgICAgPG15LWljb25zIHRhYmluZGV4PVwiLTFcIj48L215LWljb25zPlxyXG4gICAgICA8bXktZm9vdGVyPjwvbXktZm9vdGVyPlxyXG4gICAgYDtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgaHRtbCB9IGZyb20gJy4vdXRpbHMnO1xyXG5pbXBvcnQgdGV0cmlzIGZyb20gJy4uLy4uL3B1YmxpYy90ZXRyaXMucG5nJztcclxuaW1wb3J0IGZsYXBweUJpcmQgZnJvbSAnLi4vLi4vcHVibGljL2ZsYXBweUJpcmQucG5nJztcclxuaW1wb3J0IG5vdGVwYWQgZnJvbSAnLi4vLi4vcHVibGljL25vdGVwYWQucG5nJztcclxuaW1wb3J0IHNhbmRib3hEQiBmcm9tICcuLi9jb3JlL0luZGV4ZWREQic7XHJcblxyXG5jb25zdCBCQVNFX1VSTCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnID8gJycgOiAnL2pzLXNhbmRib3gnO1xyXG5cclxuY29uc3Qgcm91dGVzID0gW1xyXG4gIHtcclxuICAgIHBhdGg6IGAvYCxcclxuICAgIGh0bWw6IGh0bWxgPG15LWhvbWU+PC9teS1ob21lPmAsXHJcbiAgICBsYWJlbDogJ0hvbWUnLFxyXG4gICAgaWNvblNyYzogbnVsbCxcclxuICB9LFxyXG4gIHtcclxuICAgIHBhdGg6IGAvdGV0cmlzYCxcclxuICAgIGh0bWw6IGh0bWxgPG15LXRldHJpcz48L215LXRldHJpcz5gLFxyXG4gICAgbGFiZWw6ICdUZXRyaXMnLFxyXG4gICAgaWNvblNyYzogdGV0cmlzLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcGF0aDogYC9mbGFwcHliaXJkYCxcclxuICAgIGh0bWw6IGh0bWxgPG15LWZsYXBweWJpcmQ+PC9teS1mbGFwcHliaXJkPmAsXHJcbiAgICBsYWJlbDogJ0ZsYXBweSZuYnNwO0JpcmQnLFxyXG4gICAgaWNvblNyYzogZmxhcHB5QmlyZCxcclxuICB9LFxyXG4gIHtcclxuICAgIHBhdGg6IGAvbm90ZXBhZGAsXHJcbiAgICBodG1sOiBodG1sYDxteS1ub3RlcGFkPjwvbXktbm90ZXBhZD5gLFxyXG4gICAgbGFiZWw6ICdOb3RlJm5ic3A7UGFkJyxcclxuICAgIGljb25TcmM6IG5vdGVwYWQsXHJcbiAgfSxcclxuICB7XHJcbiAgICBwYXRoOiBgL25vdGVwYWQvOmlkYCxcclxuICAgIGh0bWw6IGh0bWxgPG15LW5vdGVwYWQgZGF0YS1pZD1cIjppZFwiPjwvbXktbm90ZXBhZD5gLFxyXG4gICAgbGFiZWw6ICdOb3RlJm5ic3A7UGFkJyxcclxuICAgIGljb25TcmM6IG51bGwsXHJcbiAgfSxcclxuXTtcclxuXHJcbmNvbnN0IG1haW5JY29ucyA9IHJvdXRlcy5yZWR1Y2UoKHByZXYsIHJvdXRlcikgPT4ge1xyXG4gIGNvbnN0IHsgcGF0aCwgbGFiZWwsIGljb25TcmMgfSA9IHJvdXRlcjtcclxuICBpZiAoIXJvdXRlci5pY29uU3JjKSByZXR1cm4gcHJldjtcclxuICByZXR1cm4gWy4uLnByZXYsIHsgcGF0aCwgbGFiZWwsIGljb25TcmMgfV07XHJcbn0sIFtdKTtcclxuXHJcbmNvbnN0IGdldExvY2FsSWNvbnMgPSBhc3luYyAoKSA9PiB7XHJcbiAgY29uc3Qgbm90ZXBhZERhdGEgPSBhd2FpdCBzYW5kYm94REIuZ2V0QWxsRGF0YSgnbm90ZXBhZCcpO1xyXG4gIGNvbnN0IG5vdGVwYWRJY29ucyA9IG5vdGVwYWREYXRhLnJlZHVjZSgocHJldiwgaWNvbikgPT4ge1xyXG4gICAgY29uc3QgeyBpZCwgdGl0bGUgfSA9IGljb247XHJcbiAgICByZXR1cm4gWy4uLnByZXYsIHsgcGF0aDogYC9ub3RlcGFkLyR7aWR9YCwgbGFiZWw6IHRpdGxlLCBpY29uU3JjOiBub3RlcGFkIH1dO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgcmV0dXJuIFsuLi5ub3RlcGFkSWNvbnNdO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVzO1xyXG5leHBvcnQgeyBtYWluSWNvbnMsIGdldExvY2FsSWNvbnMsIEJBU0VfVVJMIH07XHJcbiIsImltcG9ydCByb3V0ZXMsIHsgQkFTRV9VUkwgfSBmcm9tICcuLi91dGlscy9yb3V0ZXMnO1xyXG5cclxuY2xhc3MgUm91dGVyIHtcclxuICBjb25zdHJ1Y3Rvcihyb3V0ZSkge1xyXG4gICAgdGhpcy5yb3V0ZXMgPSByb3V0ZTtcclxuICB9XHJcblxyXG4gIHBhdGhUb1JlZ2V4cChwYXRoKSB7XHJcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChgXiR7cGF0aC5yZXBsYWNlKC9cXC8vZywgJ1xcXFwvJykucmVwbGFjZSgvOlxcdysvZywgJyguKyknKX0kYCk7XHJcbiAgfVxyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICBjb25zdCBjdXJyZW50UGF0aCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTtcclxuICAgIGNvbnN0IHJvdXRlID0gdGhpcy5yb3V0ZXMuZmluZCgodmFsdWUpID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMucGF0aFRvUmVnZXhwKHRoaXMuZ2V0VXJsRnJvbSh2YWx1ZS5wYXRoKSkudGVzdChjdXJyZW50UGF0aCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoIXJvdXRlKSB7XHJcbiAgICAgIHRoaXMucmVwbGFjZVRvKCcvJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcGFnZScpLmlubmVySFRNTCA9IHJvdXRlLmh0bWwucmVwbGFjZSgnOmlkJywgdGhpcy5nZXRJZEZyb21QYXRoKGN1cnJlbnRQYXRoKSk7XHJcbiAgfVxyXG5cclxuICBnZXRJZEZyb21QYXRoKHBhdGgpIHtcclxuICAgIHJldHVybiBwYXRoLm1hdGNoKC9cXGQrLyk/LlswXTtcclxuICB9XHJcblxyXG4gIG5hdmlnYXRlVG8odXJsKSB7XHJcbiAgICBpZiAodGhpcy5nZXRVcmxGcm9tKHVybCkgPT09IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSkgcmV0dXJuO1xyXG4gICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKG51bGwsIG51bGwsIEJBU0VfVVJMICsgdXJsKTtcclxuICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgfVxyXG5cclxuICByZXBsYWNlVG8odXJsKSB7XHJcbiAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgbnVsbCwgQkFTRV9VUkwgKyB1cmwpO1xyXG4gICAgdGhpcy5yZW5kZXIoKTtcclxuICB9XHJcblxyXG4gIGdldFVybEZyb20odXJsKSB7XHJcbiAgICByZXR1cm4gYCR7QkFTRV9VUkx9JHt1cmx9YDtcclxuICB9XHJcblxyXG4gIGJhY2soKSB7XHJcbiAgICB3aW5kb3cuaGlzdG9yeS5iYWNrKCk7XHJcbiAgICB0aGlzLnJlbmRlcigpO1xyXG4gIH1cclxufVxyXG5cclxuY29uc3Qgcm91dGVyID0gbmV3IFJvdXRlcihyb3V0ZXMpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xyXG4iLCJpbXBvcnQgV2ViQ29tcG9uZW50IGZyb20gJy4uLy4uL2NvcmUvV2ViQ29tcG9uZW50JztcclxuaW1wb3J0IHsgaHRtbCB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJztcclxuaW1wb3J0IHsgbWFpbkljb25zIH0gZnJvbSAnLi4vLi4vdXRpbHMvcm91dGVzJztcclxuaW1wb3J0IHJvdXRlciBmcm9tICcuLi8uLi9jb3JlL1JvdXRlcic7XHJcbmltcG9ydCB3aW5kb3dMb2dvIGZyb20gJy4uLy4uLy4uL3B1YmxpYy93aW5kb3dMb2dvLnBuZyc7XHJcbmltcG9ydCBzZWFyY2hJY29uIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9zZWFyY2hJY29uLnBuZyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGb290ZXIgZXh0ZW5kcyBXZWJDb21wb25lbnQge1xyXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xyXG4gICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcclxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNsaWNrLmJpbmQodGhpcykpO1xyXG4gIH1cclxuXHJcbiAgaW5qZWN0SFRNTCgpIHtcclxuICAgIHJldHVybiBodG1sYFxyXG4gICAgICA8aW1nIGFsdD1cIndpbmRvd19sb2dvXCIgc3JjPSR7d2luZG93TG9nb30gY2xhc3M9XCJ3aW5kb3dfaWNvblwiIC8+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJpbnB1dF9ib3hcIj5cclxuICAgICAgICA8aW1nIGFsdD1cInNlYXJjaFwiIHNyYz0ke3NlYXJjaEljb259IGNsYXNzPVwid2luZG93X2ljb25cIiAvPjxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwi7LC+6riwXCIgLz5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgICR7bWFpbkljb25zXHJcbiAgICAgICAgLm1hcCgoaWNvbikgPT4ge1xyXG4gICAgICAgICAgcmV0dXJuIGh0bWxgIDxteS1pY29uIGRhdGEtcGF0aD1cIiR7aWNvbi5wYXRofVwiIGRhdGEtaWNvblNyYz1cIiR7aWNvbi5pY29uU3JjfVwiPjwvbXktaWNvbj4gYDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5qb2luKCcnKX1cclxuICAgIGA7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVDbGljayhlKSB7XHJcbiAgICBpZiAoIWUudGFyZ2V0LmNsb3Nlc3QoJ215LWljb24nKSkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGljb24gPSBlLnRhcmdldC5jbG9zZXN0KCdteS1pY29uJyk7XHJcbiAgICByb3V0ZXIubmF2aWdhdGVUbyhpY29uLmRhdGFzZXQucGF0aCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBXZWJDb21wb25lbnQgZnJvbSAnLi4vLi4vY29yZS9XZWJDb21wb25lbnQnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSG9tZSBleHRlbmRzIFdlYkNvbXBvbmVudCB7fVxyXG4iLCJjb25zdCBCTE9DS1MgPSB7XG4gIEk6IFtcbiAgICBbMCwgMCwgMCwgMF0sXG4gICAgWzEsIDEsIDEsIDFdLFxuICAgIFswLCAwLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMF0sXG4gIF0sXG4gIEo6IFtcbiAgICBbMiwgMCwgMF0sXG4gICAgWzIsIDIsIDJdLFxuICAgIFswLCAwLCAwXSxcbiAgXSxcbiAgTDogW1xuICAgIFswLCAwLCAzXSxcbiAgICBbMywgMywgM10sXG4gICAgWzAsIDAsIDBdLFxuICBdLFxuICBPOiBbXG4gICAgWzQsIDRdLFxuICAgIFs0LCA0XSxcbiAgXSxcbiAgUzogW1xuICAgIFswLCA1LCA1XSxcbiAgICBbNSwgNSwgMF0sXG4gICAgWzAsIDAsIDBdLFxuICBdLFxuICBUOiBbXG4gICAgWzAsIDYsIDBdLFxuICAgIFs2LCA2LCA2XSxcbiAgICBbMCwgMCwgMF0sXG4gIF0sXG4gIFo6IFtcbiAgICBbNywgNywgMF0sXG4gICAgWzAsIDcsIDddLFxuICAgIFswLCAwLCAwXSxcbiAgXSxcbn07XG5cbmNvbnN0IEJMT0NLX0NMQVNTRVMgPSB7XG4gIDA6ICdlbXB0eScsXG4gIDE6ICdJJyxcbiAgMjogJ0onLFxuICAzOiAnTCcsXG4gIDQ6ICdPJyxcbiAgNTogJ1MnLFxuICA2OiAnVCcsXG4gIDc6ICdaJyxcbiAgMTA6ICdJIGZyZWV6ZScsXG4gIDIwOiAnSiBmcmVlemUnLFxuICAzMDogJ0wgZnJlZXplJyxcbiAgNDA6ICdPIGZyZWV6ZScsXG4gIDUwOiAnUyBmcmVlemUnLFxuICA2MDogJ1QgZnJlZXplJyxcbiAgNzA6ICdaIGZyZWV6ZScsXG59O1xuXG5jb25zdCBTQ09SRVMgPSB7XG4gIDE6IDEwMCxcbiAgMjogMzAwLFxuICAzOiA1MDAsXG4gIDQ6IDgwMCxcbn07XG5cbmNvbnN0IEJPQVJEX1dJRFRIID0gMTA7XG5jb25zdCBCT0FSRF9IRUlHSFQgPSAyMDtcblxuZXhwb3J0IHsgQkxPQ0tTLCBCT0FSRF9IRUlHSFQsIEJPQVJEX1dJRFRILCBCTE9DS19DTEFTU0VTLCBTQ09SRVMgfTtcbiIsImltcG9ydCB7IEJMT0NLUywgQk9BUkRfSEVJR0hULCBCT0FSRF9XSURUSCwgU0NPUkVTIH0gZnJvbSAnLi4vY29uc3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXRyb21pbm8ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNyZWF0ZU5ld0Jsb2NrKCk7XG4gIH1cblxuICByb3RhdGUoYm9hcmQpIHtcbiAgICBjb25zdCByb3RhdGVkQmxvY2sgPSB0aGlzLmJsb2NrWzBdLm1hcCgoXywgaSkgPT4gdGhpcy5ibG9jay5tYXAoKHJvdykgPT4gcm93W2ldKS5yZXZlcnNlKCkpO1xuICAgIGNvbnN0IHJvdGF0ZWRXaWR0aCA9IHJvdGF0ZWRCbG9ja1swXS5sZW5ndGg7XG4gICAgY29uc3Qgcm90YXRlZEhlaWdodCA9IHJvdGF0ZWRCbG9jay5sZW5ndGg7XG4gICAgbGV0IG5ld1ggPSB0aGlzLng7XG4gICAgbGV0IG5ld1kgPSB0aGlzLnk7XG5cbiAgICBpZiAobmV3WCArIHJvdGF0ZWRXaWR0aCA+IEJPQVJEX1dJRFRIKSB7XG4gICAgICBuZXdYID0gQk9BUkRfV0lEVEggLSByb3RhdGVkV2lkdGg7XG4gICAgfVxuICAgIGlmIChuZXdYIDwgMCkge1xuICAgICAgbmV3WCA9IDA7XG4gICAgfVxuICAgIGlmIChuZXdZICsgcm90YXRlZEhlaWdodCA+IEJPQVJEX0hFSUdIVCkge1xuICAgICAgbmV3WSA9IEJPQVJEX0hFSUdIVCAtIHJvdGF0ZWRIZWlnaHQ7XG4gICAgfVxuICAgIGlmIChuZXdZIDwgMCkge1xuICAgICAgbmV3WSA9IDA7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY2FuTW92ZShib2FyZCwgbmV3WCwgbmV3WSwgcm90YXRlZEJsb2NrKSkge1xuICAgICAgdGhpcy5ibG9jayA9IHJvdGF0ZWRCbG9jaztcbiAgICAgIHRoaXMueCA9IG5ld1g7XG4gICAgICB0aGlzLnkgPSBuZXdZO1xuICAgIH1cbiAgfVxuXG4gIG1vdmVMZWZ0KGJvYXJkKSB7XG4gICAgaWYgKHRoaXMuY2FuTW92ZShib2FyZCwgdGhpcy54IC0gMSwgdGhpcy55LCB0aGlzLmJsb2NrKSkge1xuICAgICAgdGhpcy54IC09IDE7XG4gICAgfVxuICB9XG5cbiAgbW92ZVJpZ2h0KGJvYXJkKSB7XG4gICAgaWYgKHRoaXMuY2FuTW92ZShib2FyZCwgdGhpcy54ICsgMSwgdGhpcy55LCB0aGlzLmJsb2NrKSkge1xuICAgICAgdGhpcy54ICs9IDE7XG4gICAgfVxuICB9XG5cbiAgbW92ZURvd24oYm9hcmQpIHtcbiAgICBpZiAodGhpcy5jYW5Nb3ZlKGJvYXJkLCB0aGlzLngsIHRoaXMueSArIDEsIHRoaXMuYmxvY2spKSB7XG4gICAgICB0aGlzLnkgKz0gMTtcbiAgICB9IGVsc2UgaWYgKHRoaXMueSA9PT0gMCkge1xuICAgICAgdGhpcy5mcmVlemUoYm9hcmQpO1xuICAgICAgY29uc3QgJHRldHJpcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ215LXRldHJpcycpO1xuICAgICAgJHRldHJpcy5zdG9wR2FtZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmZyZWV6ZShib2FyZCk7XG4gICAgICB0aGlzLmNyZWF0ZU5ld0Jsb2NrKCk7XG4gICAgfVxuICB9XG5cbiAgZnJlZXplKGJvYXJkKSB7XG4gICAgY29uc3QgeyBibG9jaywgeCwgeSB9ID0gdGhpcztcbiAgICBibG9jay5mb3JFYWNoKChyb3csIGkpID0+IHtcbiAgICAgIHJvdy5mb3JFYWNoKChjb2wsIGopID0+IHtcbiAgICAgICAgaWYgKGNvbCAhPT0gMCkge1xuICAgICAgICAgIGJvYXJkW3kgKyBpXVt4ICsgal0gPSBjb2wgKiAxMDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBjb25zdCAkdGV0cmlzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbXktdGV0cmlzJyk7XG5cbiAgICBzcGVlZFVwKCk7XG4gICAgc2NvcmVVcChyZW1vdmVGdWxsUm93cygpKTtcblxuICAgIC8vIHRoaXMuYmxvY2sgPSBCTE9DS1MuTztcbiAgICAkdGV0cmlzLnRldHJvbWlub0NvdW50ZXIgKz0gMTtcblxuICAgIGZ1bmN0aW9uIHNwZWVkVXAoKSB7XG4gICAgICBpZiAoJHRldHJpcy50ZXRyb21pbm9Db3VudGVyID09PSAxMCkge1xuICAgICAgICAkdGV0cmlzLnRldHJvbWlub0NvdW50ZXIgPSAwO1xuICAgICAgICAkdGV0cmlzLmRyb3BJbnRlcnZhbCAqPSAwLjk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVtb3ZlRnVsbFJvd3MoKSB7XG4gICAgICBsZXQgcmVzdWx0ID0gMDtcbiAgICAgIGJvYXJkLmZvckVhY2goKHJvdywgaSkgPT4ge1xuICAgICAgICBpZiAocm93LmV2ZXJ5KChjZWxsKSA9PiBjZWxsID49IDEwKSkge1xuICAgICAgICAgIHJlc3VsdCArPSAxO1xuICAgICAgICAgIGJvYXJkLnNwbGljZShpLCAxKTtcbiAgICAgICAgICBib2FyZC51bnNoaWZ0KEFycmF5KEJPQVJEX1dJRFRIKS5maWxsKDApKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNjb3JlVXAoY2xlYXJlZFJvd3MpIHtcbiAgICAgIGlmIChjbGVhcmVkUm93cyA+IDApIHtcbiAgICAgICAgJHRldHJpcy5zY29yZSArPSBTQ09SRVNbY2xlYXJlZFJvd3NdID8/IDA7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY3JlYXRlTmV3QmxvY2soKSB7XG4gICAgdGhpcy5ibG9jayA9IE9iamVjdC52YWx1ZXMoQkxPQ0tTKVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA3KV07XG4gICAgY29uc3QgaW5pdGlhbEJsb2NrUG9zID0gdGhpcy5nZXRJbml0aWFsQmxvY2tQb3MoQk9BUkRfV0lEVEgsIHRoaXMuYmxvY2spO1xuICAgIHRoaXMueCA9IGluaXRpYWxCbG9ja1Bvcy54O1xuICAgIHRoaXMueSA9IGluaXRpYWxCbG9ja1Bvcy55O1xuICB9XG5cbiAgY2FuTW92ZShib2FyZCwgeCwgeSwgYmxvY2spIHtcbiAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCBibG9jay5sZW5ndGg7IHJvdyArPSAxKSB7XG4gICAgICBmb3IgKGxldCBjb2wgPSAwOyBjb2wgPCBibG9ja1tyb3ddLmxlbmd0aDsgY29sICs9IDEpIHtcbiAgICAgICAgaWYgKGJsb2NrW3Jvd11bY29sXSAhPT0gMCkge1xuICAgICAgICAgIGNvbnN0IG5leHRYID0geCArIGNvbDtcbiAgICAgICAgICBjb25zdCBuZXh0WSA9IHkgKyByb3c7XG4gICAgICAgICAgaWYgKG5leHRYIDwgMCB8fCBuZXh0WCA+PSBCT0FSRF9XSURUSCB8fCBuZXh0WSA8IDAgfHwgbmV4dFkgPj0gQk9BUkRfSEVJR0hUIHx8IGJvYXJkW25leHRZXVtuZXh0WF0gPj0gMTApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGdldEluaXRpYWxCbG9ja1Bvcyh3aWR0aCwgYmxvY2spIHtcbiAgICBjb25zdCBmaXJzdE5vbkVtcHR5Um93SW5kZXggPSBibG9jay5maW5kSW5kZXgoKHJvdykgPT4gcm93LnNvbWUoKGNlbGwpID0+IGNlbGwgIT09IDApKTtcblxuICAgIHJldHVybiB7XG4gICAgICB4OiBNYXRoLmZsb29yKCh3aWR0aCAtIGJsb2NrWzBdLmxlbmd0aCkgLyAyKSxcbiAgICAgIHk6IC1maXJzdE5vbkVtcHR5Um93SW5kZXgsXG4gICAgfTtcbiAgfVxuXG4gIGNsb25lKCkge1xuICAgIGNvbnN0IGNsb25lZCA9IG5ldyBUZXRyb21pbm8oKTtcbiAgICBjbG9uZWQuYmxvY2sgPSB0aGlzLmJsb2NrLm1hcCgocm93KSA9PiBbLi4ucm93XSk7XG4gICAgY2xvbmVkLnggPSB0aGlzLng7XG4gICAgY2xvbmVkLnkgPSB0aGlzLnk7XG4gICAgcmV0dXJuIGNsb25lZDtcbiAgfVxufVxuIiwiaW1wb3J0IFdlYkNvbXBvbmVudCBmcm9tICcuLi8uLi9jb3JlL1dlYkNvbXBvbmVudCc7XG5pbXBvcnQgeyBodG1sIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbHMnO1xuaW1wb3J0ICcuL3N0eWxlcy5zY3NzJztcbmltcG9ydCB7IEJMT0NLX0NMQVNTRVMsIEJPQVJEX0hFSUdIVCwgQk9BUkRfV0lEVEggfSBmcm9tICcuL2NvbnN0JztcbmltcG9ydCBUZXRyb21pbm8gZnJvbSAnLi9jbGFzcy9UZXRyb21pbm8nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXRyaXMgZXh0ZW5kcyBXZWJDb21wb25lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuYm9hcmQgPSB0aGlzLmdldEluaXRpYWxCb2FyZChCT0FSRF9XSURUSCwgQk9BUkRfSEVJR0hUKTtcbiAgICB0aGlzLnN0YXJ0ID0gZmFsc2U7XG4gICAgdGhpcy50ZXRyb21pbm8gPSBudWxsO1xuICAgIHRoaXMuc2NvcmUgPSAwO1xuICAgIHRoaXMubGFzdFRpbWUgPSBudWxsO1xuICAgIHRoaXMuZHJvcEludGVydmFsID0gMTAwMDtcbiAgICB0aGlzLnRldHJvbWlub0NvdW50ZXIgPSAwO1xuICAgIHRoaXMuc3RhcnRHYW1lID0gdGhpcy5zdGFydEdhbWUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmtleWRvd25IYW5kbGVyID0gdGhpcy5rZXlkb3duSGFuZGxlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZHJvcEJsb2NrID0gdGhpcy5kcm9wQmxvY2suYmluZCh0aGlzKTtcbiAgfVxuXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgdGhpcy5xdWVyeVNlbGVjdG9yKCcjc3RhcnQtYnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnN0YXJ0R2FtZSk7XG4gIH1cblxuICBpbmplY3RIVE1MKCkge1xuICAgIHJldHVybiBodG1sYFxuICAgICAgPGJ1dHRvbiBpZD1cInN0YXJ0LWJ1dHRvblwiPuqyjOyehCDsi5zsnpE8L2J1dHRvbj5cbiAgICAgIDxkaXYgY2xhc3M9XCJib2FyZFwiPlxuICAgICAgICAke3RoaXMuYm9hcmRcbiAgICAgICAgICAubWFwKFxuICAgICAgICAgICAgKHJvdykgPT4gaHRtbGBcbiAgICAgICAgICAgICAgPHVsPlxuICAgICAgICAgICAgICAgICR7cm93Lm1hcCgoY29sKSA9PiBodG1sYDxsaSBjbGFzcz1cImNlbGwtJHtCTE9DS19DTEFTU0VTW2NvbF19XCI+PC9saT5gKS5qb2luKCcnKX1cbiAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgIGBcbiAgICAgICAgICApXG4gICAgICAgICAgLmpvaW4oJycpfVxuICAgICAgPC9kaXY+XG4gICAgICA8c3BhbiBjbGFzcz1cInNjb3JlXCI+JHt0aGlzLnNjb3JlfTwvc3Bhbj5cbiAgICBgO1xuICB9XG5cbiAgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7XG4gICAgcmV0dXJuIFsnYm9hcmQnXTtcbiAgfVxuXG4gIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lKSB7XG4gICAgaWYgKG5hbWUgPT09ICdib2FyZCcpIHtcbiAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0SW5pdGlhbEJvYXJkKHdpZHRoLCBoZWlnaHQpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShBcnJheShoZWlnaHQpLCAoKSA9PiBBcnJheSh3aWR0aCkuZmlsbCgwKSk7XG4gIH1cblxuICBzdGFydEdhbWUoKSB7XG4gICAgaWYgKHRoaXMuc3RhcnQpIHJldHVybjtcbiAgICB0aGlzLnN0YXJ0ID0gdHJ1ZTtcbiAgICB0aGlzLnRldHJvbWlubyA9IG5ldyBUZXRyb21pbm8oKTtcbiAgICB0aGlzLnRldHJvbWlub0NvdW50ZXIgKz0gMTtcbiAgICB0aGlzLnVwZGF0ZUJvYXJkKCk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5ZG93bkhhbmRsZXIpO1xuXG4gICAgdGhpcy5sYXN0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmRyb3BCbG9jayk7XG4gIH1cblxuICBzdG9wR2FtZSgpIHtcbiAgICB0aGlzLnN0YXJ0ID0gZmFsc2U7XG4gICAgdGhpcy5ib2FyZCA9IHRoaXMuZ2V0SW5pdGlhbEJvYXJkKEJPQVJEX1dJRFRILCBCT0FSRF9IRUlHSFQpO1xuICAgIHRoaXMuc2NvcmUgPSAwO1xuICAgIHRoaXMudGV0cm9taW5vQ291bnRlciA9IDA7XG4gICAgdGhpcy5kcm9wSW50ZXJ2YWwgPSAxMDAwO1xuICAgIHRoaXMudXBkYXRlQm9hcmQoKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlkb3duSGFuZGxlcik7XG4gIH1cblxuICBkcm9wQmxvY2sodGltZXN0YW1wKSB7XG4gICAgY29uc3QgZGVsdGFUaW1lID0gdGltZXN0YW1wIC0gdGhpcy5sYXN0VGltZTtcblxuICAgIGlmIChkZWx0YVRpbWUgPiB0aGlzLmRyb3BJbnRlcnZhbCkge1xuICAgICAgY29uc3QgcHJldlRldHJvbWlubyA9IHRoaXMudGV0cm9taW5vLmNsb25lKCk7XG4gICAgICBjb25zdCBuZXdCb2FyZCA9IHRoaXMuYm9hcmQ7XG4gICAgICB0aGlzLnRldHJvbWluby5tb3ZlRG93bihuZXdCb2FyZCk7XG4gICAgICB0aGlzLnVwZGF0ZUJvYXJkKG5ld0JvYXJkLCBwcmV2VGV0cm9taW5vKTtcbiAgICAgIHRoaXMubGFzdFRpbWUgPSB0aW1lc3RhbXA7XG4gICAgfVxuXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuZHJvcEJsb2NrKTtcbiAgfVxuXG4gIGtleWRvd25IYW5kbGVyKGUpIHtcbiAgICBjb25zdCBwcmV2VGV0cm9taW5vID0gdGhpcy50ZXRyb21pbm8uY2xvbmUoKTtcbiAgICBjb25zdCBuZXdCb2FyZCA9IHRoaXMuYm9hcmQ7XG5cbiAgICBpZiAoZS5rZXkgPT09ICdBcnJvd0Rvd24nKSB7XG4gICAgICB0aGlzLnRldHJvbWluby5tb3ZlRG93bihuZXdCb2FyZCk7XG4gICAgfSBlbHNlIGlmIChlLmtleSA9PT0gJ0Fycm93VXAnKSB7XG4gICAgICB0aGlzLnRldHJvbWluby5yb3RhdGUobmV3Qm9hcmQpO1xuICAgIH0gZWxzZSBpZiAoZS5rZXkgPT09ICdBcnJvd0xlZnQnKSB7XG4gICAgICB0aGlzLnRldHJvbWluby5tb3ZlTGVmdChuZXdCb2FyZCk7XG4gICAgfSBlbHNlIGlmIChlLmtleSA9PT0gJ0Fycm93UmlnaHQnKSB7XG4gICAgICB0aGlzLnRldHJvbWluby5tb3ZlUmlnaHQobmV3Qm9hcmQpO1xuICAgIH1cblxuICAgIHRoaXMudXBkYXRlQm9hcmQobmV3Qm9hcmQsIHByZXZUZXRyb21pbm8pO1xuICB9XG5cbiAgdXBkYXRlQm9hcmQobmV3Qm9hcmQgPSB0aGlzLmJvYXJkLCBwcmV2VGV0cm9taW5vID0gbnVsbCkge1xuICAgIGlmIChwcmV2VGV0cm9taW5vKSB7XG4gICAgICB0aGlzLnJlbW92ZU9sZEJsb2NrKHByZXZUZXRyb21pbm8sIG5ld0JvYXJkKTtcbiAgICB9XG5cbiAgICB0aGlzLnB1dE5ld0Jsb2NrKHRoaXMudGV0cm9taW5vLCBuZXdCb2FyZCk7XG4gICAgdGhpcy5ib2FyZCA9IG5ld0JvYXJkO1xuICB9XG5cbiAgcmVtb3ZlT2xkQmxvY2sodGV0cm9taW5vLCBuZXdCb2FyZCkge1xuICAgIGNvbnN0IHsgYmxvY2ssIHgsIHkgfSA9IHRldHJvbWlubztcblxuICAgIGJsb2NrLmZvckVhY2goKHJvdywgaSkgPT4ge1xuICAgICAgcm93LmZvckVhY2goKGNvbCwgaikgPT4ge1xuICAgICAgICBpZiAobmV3Qm9hcmRbeSArIGldPy5beCArIGpdID09PSBjb2wpIHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgICBuZXdCb2FyZFt5ICsgaV1beCArIGpdID0gMDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBwdXROZXdCbG9jayh0ZXRyb21pbm8sIG5ld0JvYXJkKSB7XG4gICAgY29uc3QgeyB4LCB5LCBibG9jayB9ID0gdGV0cm9taW5vO1xuXG4gICAgYmxvY2suZm9yRWFjaCgocm93LCBpKSA9PiB7XG4gICAgICByb3cuZm9yRWFjaCgoY29sLCBqKSA9PiB7XG4gICAgICAgIGlmIChjb2wgIT09IDApIHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgICBuZXdCb2FyZFt5ICsgaV1beCArIGpdID0gY29sO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldCBib2FyZCgpIHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZSh0aGlzLmdldEF0dHJpYnV0ZSgnYm9hcmQnKSk7XG4gIH1cblxuICBzZXQgYm9hcmQodmFsdWUpIHtcbiAgICB0aGlzLnNldEF0dHJpYnV0ZSgnYm9hcmQnLCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuICB9XG59XG4iLCJpbXBvcnQgV2ViQ29tcG9uZW50IGZyb20gJy4uLy4uL2NvcmUvV2ViQ29tcG9uZW50JztcclxuaW1wb3J0IHsgaHRtbCB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZsYXBweUJpcmQgZXh0ZW5kcyBXZWJDb21wb25lbnQge1xyXG4gIGluamVjdEhUTUwoKSB7XHJcbiAgICByZXR1cm4gaHRtbGBcclxuICAgICAgPGgxPkZsYXBweSBCaXJkPC9oMT5cclxuICAgICAgPHA+WW91IGFyZSB2aWV3aW5nIHRoZSBGbGFwcHkgQmlyZCBjb21wb25lbnQhPC9wPlxyXG4gICAgICA8cD5Zb3UgYXJlIHZpZXdpbmcgdGhlIEZsYXBweSBCaXJkIGNvbXBvbmVudCE8L3A+XHJcbiAgICAgIDxwPllvdSBhcmUgdmlld2luZyB0aGUgRmxhcHB5IEJpcmQgY29tcG9uZW50ITwvcD5cclxuICAgICAgPHA+WW91IGFyZSB2aWV3aW5nIHRoZSBGbGFwcHkgQmlyZCBjb21wb25lbnQhPC9wPlxyXG4gICAgICA8cD5Zb3UgYXJlIHZpZXdpbmcgdGhlIEZsYXBweSBCaXJkIGNvbXBvbmVudCE8L3A+XHJcbiAgICAgIDxwPllvdSBhcmUgdmlld2luZyB0aGUgRmxhcHB5IEJpcmQgY29tcG9uZW50ITwvcD5cclxuICAgIGA7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IGh0bWwgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XHJcbmltcG9ydCByb3V0ZXIgZnJvbSAnLi4vLi4vY29yZS9Sb3V0ZXInO1xyXG5pbXBvcnQgV2ViQ29tcG9uZW50IGZyb20gJy4uLy4uL2NvcmUvV2ViQ29tcG9uZW50JztcclxuaW1wb3J0IHsgZ2V0TG9jYWxJY29ucywgbWFpbkljb25zIH0gZnJvbSAnLi4vLi4vdXRpbHMvcm91dGVzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEljb25zIGV4dGVuZHMgV2ViQ29tcG9uZW50IHtcclxuICBhc3luYyBjb25uZWN0ZWRDYWxsYmFjaygpIHtcclxuICAgIHRoaXMuaWNvbnMgPSBbLi4ubWFpbkljb25zLCAuLi4oYXdhaXQgZ2V0TG9jYWxJY29ucygpKV07XHJcbiAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xyXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2spO1xyXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdkYmxjbGljaycsIHRoaXMuaGFuZGxlRG91YmxlQ2xpY2spO1xyXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5oYW5kbGVLZXlEb3duKTtcclxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignaWNvbkNoYW5nZScsIHRoaXMuaGFuZGxlSWNvbkNoYW5nZSk7XHJcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2ljb25EZWxldGUnLCB0aGlzLmhhbmRsZUljb25EZWxldGUpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7XHJcbiAgICByZXR1cm4gWydpY29ucyddO1xyXG4gIH1cclxuXHJcbiAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKG5hbWUsIG9sZFZhbHVlLCBuZXdWYWx1ZSkge1xyXG4gICAgaWYgKG9sZFZhbHVlID09PSBuZXdWYWx1ZSkgcmV0dXJuO1xyXG4gICAgdGhpcy5yZW5kZXIoKTtcclxuICB9XHJcblxyXG4gIGluamVjdEhUTUwoKSB7XHJcbiAgICByZXR1cm4gaHRtbGBcclxuICAgICAgJHt0aGlzLmljb25zXHJcbiAgICAgICAgLm1hcCgoaWNvbikgPT4ge1xyXG4gICAgICAgICAgcmV0dXJuIGh0bWxgXHJcbiAgICAgICAgICAgIDxteS1pY29uIGRhdGEtcGF0aD0ke2ljb24ucGF0aH0gZGF0YS1sYWJlbD0ke2ljb24ubGFiZWx9IGRhdGEtaWNvblNyYz0ke2ljb24uaWNvblNyY30+PC9teS1pY29uPlxyXG4gICAgICAgICAgYDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5qb2luKCcnKX1cclxuICAgIGA7XHJcbiAgfVxyXG5cclxuICBnZXQgaWNvbnMoKSB7XHJcbiAgICByZXR1cm4gSlNPTi5wYXJzZSh0aGlzLmdldEF0dHJpYnV0ZSgnaWNvbnMnKSk7XHJcbiAgfVxyXG5cclxuICBzZXQgaWNvbnModmFsdWUpIHtcclxuICAgIHRoaXMuc2V0QXR0cmlidXRlKCdpY29ucycsIEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVDbGljayhlKSB7XHJcbiAgICBpZiAoIWUudGFyZ2V0LmNsb3Nlc3QoJ215LWljb24nKSkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGljb24gPSBlLnRhcmdldC5jbG9zZXN0KCdteS1pY29uJyk7XHJcbiAgICBpY29uLnRvZ2dsZUF0dHJpYnV0ZSgnY2hlY2tlZCcpO1xyXG4gICAgdGhpcy5xdWVyeVNlbGVjdG9yQWxsKCdteS1pY29uJykuZm9yRWFjaCgobm9kZSkgPT4ge1xyXG4gICAgICBpZiAobm9kZSAhPT0gaWNvbikge1xyXG4gICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKCdjaGVja2VkJyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlRG91YmxlQ2xpY2soZSkge1xyXG4gICAgaWYgKCFlLnRhcmdldC5jbG9zZXN0KCdteS1pY29uJykpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBpY29uID0gZS50YXJnZXQuY2xvc2VzdCgnbXktaWNvbicpO1xyXG4gICAgcm91dGVyLm5hdmlnYXRlVG8oaWNvbi5kYXRhc2V0LnBhdGgpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlS2V5RG93bihlKSB7XHJcbiAgICBjb25zdCBjaGVja2VkRWwgPSB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoJ215LWljb25bY2hlY2tlZF0nKTtcclxuICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xyXG4gICAgICBpZiAoY2hlY2tlZEVsLmxlbmd0aCA+IDEpIHJldHVybjtcclxuICAgICAgaWYgKCFjaGVja2VkRWwpIHJldHVybjtcclxuICAgICAgcm91dGVyLm5hdmlnYXRlVG8oY2hlY2tlZEVsWzBdLmRhdGFzZXQucGF0aCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVJY29uQ2hhbmdlKGUpIHtcclxuICAgIGNvbnN0IHsgcGF0aCwgbGFiZWwsIGljb25TcmMgfSA9IGUuZGV0YWlsO1xyXG4gICAgY29uc3QgcHJldkljb25JbmRleCA9IHRoaXMuaWNvbnMuZmluZEluZGV4KChpY29uKSA9PiBpY29uLnBhdGggPT09IHBhdGgpO1xyXG5cclxuICAgIGlmIChwcmV2SWNvbkluZGV4ID09PSAtMSkge1xyXG4gICAgICB0aGlzLmljb25zID0gWy4uLnRoaXMuaWNvbnMsIHsgcGF0aCwgbGFiZWwsIGljb25TcmMgfV07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBuZXdJY29ucyA9IFsuLi50aGlzLmljb25zXTtcclxuICAgICAgbmV3SWNvbnNbcHJldkljb25JbmRleF0gPSB7IHBhdGgsIGxhYmVsLCBpY29uU3JjIH07XHJcbiAgICAgIHRoaXMuaWNvbnMgPSBuZXdJY29ucztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZUljb25EZWxldGUoZSkge1xyXG4gICAgY29uc3QgeyBwYXRoIH0gPSBlLmRldGFpbDtcclxuICAgIHRoaXMuaWNvbnMgPSB0aGlzLmljb25zLmZpbHRlcigoaWNvbikgPT4gaWNvbi5wYXRoICE9PSBwYXRoKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgaHRtbCB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJztcclxuaW1wb3J0IFdlYkNvbXBvbmVudCBmcm9tICcuLi8uLi9jb3JlL1dlYkNvbXBvbmVudCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJY29uIGV4dGVuZHMgV2ViQ29tcG9uZW50IHtcclxuICBpbmplY3RIVE1MKCkge1xyXG4gICAgY29uc3QgeyBsYWJlbCwgaWNvbnNyYyB9ID0gdGhpcy5kYXRhc2V0O1xyXG4gICAgcmV0dXJuIGh0bWxgXHJcbiAgICAgIDxpbWcgYWx0PVwiJHtsYWJlbH1faWNvblwiIHNyYz0ke2ljb25zcmN9IC8+XHJcbiAgICAgICR7bGFiZWwgPyBgPHNwYW4gY2xhc3M9XCJpY29uX25hbWVcIj4ke2xhYmVsfTwvc3Bhbj5gIDogJyd9XHJcbiAgICBgO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgV2ViQ29tcG9uZW50IGZyb20gJy4uLy4uL2NvcmUvV2ViQ29tcG9uZW50JztcclxuaW1wb3J0IHsgaHRtbCB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJztcclxuaW1wb3J0ICcuL3N0eWxlcy5zY3NzJztcclxuaW1wb3J0IHNhbmRib3hEQiBmcm9tICcuLi8uLi9jb3JlL0luZGV4ZWREQic7XHJcbmltcG9ydCBOb3RlUGFkSWNvbiBmcm9tICcuLi8uLi8uLi9wdWJsaWMvbm90ZXBhZC5wbmcnO1xyXG5pbXBvcnQgcm91dGVyIGZyb20gJy4uLy4uL2NvcmUvUm91dGVyJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5vdGVQYWQgZXh0ZW5kcyBXZWJDb21wb25lbnQge1xyXG4gIGFzeW5jIGNvbm5lY3RlZENhbGxiYWNrKCkge1xyXG4gICAgdGhpcy5kYXRhID0gKGF3YWl0IHNhbmRib3hEQi5nZXREYXRhKCdub3RlcGFkJywgdGhpcy5pZCkpID8/IHtcclxuICAgICAgdGl0bGU6ICfsoJzrqqnsl4bsnYwnLFxyXG4gICAgICBjb250ZW50OiAnJyxcclxuICAgIH07XHJcbiAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xyXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdzYXZlJywgdGhpcy5oYW5kbGVTYXZlKTtcclxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignbG9jYWxTYXZlJywgdGhpcy5oYW5kbGVMb2NhbFNhdmUpO1xyXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdkZWxldGUnLCB0aGlzLmhhbmRsZURlbGV0ZSk7XHJcbiAgfVxyXG5cclxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcclxuICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2F2ZScsIHRoaXMuaGFuZGxlU2F2ZSk7XHJcbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvY2FsU2F2ZScsIHRoaXMuaGFuZGxlTG9jYWxTYXZlKTtcclxuICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignZGVsZXRlJywgdGhpcy5oYW5kbGVEZWxldGUpO1xyXG4gIH1cclxuXHJcbiAgaW5qZWN0SFRNTCgpIHtcclxuICAgIGNvbnN0IHsgdGl0bGUsIGNvbnRlbnQgfSA9IHRoaXMuZGF0YTtcclxuICAgIHJldHVybiBodG1sYFxyXG4gICAgICA8bXktbm90ZXBhZC1oZWFkZXIgdGl0bGU9JHt0aXRsZX0+PC9teS1ub3RlcGFkLWhlYWRlcj5cclxuICAgICAgPHRleHRhcmVhPiR7Y29udGVudH08L3RleHRhcmVhPlxyXG4gICAgYDtcclxuICB9XHJcblxyXG4gIGhhbmRsZUxvY2FsU2F2ZShlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBjb25zdCBub3RlUGFkRGF0YSA9IHRoaXMuZ2V0Tm90ZVBhZERhdGEoKTtcclxuICAgIGlmICghbm90ZVBhZERhdGEpIHJldHVybjtcclxuICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbbm90ZVBhZERhdGEuY29udGVudF0sIHsgdHlwZTogJ3RleHQvcGxhaW4nIH0pO1xyXG4gICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICAgIGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcbiAgICBsaW5rLmRvd25sb2FkID0gYCR7bm90ZVBhZERhdGEudGl0bGV9LnR4dGA7XHJcbiAgICBsaW5rLmNsaWNrKCk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBoYW5kbGVTYXZlKGUpIHtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICBjb25zdCBub3RlUGFkRGF0YSA9IHRoaXMuZ2V0Tm90ZVBhZERhdGEoKTtcclxuICAgIGlmICghbm90ZVBhZERhdGEpIHJldHVybjtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzYW5kYm94REIudXBzZXJ0RGF0YSgnbm90ZXBhZCcsIG5vdGVQYWREYXRhKTtcclxuXHJcbiAgICAgIGNvbnN0IHBhdGggPSBgL25vdGVwYWQvJHtyZXN1bHR9YDtcclxuXHJcbiAgICAgIGFsZXJ0KCfsoIDsnqXrkJjsl4jsirXri4jri6QuJyk7XHJcbiAgICAgIGNvbnN0IGljb25DaGFuZ2VFdmVudCA9IG5ldyBDdXN0b21FdmVudCgnaWNvbkNoYW5nZScsIHtcclxuICAgICAgICBkZXRhaWw6IHtcclxuICAgICAgICAgIHBhdGgsXHJcbiAgICAgICAgICBsYWJlbDogbm90ZVBhZERhdGEudGl0bGUsXHJcbiAgICAgICAgICBpY29uU3JjOiBOb3RlUGFkSWNvbixcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbXktaWNvbnMnKS5kaXNwYXRjaEV2ZW50KGljb25DaGFuZ2VFdmVudCk7XHJcblxyXG4gICAgICBpZiAodGhpcy5pZCA9PT0gcmVzdWx0KSB7XHJcbiAgICAgICAgdGhpcy50aXRsZSA9IG5vdGVQYWREYXRhLnRpdGxlLnJlcGxhY2UoLyZuYnNwOy9nLCAnICcpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJvdXRlci5uYXZpZ2F0ZVRvKHBhdGgpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgYWxlcnQoJ+yggOyepeyXkCDsi6TtjKjtlojsirXri4jri6QuJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBoYW5kbGVEZWxldGUoZSkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgY29uc3QgY29uZmlybVJlc3VsdCA9IHdpbmRvdy5jb25maXJtKCfsoJXrp5Ag7IKt7KCc7ZWY7Iuc6rKg7Iq164uI6rmMPycpO1xyXG4gICAgICBpZiAoIWNvbmZpcm1SZXN1bHQpIHJldHVybjtcclxuXHJcbiAgICAgIGF3YWl0IHNhbmRib3hEQi5kZWxldGVEYXRhKCdub3RlcGFkJywgdGhpcy5pZCk7XHJcblxyXG4gICAgICBhbGVydCgn7IKt7KCc65CY7JeI7Iq164uI64ukLicpO1xyXG4gICAgICBjb25zdCBpY29uRGVsZXRlRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2ljb25EZWxldGUnLCB7XHJcbiAgICAgICAgZGV0YWlsOiB7XHJcbiAgICAgICAgICBwYXRoOiBgL25vdGVwYWQvJHt0aGlzLmlkfWAsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ215LWljb25zJykuZGlzcGF0Y2hFdmVudChpY29uRGVsZXRlRXZlbnQpO1xyXG4gICAgICByb3V0ZXIucmVwbGFjZVRvKCcvbm90ZXBhZCcpO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGFsZXJ0KCfsgq3soJzsl5Ag7Iuk7Yyo7ZaI7Iq164uI64ukLicpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0Tm90ZVBhZERhdGEoKSB7XHJcbiAgICBjb25zdCBjb250ZW50RWwgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhJyk7XHJcbiAgICBjb25zdCBjb250ZW50ID0gY29udGVudEVsLnZhbHVlLnRyaW0oKTtcclxuICAgIGlmICghY29udGVudCkge1xyXG4gICAgICBhbGVydCgn64K07Jqp7J20IOyXhuyKteuLiOuLpC4nKTtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHRpdGxlO1xyXG4gICAgd2hpbGUgKCF0aXRsZSkge1xyXG4gICAgICB0aXRsZSA9IHByb21wdCgn7YyM7J2866qF7J2EIOyeheugpe2VmOyEuOyalC4nLCB0aGlzLmRhdGEudGl0bGUucmVwbGFjZSgvJm5ic3A7L2csICcgJykpO1xyXG4gICAgICBpZiAoIXRpdGxlKSB7XHJcbiAgICAgICAgY29uc3QgY29uZmlybVJlc3VsdCA9IHdpbmRvdy5jb25maXJtKCfsoJzrqqnsnYAg7ZWE7IiY7J6F64uI64ukLicpO1xyXG4gICAgICAgIGlmICghY29uZmlybVJlc3VsdCkgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpZDogdGhpcy5pZCxcclxuICAgICAgdGl0bGU6IHRpdGxlLnRyaW0oKS5yZXBsYWNlKC8gL2csICcmbmJzcDsnKSxcclxuICAgICAgY29udGVudDogY29udGVudC5yZXBsYWNlKC8gL2csICcmbmJzcDsnKSxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBnZXQgaWQoKSB7XHJcbiAgICByZXR1cm4gTnVtYmVyKHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLWlkJykpO1xyXG4gIH1cclxuXHJcbiAgc2V0IHRpdGxlKHRpdGxlKSB7XHJcbiAgICB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ215LW5vdGVwYWQtaGVhZGVyJykuc2V0QXR0cmlidXRlKCd0aXRsZScsIHRpdGxlKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHJvdXRlciBmcm9tICcuLi8uLi8uLi9jb3JlL1JvdXRlcic7XHJcblxyXG5jb25zdCBkaXNhYmxlID0gdHJ1ZTtcclxuXHJcbmNvbnN0IGJ1dHRvbnMgPSBbXHJcbiAge1xyXG4gICAgaWQ6ICdmaWxlJyxcclxuICAgIHRpdGxlOiAn7YyM7J28JyxcclxuICAgIGtleTogJ0YnLFxyXG4gICAgc2xvdHM6IFtcclxuICAgICAgeyBpZDogMSwgdGV4dDogJ+yDiOuhnCDrp4zrk6TquLAoTiknLCBrZXk6IFsnQ3RybCcsICdOJ10sIG9uQ2xpY2s6IGhhbmRsZU5ld0NsaWNrIH0sXHJcbiAgICAgIHsgaWQ6IDIsIHRleHQ6ICfrgrQg7Lu07ZOo7YSw7JeQIOyggOyepShXKScsIGtleTogWydDdHJsJywgJ1NoaWZ0JywgJ04nXSwgb25DbGljazogaGFuZGxlTG9jYWxTYXZlQ2xpY2sgfSxcclxuICAgICAgeyBpZDogMywgdGV4dDogJ+yggOyepShTKScsIGtleTogWydDdHJsJywgJ1MnXSwgb25DbGljazogaGFuZGxlU2F2ZUNsaWNrIH0sXHJcbiAgICAgIHsgaWQ6IDQsIHRleHQ6ICfsgq3soJwoRCknLCBrZXk6IFsnQ3RybCcsICdTaGlmdCcsICdTJ10sIG9uQ2xpY2s6IGhhbmRsZURlbGV0ZUNsaWNrIH0sXHJcbiAgICAgIHsgaWQ6IDUsIHRleHQ6ICftjpjsnbTsp4Ag7ISk7KCVKFUpLi4uJywga2V5OiBbXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiA2LCB0ZXh0OiAn7J247IeEKFApLi4uJywga2V5OiBbJ0N0cmwnLCAnUCddLCBkaXNhYmxlIH0sXHJcbiAgICAgIHsgaWQ6IDcsIHRleHQ6ICfrgZ3rgrTquLAoWCknLCBrZXk6IFtdLCBkaXNhYmxlIH0sXHJcbiAgICBdLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6ICdlZGl0JyxcclxuICAgIHRpdGxlOiAn7Y647KeRJyxcclxuICAgIGtleTogJ0UnLFxyXG4gICAgc2xvdHM6IFtcclxuICAgICAgeyBpZDogOCwgdGV4dDogJ+yLpO2WiSDst6jshowoVSknLCBrZXk6IFsnQ3RybCcsICdaJ10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogOSwgdGV4dDogJ+yemOudvOuCtOq4sChUKScsIGtleTogWydDdHJsJywgJ1gnXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiAxMCwgdGV4dDogJ+uzteyCrChDKScsIGtleTogWydDdHJsJywgJ0MnXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiAxMSwgdGV4dDogJ+u2meyXrOuEo+q4sChQKScsIGtleTogWydDdHJsJywgJ1YnXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiAxMiwgdGV4dDogJ+yCreygnChEKScsIGtleTogWydEZWwnXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiAxMywgdGV4dDogJ0JpbmfsnLzroZwg6rKA7IOJKFMpLi4uJywga2V5OiBbJ0N0cmwnLCAnRSddLCBkaXNhYmxlIH0sXHJcbiAgICAgIHsgaWQ6IDE0LCB0ZXh0OiAn7LC+6riwKEYpLi4uJywga2V5OiBbJ0N0cmwnLCAnRiddLCBkaXNhYmxlIH0sXHJcbiAgICAgIHsgaWQ6IDE1LCB0ZXh0OiAn64uk7J2MIOywvuq4sChOKScsIGtleTogWydGMyddLCBkaXNhYmxlIH0sXHJcbiAgICAgIHsgaWQ6IDE2LCB0ZXh0OiAn7J207KCEIOywvuq4sChWKScsIGtleTogWydTaGlmdCcsICdGMyddLCBkaXNhYmxlIH0sXHJcbiAgICAgIHsgaWQ6IDE3LCB0ZXh0OiAn67CU6r646riwKFIpLi4uJywga2V5OiBbJ0N0cmwnLCAnSCddLCBkaXNhYmxlIH0sXHJcbiAgICAgIHsgaWQ6IDE4LCB0ZXh0OiAn7J2064+ZKEcpLi4uJywga2V5OiBbJ0N0cmwnLCAnRyddLCBkaXNhYmxlIH0sXHJcbiAgICAgIHsgaWQ6IDE5LCB0ZXh0OiAn66qo65GQIOyEoO2DnShBKScsIGtleTogWydDdHJsJywgJ0EnXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiAyMCwgdGV4dDogJ+yLnOqwhC/rgqDsp5woRCknLCBrZXk6IFsnRjUnXSwgZGlzYWJsZSB9LFxyXG4gICAgXSxcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiAnZm9ybWF0JyxcclxuICAgIHRpdGxlOiAn7ISc7IudJyxcclxuICAgIGtleTogJ08nLFxyXG4gICAgc2xvdHM6IFtcclxuICAgICAgeyBpZDogMjEsIHRleHQ6ICfsnpDrj5kg7KSEIOuwlOq/iChXKScsIGtleTogW10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogMjIsIHRleHQ6ICfquIDqvLQoRikuLi4nLCBrZXk6IFtdLCBkaXNhYmxlIH0sXHJcbiAgICBdLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6ICd2aWV3JyxcclxuICAgIHRpdGxlOiAn67O06riwJyxcclxuICAgIGtleTogJ1YnLFxyXG4gICAgc2xvdHM6IFtcclxuICAgICAgeyBpZDogMjMsIHRleHQ6ICftmZXrjIDtlZjquLAoWiknLCBrZXk6IFsnQ3RybCcsICcrJ10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogMjQsIHRleHQ6ICfstpXshoztlZjquLAoWCknLCBrZXk6IFsnQ3RybCcsICctJ10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogMjUsIHRleHQ6ICfsg4Htg5wg7ZGc7Iuc7KSEKFMpJywga2V5OiBbXSwgZGlzYWJsZSB9LFxyXG4gICAgXSxcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiAnaGVscCcsXHJcbiAgICB0aXRsZTogJ+uPhOybgOunkCcsXHJcbiAgICBrZXk6ICdIJyxcclxuICAgIHNsb3RzOiBbXHJcbiAgICAgIHsgaWQ6IDI2LCB0ZXh0OiAn64+E7JuA66eQIOuztOq4sChIKScsIGtleTogW10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogMjcsIHRleHQ6ICftlLzrk5zrsLEg67O064K06riwKEYpJywga2V5OiBbXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiAyOCwgdGV4dDogJ+uplOuqqOyepSDsoJXrs7QoQSknLCBrZXk6IFtdLCBkaXNhYmxlIH0sXHJcbiAgICBdLFxyXG4gIH0sXHJcbl07XHJcblxyXG5jb25zdCBzbG90cyA9IGJ1dHRvbnMucmVkdWNlKChhY2MsIGN1cikgPT4ge1xyXG4gIHJldHVybiBbLi4uYWNjLCAuLi5jdXIuc2xvdHNdO1xyXG59LCBbXSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBidXR0b25zO1xyXG5leHBvcnQgeyBzbG90cyB9O1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlU2F2ZUNsaWNrKCkge1xyXG4gIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3NhdmUnLCB7IGJ1YmJsZXM6IHRydWUgfSkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVMb2NhbFNhdmVDbGljaygpIHtcclxuICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdsb2NhbFNhdmUnLCB7IGJ1YmJsZXM6IHRydWUgfSkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVEZWxldGVDbGljaygpIHtcclxuICBjb25zdCBub3RlcGFkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbXktbm90ZXBhZCcpO1xyXG4gIGlmICghbm90ZXBhZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKSkgcmV0dXJuO1xyXG4gIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2RlbGV0ZScsIHsgYnViYmxlczogdHJ1ZSB9KSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZU5ld0NsaWNrKCkge1xyXG4gIGNvbnN0IG5vdGVwYWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdteS1ub3RlcGFkJyk7XHJcbiAgaWYgKCFub3RlcGFkLmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpKSB7XHJcbiAgICBub3RlcGFkLnJlbmRlcigpO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuICByb3V0ZXIubmF2aWdhdGVUbygnL25vdGVwYWQnKTtcclxufVxyXG4iLCJpbXBvcnQgeyBodG1sIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvdXRpbHMnO1xyXG5pbXBvcnQgV2ViQ29tcG9uZW50IGZyb20gJy4uLy4uLy4uL2NvcmUvV2ViQ29tcG9uZW50JztcclxuaW1wb3J0IGJ1dHRvbnMsIHsgc2xvdHMgfSBmcm9tICcuLi9jb25zdC9idXR0b25zJztcclxuaW1wb3J0IE5vdGVQYWRJY29uIGZyb20gJy4uLy4uLy4uLy4uL3B1YmxpYy9ub3RlcGFkLnBuZyc7XHJcbmltcG9ydCByb3V0ZXIgZnJvbSAnLi4vLi4vLi4vY29yZS9Sb3V0ZXInO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTm90ZVBhZEhlYWRlciBleHRlbmRzIFdlYkNvbXBvbmVudCB7XHJcbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XHJcbiAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xyXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2spO1xyXG4gIH1cclxuXHJcbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XHJcbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGljayk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpIHtcclxuICAgIHJldHVybiBbJ3RpdGxlJ107XHJcbiAgfVxyXG5cclxuICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XHJcbiAgICBpZiAobmFtZSA9PT0gJ3RpdGxlJyAmJiBvbGRWYWx1ZSkge1xyXG4gICAgICB0aGlzLnF1ZXJ5U2VsZWN0b3IoJyN0aXRsZScpLmlubmVyVGV4dCA9IG5ld1ZhbHVlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaW5qZWN0SFRNTCgpIHtcclxuICAgIHJldHVybiBodG1sYFxyXG4gICAgICA8aGVhZGVyPlxyXG4gICAgICAgIDxzcGFuPlxyXG4gICAgICAgICAgPGltZyBhbHQ9XCJub3RlcGFkX2ljb25cIiBzcmM9JHtOb3RlUGFkSWNvbn0gLz5cclxuICAgICAgICAgIDxzcGFuIGlkPVwidGl0bGVcIj4ke3RoaXMudGl0bGV9PC9zcGFuPiAtIFdpbmRvd3Mg66mU66qo7J6lXHJcbiAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ2aWV3X2J1dHRvbnNcIj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJ2aWV3X2J1dHRvblwiIGlkPVwibWluaVwiPvCfl5U8L2J1dHRvbj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJ2aWV3X2J1dHRvblwiIGlkPVwiZnVsbFwiPvCfl5Y8L2J1dHRvbj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJ2aWV3X2J1dHRvblwiIGlkPVwiY2xvc2VcIj7ihak8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9oZWFkZXI+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJlZGl0X2J1dHRvbnNcIj5cclxuICAgICAgICAke2J1dHRvbnNcclxuICAgICAgICAgIC5tYXAoXHJcbiAgICAgICAgICAgIChidXR0b24pID0+IGh0bWxgXHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImVkaXRfYnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgICAke2J1dHRvbi50aXRsZX0oPHU+JHtidXR0b24ua2V5fTwvdT4pXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicG9wdXBcIj5cclxuICAgICAgICAgICAgICAgICAgJHtidXR0b24uc2xvdHNcclxuICAgICAgICAgICAgICAgICAgICAubWFwKFxyXG4gICAgICAgICAgICAgICAgICAgICAgKHNsb3QpID0+IGh0bWxgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWJcIiBkYXRhLWlkPVwiJHtzbG90LmlkfVwiIGRhdGEtZGlzYWJsZT1cIiR7ISFzbG90LmRpc2FibGV9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj4ke3Nsb3QudGV4dH08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAke3Nsb3Qua2V5Lmxlbmd0aCA+IDAgPyBgPGRpdj4ke3Nsb3Qua2V5LmpvaW4oJyArICcpfTwvZGl2PmAgOiAnJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICBgXHJcbiAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgIC5qb2luKCcnKX1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICBgXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgICAuam9pbignJyl9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgYDtcclxuICB9XHJcblxyXG4gIGhhbmRsZUNsaWNrKGUpIHtcclxuICAgIGNvbnN0IHZpZXdCdXR0b24gPSBlLnRhcmdldC5jbG9zZXN0KCcudmlld19idXR0b24nKTtcclxuICAgIGNvbnN0IGVkaXRCdXR0b24gPSBlLnRhcmdldC5jbG9zZXN0KCcuZWRpdF9idXR0b24nKTtcclxuICAgIGNvbnN0IHN1YiA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5zdWInKTtcclxuXHJcbiAgICBpZiAodmlld0J1dHRvbikge1xyXG4gICAgICB0aGlzLmNsaWNrVmlld0J1dHRvbih2aWV3QnV0dG9uKTtcclxuICAgIH0gZWxzZSBpZiAoZWRpdEJ1dHRvbikge1xyXG4gICAgICB0aGlzLmNsaWNrRWRpdEJ1dHRvbihlZGl0QnV0dG9uLCBzdWIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5jbG9zZVBvcHVwKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjbGlja1ZpZXdCdXR0b24odmlld0J1dHRvbikge1xyXG4gICAgc3dpdGNoICh2aWV3QnV0dG9uLmlkKSB7XHJcbiAgICAgIGNhc2UgJ2Z1bGwnOlxyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCdmdWxsc2NyZWVuJyk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ21pbmknOlxyXG4gICAgICBjYXNlICdjbG9zZSc6XHJcbiAgICAgICAgcm91dGVyLmJhY2soKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNsaWNrRWRpdEJ1dHRvbihlZGl0QnV0dG9uLCBzdWIpIHtcclxuICAgIGlmIChzdWIpIHtcclxuICAgICAgY29uc3Qgc2xvdElkID0gTnVtYmVyKHN1Yi5kYXRhc2V0LmlkKTtcclxuICAgICAgY29uc3QgeyBvbkNsaWNrIH0gPSBzbG90cy5maW5kKChzbG90KSA9PiBzbG90LmlkID09PSBzbG90SWQpIHx8IHt9O1xyXG4gICAgICBpZiAob25DbGljaykge1xyXG4gICAgICAgIG9uQ2xpY2suY2FsbCh0aGlzKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy50b2dnbGVQb3B1cChlZGl0QnV0dG9uKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHRvZ2dsZVBvcHVwKGVkaXRCdXR0b24pIHtcclxuICAgIGNvbnN0IHBvcHVwID0gZWRpdEJ1dHRvbi5xdWVyeVNlbGVjdG9yKCcucG9wdXAnKTtcclxuICAgIGlmIChwb3B1cC5jbGFzc0xpc3QuY29udGFpbnMoJ3Nob3cnKSkge1xyXG4gICAgICBwb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmNsb3NlUG9wdXAoKTtcclxuICAgICAgcG9wdXAuY2xhc3NMaXN0LmFkZCgnc2hvdycpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY2xvc2VQb3B1cCgpIHtcclxuICAgIGNvbnN0IHBvcHVwID0gdGhpcy5xdWVyeVNlbGVjdG9yKCcucG9wdXAuc2hvdycpO1xyXG4gICAgcG9wdXA/LmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTtcclxuICB9XHJcblxyXG4gIGdldCB0aXRsZSgpIHtcclxuICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZSgndGl0bGUnKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0ICcuL3N0eWxlLnNjc3MnO1xyXG5pbXBvcnQgc2FuZGJveERCIGZyb20gJy4vY29yZS9JbmRleGVkREInO1xyXG5pbXBvcnQgQXBwIGZyb20gJy4vQXBwJztcclxuaW1wb3J0IEZvb3RlciBmcm9tICcuL3ZpZXcvQ29tbW9uL0Zvb3Rlcic7XHJcbmltcG9ydCBIb21lIGZyb20gJy4vdmlldy9Ib21lJztcclxuaW1wb3J0IFRldHJpcyBmcm9tICcuL3ZpZXcvVGV0cmlzJztcclxuaW1wb3J0IEZsYXBweUJpcmQgZnJvbSAnLi92aWV3L0ZsYXBweUJpcmQnO1xyXG5pbXBvcnQgSWNvbnMgZnJvbSAnLi92aWV3L0NvbW1vbi9JY29ucyc7XHJcbmltcG9ydCBJY29uIGZyb20gJy4vdmlldy9Db21tb24vSWNvbic7XHJcbmltcG9ydCBOb3RlUGFkIGZyb20gJy4vdmlldy9Ob3RlUGFkJztcclxuaW1wb3J0IE5vdGVQYWRIZWFkZXIgZnJvbSAnLi92aWV3L05vdGVQYWQvY29tcG9uZW50cy9Ob3RlUGFkSGVhZGVyJztcclxuaW1wb3J0IHJvdXRlciBmcm9tICcuL2NvcmUvUm91dGVyJztcclxuXHJcbihhc3luYyAoKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IHNhbmRib3hEQi5vcGVuREIoKTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBxdWV1ZU1pY3JvdGFzaygoKSA9PiBhbGVydCgnSW5kZXhlZERC66W8IOyCrOyaqe2VoCDsiJgg7JeG7Iq164uI64ukLicpKTtcclxuICB9XHJcblxyXG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbXktYXBwJywgQXBwKTtcclxuICBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ215LWZvb3RlcicsIEZvb3Rlcik7XHJcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdteS1ob21lJywgSG9tZSk7XHJcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdteS10ZXRyaXMnLCBUZXRyaXMpO1xyXG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbXktZmxhcHB5YmlyZCcsIEZsYXBweUJpcmQpO1xyXG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbXktaWNvbnMnLCBJY29ucyk7XHJcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdteS1pY29uJywgSWNvbik7XHJcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdteS1ub3RlcGFkJywgTm90ZVBhZCk7XHJcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdteS1ub3RlcGFkLWhlYWRlcicsIE5vdGVQYWRIZWFkZXIpO1xyXG59KSgpO1xyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiByb3V0ZXIucmVuZGVyKCkpO1xyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCAoKSA9PiByb3V0ZXIucmVuZGVyKCkpO1xyXG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImRiIiwiY29uc3RydWN0b3IiLCJkYk5hbWUiLCJkYlZlcnNpb24iLCJzdG9yZXMiLCJ0aGlzIiwiYXN5bmMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlcXVlc3QiLCJ3aW5kb3ciLCJpbmRleGVkREIiLCJvcGVuIiwib25zdWNjZXNzIiwicmVzdWx0Iiwib25lcnJvciIsImUiLCJvbnVwZ3JhZGVuZWVkZWQiLCJmb3JFYWNoIiwic3RvcmUiLCJvYmplY3RTdG9yZU5hbWVzIiwiY29udGFpbnMiLCJkZWxldGVPYmplY3RTdG9yZSIsImNyZWF0ZU9iamVjdFN0b3JlIiwia2V5UGF0aCIsInN0b3JlTmFtZSIsImlkIiwidHJhbnNhY3Rpb24iLCJvYmplY3RTdG9yZSIsImdldCIsImdldEFsbCIsImRhdGEiLCJtb2RpZmllZERhdGEiLCJEYXRlIiwiZ2V0VGltZSIsInB1dCIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsImRlbGV0ZSIsInJlbmRlclJhdyIsInN0cmluZyIsInZhbHVlcyIsIlN0cmluZyIsInJhdyIsIldlYkNvbXBvbmVudCIsIkhUTUxFbGVtZW50IiwiY29ubmVjdGVkQ2FsbGJhY2siLCJyZW5kZXIiLCJpbm5lckhUTUwiLCJpbmplY3RIVE1MIiwiQXBwIiwiQkFTRV9VUkwiLCJyb3V0ZXMiLCJwYXRoIiwiaHRtbCIsImxhYmVsIiwiaWNvblNyYyIsIm1haW5JY29ucyIsInJlZHVjZSIsInByZXYiLCJyb3V0ZXIiLCJnZXRMb2NhbEljb25zIiwiaWNvbiIsInRpdGxlIiwicm91dGUiLCJwYXRoVG9SZWdleHAiLCJSZWdFeHAiLCJyZXBsYWNlIiwiY3VycmVudFBhdGgiLCJsb2NhdGlvbiIsInBhdGhuYW1lIiwiZmluZCIsInZhbHVlIiwiZ2V0VXJsRnJvbSIsInRlc3QiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJnZXRJZEZyb21QYXRoIiwicmVwbGFjZVRvIiwibWF0Y2giLCJuYXZpZ2F0ZVRvIiwidXJsIiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsInJlcGxhY2VTdGF0ZSIsImJhY2siLCJGb290ZXIiLCJzdXBlciIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVDbGljayIsImJpbmQiLCJqb2luIiwidGFyZ2V0IiwiY2xvc2VzdCIsImRhdGFzZXQiLCJIb21lIiwiQkxPQ0tTIiwiSSIsIkoiLCJMIiwiTyIsIlMiLCJUIiwiWiIsIkJMT0NLX0NMQVNTRVMiLCJTQ09SRVMiLCJCT0FSRF9XSURUSCIsIlRldHJvbWlubyIsImNyZWF0ZU5ld0Jsb2NrIiwicm90YXRlIiwiYm9hcmQiLCJyb3RhdGVkQmxvY2siLCJibG9jayIsIm1hcCIsIl8iLCJpIiwicm93IiwicmV2ZXJzZSIsInJvdGF0ZWRXaWR0aCIsImxlbmd0aCIsInJvdGF0ZWRIZWlnaHQiLCJuZXdYIiwieCIsIm5ld1kiLCJ5IiwiY2FuTW92ZSIsIm1vdmVMZWZ0IiwibW92ZVJpZ2h0IiwibW92ZURvd24iLCJmcmVlemUiLCJzdG9wR2FtZSIsImNvbCIsImoiLCIkdGV0cmlzIiwiY2xlYXJlZFJvd3MiLCJ0ZXRyb21pbm9Db3VudGVyIiwiZHJvcEludGVydmFsIiwiZXZlcnkiLCJjZWxsIiwic3BsaWNlIiwidW5zaGlmdCIsIkFycmF5IiwiZmlsbCIsInJlbW92ZUZ1bGxSb3dzIiwic2NvcmUiLCJPYmplY3QiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJpbml0aWFsQmxvY2tQb3MiLCJnZXRJbml0aWFsQmxvY2tQb3MiLCJuZXh0WCIsIm5leHRZIiwid2lkdGgiLCJmaXJzdE5vbkVtcHR5Um93SW5kZXgiLCJmaW5kSW5kZXgiLCJzb21lIiwiY2xvbmUiLCJjbG9uZWQiLCJUZXRyaXMiLCJnZXRJbml0aWFsQm9hcmQiLCJzdGFydCIsInRldHJvbWlubyIsImxhc3RUaW1lIiwic3RhcnRHYW1lIiwia2V5ZG93bkhhbmRsZXIiLCJkcm9wQmxvY2siLCJvYnNlcnZlZEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2siLCJuYW1lIiwiaGVpZ2h0IiwiZnJvbSIsInVwZGF0ZUJvYXJkIiwicGVyZm9ybWFuY2UiLCJub3ciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidGltZXN0YW1wIiwicHJldlRldHJvbWlubyIsIm5ld0JvYXJkIiwia2V5IiwicmVtb3ZlT2xkQmxvY2siLCJwdXROZXdCbG9jayIsIkpTT04iLCJwYXJzZSIsImdldEF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsInN0cmluZ2lmeSIsIkZsYXBweUJpcmQiLCJJY29ucyIsImljb25zIiwiaGFuZGxlRG91YmxlQ2xpY2siLCJoYW5kbGVLZXlEb3duIiwiaGFuZGxlSWNvbkNoYW5nZSIsImhhbmRsZUljb25EZWxldGUiLCJvbGRWYWx1ZSIsIm5ld1ZhbHVlIiwidG9nZ2xlQXR0cmlidXRlIiwicXVlcnlTZWxlY3RvckFsbCIsIm5vZGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJjaGVja2VkRWwiLCJkZXRhaWwiLCJwcmV2SWNvbkluZGV4IiwibmV3SWNvbnMiLCJmaWx0ZXIiLCJJY29uIiwiaWNvbnNyYyIsIk5vdGVQYWQiLCJjb250ZW50IiwiaGFuZGxlU2F2ZSIsImhhbmRsZUxvY2FsU2F2ZSIsImhhbmRsZURlbGV0ZSIsImRpc2Nvbm5lY3RlZENhbGxiYWNrIiwicHJldmVudERlZmF1bHQiLCJub3RlUGFkRGF0YSIsImdldE5vdGVQYWREYXRhIiwiYmxvYiIsIkJsb2IiLCJ0eXBlIiwibGluayIsImNyZWF0ZUVsZW1lbnQiLCJocmVmIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiZG93bmxvYWQiLCJjbGljayIsInN0b3BQcm9wYWdhdGlvbiIsImFsZXJ0IiwiaWNvbkNoYW5nZUV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwiZXJyIiwiY29uZmlybSIsImljb25EZWxldGVFdmVudCIsInRyaW0iLCJwcm9tcHQiLCJOdW1iZXIiLCJkaXNhYmxlIiwiYnV0dG9ucyIsInNsb3RzIiwidGV4dCIsIm9uQ2xpY2siLCJub3RlcGFkIiwiYnViYmxlcyIsImFjYyIsImN1ciIsIk5vdGVQYWRIZWFkZXIiLCJpbm5lclRleHQiLCJidXR0b24iLCJzbG90Iiwidmlld0J1dHRvbiIsImVkaXRCdXR0b24iLCJzdWIiLCJjbGlja1ZpZXdCdXR0b24iLCJjbGlja0VkaXRCdXR0b24iLCJjbG9zZVBvcHVwIiwicGFyZW50RWxlbWVudCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInNsb3RJZCIsImNhbGwiLCJ0b2dnbGVQb3B1cCIsInBvcHVwIiwicmVtb3ZlIiwiYWRkIiwicXVldWVNaWNyb3Rhc2siLCJjdXN0b21FbGVtZW50cyIsImRlZmluZSJdLCJzb3VyY2VSb290IjoiIn0=