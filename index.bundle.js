(()=>{"use strict";var e="/js-sandbox/";const t=new class{db;constructor(e,t,n){this.dbName=e,this.dbVersion=t,this.stores=n}async openDB(){return new Promise(((e,t)=>{const n=window.indexedDB.open(this.dbName,this.dbVersion);n.onsuccess=()=>{this.db=n.result,e()},n.onerror=e=>{t(e)},n.onupgradeneeded=()=>{this.db=n.result,this.stores.forEach((e=>{this.db.objectStoreNames.contains(e)&&this.db.deleteObjectStore(e),this.db.createObjectStore(e,{keyPath:"id",autoIncrement:!0})}))}}))}async getData(e,t){return new Promise(((n,i)=>{const a=this.db.transaction(e,"readonly").objectStore(e).get(t);a.onsuccess=()=>{n(a.result)},a.onerror=e=>{i(e)}}))}async getAllData(e){return new Promise(((t,n)=>{const i=this.db.transaction(e,"readonly").objectStore(e).getAll();i.onsuccess=()=>{t(i.result)},i.onerror=e=>{n(e)}}))}async upsertData(e,t){return new Promise(((n,i)=>{const a=this.db.transaction(e,"readwrite").objectStore(e).put(t);a.onsuccess=()=>{n(a.result)},a.onerror=e=>{i(e)}}))}async deleteData(e,t){return new Promise(((n,i)=>{const a=this.db.transaction(e,"readwrite").objectStore(e).delete(t);a.onsuccess=()=>{n(a.result)},a.onerror=e=>{i(e)}}))}}("sandboxDB",2,["notepad"]),n=(e,...t)=>String.raw(e,...t);class i extends HTMLElement{connectedCallback(){this.render()}render(){this.innerHTML=this.injectHTML()}injectHTML(){return""}}class a extends i{injectHTML(){return n`
      <div id="page"></div>
      <my-icons tabindex="-1"></my-icons>
      <my-footer></my-footer>
    `}}const s=e+"2a583f97b153f7da7d41.png",l=[{path:"/",html:n`<my-home></my-home>`,label:"Home",iconSrc:null,tag:"my-home"},{path:"/tetris",html:n`<my-tetris></my-tetris>`,label:"Tetris",iconSrc:e+"71c0bea6462001116fcf.png",tag:"my-tetris"},{path:"/flappybird",html:n`<my-flappybird></my-flappybird>`,label:"Flappy&nbsp;Bird",iconSrc:e+"39b884119b49599495ed.png",tag:"my-flappybird"},{path:"/notepad",html:n`<my-notepad></my-notepad>`,label:"Note&nbsp;Pad",iconSrc:s,tag:"my-notepad"},{path:"/notepad/:id",html:n`<my-notepad></my-notepad>`,label:"Note&nbsp;Pad",iconSrc:null,tag:"my-notepad"}],o=l.reduce(((e,t)=>{const{path:n,label:i,iconSrc:a}=t;return t.iconSrc?[...e,{path:n,label:i,iconSrc:a}]:e}),[]),c=async()=>[...(await t.getAllData("notepad")).reduce(((e,t)=>{const{id:n,title:i}=t;return[...e,{path:`/notepad/${n}`,label:i,iconSrc:s}]}),[])],r=l,d="/js-sandbox",h=new class{constructor(e){this.routes=e}pathToRegexp(e){return new RegExp(`^${e.replace(/\//g,"\\/").replace(/:\w+/g,"(.+)")}$`)}render(){const e=this.routes.find((e=>null!==window.location.pathname.replace(d,"").match(this.pathToRegexp(e.path))));if(e){if(e.path.includes("/:id")){const t=window.location.pathname.replace(d,"").match(/\d+/)[0];e.html=e.html.replace(`${e.tag}`,`${e.tag} id="${t}"`)}document.querySelector("#page").innerHTML=e.html}else this.replaceTo("/")}navigateTo(e){window.history.pushState(null,null,d+e),this.render()}replaceTo(e){window.history.replaceState(null,null,d+e),this.render()}back(){window.history.back(),this.render()}}(r),p=e+"59cb65e4f8f2627d6c2c.png",b=e+"bc8d31a2338dd0b3f68a.png";class u extends i{connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.handleClick.bind(this))}injectHTML(){return n`
      <img alt="window_logo" src=${p} class="window_icon" />
      <div class="input_box">
        <img alt="search" src=${b} class="window_icon" /><input type="text" placeholder="Ï∞æÍ∏∞" />
      </div>
      ${o.map((e=>n` <my-icon data-path="${e.path}" data-iconSrc="${e.iconSrc}"></my-icon> `)).join("")}
    `}handleClick(e){if(!e.target.closest("my-icon"))return;const t=e.target.closest("my-icon");h.navigateTo(t.dataset.path)}}class y extends i{}class m extends i{injectHTML(){return n`
      <h1>Tetris</h1>
      <p>You are viewing the Tetris component!</p>
    `}}class g extends i{injectHTML(){return n`
      <h1>Flappy Bird</h1>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
    `}}class k extends i{async connectedCallback(){this.icons=[...o,...await c()],super.connectedCallback(),this.addEventListener("click",this.handleClick.bind(this)),this.addEventListener("dblclick",this.handleDoubleClick.bind(this)),this.addEventListener("keydown",this.handleKeyDown.bind(this)),this.addEventListener("iconChange",(e=>{this.icons=[...this.icons,e.detail]}))}static get observedAttributes(){return["icons"]}attributeChangedCallback(e,t,n){t!==n&&this.render()}injectHTML(){return n`
      ${this.icons.map((e=>n`
            <my-icon data-path=${e.path} data-label=${e.label} data-iconSrc=${e.iconSrc}></my-icon>
          `)).join("")}
    `}get icons(){return JSON.parse(this.getAttribute("icons"))}set icons(e){this.setAttribute("icons",JSON.stringify(e))}handleClick(e){if(!e.target.closest("my-icon"))return;const t=e.target.closest("my-icon");t.toggleAttribute("checked"),this.querySelectorAll("my-icon").forEach((e=>{e!==t&&e.removeAttribute("checked")}))}handleDoubleClick(e){if(!e.target.closest("my-icon"))return;const t=e.target.closest("my-icon");h.navigateTo(t.dataset.path)}handleKeyDown(e){const t=this.querySelectorAll("my-icon[checked]");if("Enter"===e.key){if(t.length>1)return;if(!t)return;h.navigateTo(t[0].dataset.path)}}}class v extends i{injectHTML(){const{label:e,iconsrc:t}=this.dataset;return n`
      <img alt="${e}_icon" src=${t} />
      ${e?`<span class="icon_name">${e}</span>`:""}
    `}}class w extends i{async connectedCallback(){this.data=await t.getData("notepad",Number(this.getAttribute("id")))??{title:"Ï†úÎ™©ÏóÜÏùå",content:""},super.connectedCallback(),this.addEventListener("save",this.handleSave),this.addEventListener("localSave",this.handleLocalSave)}disconnectedCallback(){this.removeEventListener("save",this.handleSave),this.removeEventListener("localSave",this.handleLocalSave)}injectHTML(){const{title:e,content:t}=this.data;return n`
      <my-notepad-header title=${e}></my-notepad-header>
      <textarea>${t}</textarea>
    `}handleLocalSave(){const e=this.getNotePadData();if("fail"!==e)try{const t=new Blob([e.content],{type:"text/plain"}),n=document.createElement("a");n.href=URL.createObjectURL(t),n.download=`${e.title}.txt`,n.click()}catch(e){alert("Ï†ÄÏû•Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§."),console.error(e)}finally{this.querySelector("textarea").value=""}}async handleSave(e){e.stopPropagation();const n=this.getNotePadData();if("fail"!==n)try{const e=await t.upsertData("notepad",{title:n.title.replace(/ /g,"&nbsp;"),content:n.content.replace(/ /g,"&nbsp;").replace(/\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;")});e&&alert("Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§."),document.querySelector("my-icons").dispatchEvent(new CustomEvent("iconChange",{detail:{path:`/notepad/${e}`,label:n.title.replace(/ /g,"&nbsp;"),iconSrc:s}}))}catch(e){alert("Ï†ÄÏû•Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§."),console.error(e)}finally{this.querySelector("textarea").value=""}}getNotePadData(){const e=this.querySelector("textarea").value;if(!e)return alert("ÎÇ¥Ïö©Ïù¥ ÏóÜÏäµÎãàÎã§."),"fail";let t=prompt("Ï†ÄÏû•Ìï† ÌååÏùºÎ™ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî","Ï†úÎ™©ÏóÜÏùå");for(;null==t||""===t;){if(null===t)return"fail";t=prompt("ÌååÏùºÎ™ÖÏùÄ ÌïÑÏàòÏûÖÎãàÎã§.","Ï†úÎ™©ÏóÜÏùå")}return{title:t,content:e}}}const f=[{id:"file",title:"ÌååÏùº",key:"F",slots:[{id:1,text:"ÏÉàÎ°ú ÎßåÎì§Í∏∞(N)",key:["Ctrl","N"],disable:!0},{id:2,text:"ÎÇ¥ Ïª¥Ìì®ÌÑ∞Ïóê Ï†ÄÏû•(W)",key:["Ctrl","Shift","N"],onClick:function(){this.dispatchEvent(new CustomEvent("localSave",{bubbles:!0}))}},{id:3,text:"Ï†ÄÏû•(S)",key:["Ctrl","S"],onClick:function(){this.dispatchEvent(new CustomEvent("save",{bubbles:!0}))}},{id:4,text:"ÏÇ≠Ï†ú(D)",key:["Ctrl","Shift","S"],disable:!0},{id:5,text:"ÌéòÏù¥ÏßÄ ÏÑ§Ï†ï(U)...",key:[],disable:!0},{id:6,text:"Ïù∏ÏáÑ(P)...",key:["Ctrl","P"],disable:!0},{id:7,text:"ÎÅùÎÇ¥Í∏∞(X)",key:[],disable:!0}]},{id:"edit",title:"Ìé∏Ïßë",key:"E",slots:[{id:8,text:"Ïã§Ìñâ Ï∑®ÏÜå(U)",key:["Ctrl","Z"],disable:!0},{id:9,text:"ÏûòÎùºÎÇ¥Í∏∞(T)",key:["Ctrl","X"],disable:!0},{id:10,text:"Î≥µÏÇ¨(C)",key:["Ctrl","C"],disable:!0},{id:11,text:"Î∂ôÏó¨ÎÑ£Í∏∞(P)",key:["Ctrl","V"],disable:!0},{id:12,text:"ÏÇ≠Ï†ú(D)",key:["Del"],disable:!0},{id:13,text:"BingÏúºÎ°ú Í≤ÄÏÉâ(S)...",key:["Ctrl","E"],disable:!0},{id:14,text:"Ï∞æÍ∏∞(F)...",key:["Ctrl","F"],disable:!0},{id:15,text:"Îã§Ïùå Ï∞æÍ∏∞(N)",key:["F3"],disable:!0},{id:16,text:"Ïù¥Ï†Ñ Ï∞æÍ∏∞(V)",key:["Shift","F3"],disable:!0},{id:17,text:"Î∞îÍæ∏Í∏∞(R)...",key:["Ctrl","H"],disable:!0},{id:18,text:"Ïù¥Îèô(G)...",key:["Ctrl","G"],disable:!0},{id:19,text:"Î™®Îëê ÏÑ†ÌÉù(A)",key:["Ctrl","A"],disable:!0},{id:20,text:"ÏãúÍ∞Ñ/ÎÇ†Ïßú(D)",key:["F5"],disable:!0}]},{id:"format",title:"ÏÑúÏãù",key:"O",slots:[{id:21,text:"ÏûêÎèô Ï§Ñ Î∞îÍøà(W)",key:[],disable:!0},{id:22,text:"Í∏ÄÍº¥(F)...",key:[],disable:!0}]},{id:"view",title:"Î≥¥Í∏∞",key:"V",slots:[{id:23,text:"ÌôïÎåÄÌïòÍ∏∞(Z)",key:["Ctrl","+"],disable:!0},{id:24,text:"Ï∂ïÏÜåÌïòÍ∏∞(X)",key:["Ctrl","-"],disable:!0},{id:25,text:"ÏÉÅÌÉú ÌëúÏãúÏ§Ñ(S)",key:[],disable:!0}]},{id:"help",title:"ÎèÑÏõÄÎßê",key:"H",slots:[{id:26,text:"ÎèÑÏõÄÎßê Î≥¥Í∏∞(H)",key:[],disable:!0},{id:27,text:"ÌîºÎìúÎ∞± Î≥¥ÎÇ¥Í∏∞(F)",key:[],disable:!0},{id:28,text:"Î©îÎ™®Ïû• Ï†ïÎ≥¥(A)",key:[],disable:!0}]}],x=f.reduce(((e,t)=>[...e,...t.slots]),[]),S=f;class C extends i{connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.handleClick)}disconnectedCallback(){this.removeEventListener("click",this.handleClick)}injectHTML(){return n`
      <header>
        <span>
          <img alt="notepad_icon" src=${s} />
          ${this.title} - Windows Î©îÎ™®Ïû•
        </span>
        <div class="view_buttons">
          <button class="view_button" id="mini">üóï</button>
          <button class="view_button" id="full">üóñ</button>
          <button class="view_button" id="close">‚Ö©</button>
        </div>
      </header>
      <div class="edit_buttons">
        ${S.map((e=>n`
              <button class="edit_button">
                ${e.title}(<u>${e.key}</u>)
                <div class="popup">
                  ${e.slots.map((e=>n`
                        <div class="sub" data-id="${e.id}" data-disable="${!!e.disable}">
                          <div>${e.text}</div>
                          ${e.key.length>0?`<div>${e.key.join(" + ")}</div>`:""}
                        </div>
                      `)).join("")}
                </div>
              </button>
            `)).join("")}
      </div>
    `}handleClick(e){const t=e.target.closest(".sub");if(t){const e=Number(t.dataset.id),{onClick:n}=x.find((t=>t.id===e))||{};n&&n.call(this)}else switch(e.target.className){case"view_button":(function(e){switch(e.id){case"full":this.parentElement.classList.toggle("fullscreen");break;case"mini":case"close":h.back()}}).call(this,e.target);break;case"edit_button":(function(e){e.querySelector(".popup").classList.toggle("show"),this.querySelectorAll(".popup").forEach((t=>{t!==e.querySelector(".popup")&&t.classList.remove("show")}))}).call(this,e.target)}}get title(){return this.getAttribute("title")}}(async()=>{await t.openDB(),customElements.define("my-app",a),customElements.define("my-footer",u),customElements.define("my-home",y),customElements.define("my-tetris",m),customElements.define("my-flappybird",g),customElements.define("my-icons",k),customElements.define("my-icon",v),customElements.define("my-notepad",w),customElements.define("my-notepad-header",C)})(),window.addEventListener("load",(()=>h.render())),window.addEventListener("popstate",(()=>h.render()))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxNQUNGLElBQUssT0FDTCxJQUFLLFFBQ0gsU0FLTixHQXJCb0JMLEtBQUt4SixLQUFNWSxFQUFFcUUsUUFDN0IsTUFDRixJQUFLLGVBcUJQLFNBQW1CNkUsR0FDakJBLEVBQVEzRixjQUFjLFVBQVV5RixVQUFVQyxPQUFPLFFBQ2pEN0osS0FBS3dHLGlCQUFpQixVQUFVMUYsU0FBUzJGLElBQ25DQSxJQUFTcUQsRUFBUTNGLGNBQWMsV0FDakNzQyxFQUFLbUQsVUFBVUcsT0FBTyxPQUN4QixHQUVKLEdBM0JjUCxLQUFLeEosS0FBTVksRUFBRXFFLFFBNEI3QixDQUVJMUIsWUFDRixPQUFPdkQsS0FBS29HLGFBQWEsUUFDM0IsRUN4RkYsaUJBQ1EsV0FFTjRELGVBQWVDLE9BQU8sU0FBVXZILEdBQ2hDc0gsZUFBZUMsT0FBTyxZQUFhdEYsR0FDbkNxRixlQUFlQyxPQUFPLFVBQVc3RSxHQUNqQzRFLGVBQWVDLE9BQU8sWUFBYTVFLEdBQ25DMkUsZUFBZUMsT0FBTyxnQkFBaUIzRSxHQUN2QzBFLGVBQWVDLE9BQU8sV0FBWTFFLEdBQ2xDeUUsZUFBZUMsT0FBTyxVQUFXbkQsR0FDakNrRCxlQUFlQyxPQUFPLGFBQWNqRCxHQUNwQ2dELGVBQWVDLE9BQU8sb0JBQXFCZCxFQUM1QyxFQVpELEdBY0E3SSxPQUFPdUUsaUJBQWlCLFFBQVEsSUFBTSxhQUN0Q3ZFLE9BQU91RSxpQkFBaUIsWUFBWSxJQUFNLFkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94L3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy9jb3JlL0luZGV4ZWREQi5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvdXRpbHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL2NvcmUvV2ViQ29tcG9uZW50LmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy9BcHAuanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL3V0aWxzL3JvdXRlcy5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvY29yZS9Sb3V0ZXIuanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL3ZpZXcvQ29tbW9uL0Zvb3Rlci5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvdmlldy9Ib21lL2luZGV4LmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy92aWV3L1RldHJpcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvdmlldy9GbGFwcHlCaXJkL2luZGV4LmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy92aWV3L0NvbW1vbi9JY29ucy5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvdmlldy9Db21tb24vSWNvbi5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvdmlldy9Ob3RlUGFkL2luZGV4LmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy92aWV3L05vdGVQYWQvY29uc3QvYnV0dG9ucy5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvdmlldy9Ob3RlUGFkL2NvbXBvbmVudHMvTm90ZVBhZEhlYWRlci5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL2pzLXNhbmRib3gvXCI7IiwiY2xhc3MgSW5kZXhlZERCIHtcclxuICBkYjtcclxuXHJcbiAgLyoqXHJcbiAgICog7IOd7ISx7J6QXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRiTmFtZVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkYlZlcnNpb25cclxuICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBzdG9yZXNcclxuICAgKi9cclxuICBjb25zdHJ1Y3RvcihkYk5hbWUsIGRiVmVyc2lvbiwgc3RvcmVzKSB7XHJcbiAgICB0aGlzLmRiTmFtZSA9IGRiTmFtZTtcclxuICAgIHRoaXMuZGJWZXJzaW9uID0gZGJWZXJzaW9uO1xyXG4gICAgdGhpcy5zdG9yZXMgPSBzdG9yZXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEQiDsmKTtlIgg66mU7ISc65OcXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XHJcbiAgICovXHJcbiAgYXN5bmMgb3BlbkRCKCkge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgY29uc3QgcmVxdWVzdCA9IHdpbmRvdy5pbmRleGVkREIub3Blbih0aGlzLmRiTmFtZSwgdGhpcy5kYlZlcnNpb24pO1xyXG5cclxuICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5kYiA9IHJlcXVlc3QucmVzdWx0O1xyXG4gICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJlcXVlc3Qub25lcnJvciA9IChlKSA9PiB7XHJcbiAgICAgICAgcmVqZWN0KGUpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgcmVxdWVzdC5vbnVwZ3JhZGVuZWVkZWQgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5kYiA9IHJlcXVlc3QucmVzdWx0O1xyXG5cclxuICAgICAgICB0aGlzLnN0b3Jlcy5mb3JFYWNoKChzdG9yZSkgPT4ge1xyXG4gICAgICAgICAgaWYgKHRoaXMuZGIub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucyhzdG9yZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5kYi5kZWxldGVPYmplY3RTdG9yZShzdG9yZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLmRiLmNyZWF0ZU9iamVjdFN0b3JlKHN0b3JlLCB7IGtleVBhdGg6ICdpZCcsIGF1dG9JbmNyZW1lbnQ6IHRydWUgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOuNsOydtO2EsCDsobDtmowg66mU7ISc65OcXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0b3JlTmFtZVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpZFxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPG9iamVjdD59XHJcbiAgICovXHJcbiAgYXN5bmMgZ2V0RGF0YShzdG9yZU5hbWUsIGlkKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5kYi50cmFuc2FjdGlvbihzdG9yZU5hbWUsICdyZWFkb25seScpLm9iamVjdFN0b3JlKHN0b3JlTmFtZSkuZ2V0KGlkKTtcclxuXHJcbiAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xyXG4gICAgICAgIHJlc29sdmUocmVxdWVzdC5yZXN1bHQpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgcmVxdWVzdC5vbmVycm9yID0gKGUpID0+IHtcclxuICAgICAgICByZWplY3QoZSk7XHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOuNsOydtO2EsCDsoITssrQg7KGw7ZqMIOuplOyEnOuTnFxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdG9yZU5hbWVcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxvYmplY3RbXT59XHJcbiAgICovXHJcbiAgYXN5bmMgZ2V0QWxsRGF0YShzdG9yZU5hbWUpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSB0aGlzLmRiLnRyYW5zYWN0aW9uKHN0b3JlTmFtZSwgJ3JlYWRvbmx5Jykub2JqZWN0U3RvcmUoc3RvcmVOYW1lKS5nZXRBbGwoKTtcclxuXHJcbiAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xyXG4gICAgICAgIHJlc29sdmUocmVxdWVzdC5yZXN1bHQpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgcmVxdWVzdC5vbmVycm9yID0gKGUpID0+IHtcclxuICAgICAgICByZWplY3QoZSk7XHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOuNsOydtO2EsCDstpTqsIAg66mU7ISc65OcXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0b3JlTmFtZVxyXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8b2JqZWN0Pn1cclxuICAgKi9cclxuICBhc3luYyB1cHNlcnREYXRhKHN0b3JlTmFtZSwgZGF0YSkge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgY29uc3QgcmVxdWVzdCA9IHRoaXMuZGIudHJhbnNhY3Rpb24oc3RvcmVOYW1lLCAncmVhZHdyaXRlJykub2JqZWN0U3RvcmUoc3RvcmVOYW1lKS5wdXQoZGF0YSk7XHJcblxyXG4gICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcclxuICAgICAgICByZXNvbHZlKHJlcXVlc3QucmVzdWx0KTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJlcXVlc3Qub25lcnJvciA9IChlKSA9PiB7XHJcbiAgICAgICAgcmVqZWN0KGUpO1xyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDrjbDsnbTthLAg7IKt7KCcIOuplOyEnOuTnFxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdG9yZU5hbWVcclxuICAgKiBAcGFyYW0ge251bWJlcn0gaWRcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxvYmplY3Q+fVxyXG4gICAqL1xyXG4gIGFzeW5jIGRlbGV0ZURhdGEoc3RvcmVOYW1lLCBpZCkge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgY29uc3QgcmVxdWVzdCA9IHRoaXMuZGIudHJhbnNhY3Rpb24oc3RvcmVOYW1lLCAncmVhZHdyaXRlJykub2JqZWN0U3RvcmUoc3RvcmVOYW1lKS5kZWxldGUoaWQpO1xyXG5cclxuICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XHJcbiAgICAgICAgcmVzb2x2ZShyZXF1ZXN0LnJlc3VsdCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoZSkgPT4ge1xyXG4gICAgICAgIHJlamVjdChlKTtcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuY29uc3Qgc2FuZGJveERCID0gbmV3IEluZGV4ZWREQignc2FuZGJveERCJywgMiwgWydub3RlcGFkJ10pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgc2FuZGJveERCO1xyXG4iLCJjb25zdCByZW5kZXJSYXcgPSAoc3RyaW5nLCAuLi52YWx1ZXMpID0+IHtcclxuICByZXR1cm4gU3RyaW5nLnJhdyhzdHJpbmcsIC4uLnZhbHVlcyk7XHJcbn07XHJcblxyXG5leHBvcnQgeyByZW5kZXJSYXcgYXMgaHRtbCwgcmVuZGVyUmF3IGFzIGNzcyB9O1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBXZWJDb21wb25lbnQgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgdGhpcy5pbm5lckhUTUwgPSB0aGlzLmluamVjdEhUTUwoKTtcbiAgfVxuXG4gIGluamVjdEhUTUwoKSB7XG4gICAgcmV0dXJuIGBgO1xuICB9XG59XG4iLCJpbXBvcnQgeyBodG1sIH0gZnJvbSAnLi91dGlscy91dGlscyc7XG5pbXBvcnQgV2ViQ29tcG9uZW50IGZyb20gJy4vY29yZS9XZWJDb21wb25lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcHAgZXh0ZW5kcyBXZWJDb21wb25lbnQge1xuICBpbmplY3RIVE1MKCkge1xuICAgIHJldHVybiBodG1sYFxuICAgICAgPGRpdiBpZD1cInBhZ2VcIj48L2Rpdj5cbiAgICAgIDxteS1pY29ucyB0YWJpbmRleD1cIi0xXCI+PC9teS1pY29ucz5cbiAgICAgIDxteS1mb290ZXI+PC9teS1mb290ZXI+XG4gICAgYDtcbiAgfVxufVxuIiwiaW1wb3J0IHsgaHRtbCB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHRldHJpcyBmcm9tICcuLi8uLi9wdWJsaWMvdGV0cmlzLnBuZyc7XG5pbXBvcnQgZmxhcHB5QmlyZCBmcm9tICcuLi8uLi9wdWJsaWMvZmxhcHB5QmlyZC5wbmcnO1xuaW1wb3J0IG5vdGVwYWQgZnJvbSAnLi4vLi4vcHVibGljL25vdGVwYWQucG5nJztcbmltcG9ydCBzYW5kYm94REIgZnJvbSAnLi4vY29yZS9JbmRleGVkREInO1xuXG5jb25zdCByb3V0ZXMgPSBbXG4gIHtcbiAgICBwYXRoOiAnLycsXG4gICAgaHRtbDogaHRtbGA8bXktaG9tZT48L215LWhvbWU+YCxcbiAgICBsYWJlbDogJ0hvbWUnLFxuICAgIGljb25TcmM6IG51bGwsXG4gICAgdGFnOiAnbXktaG9tZScsXG4gIH0sXG4gIHtcbiAgICBwYXRoOiAnL3RldHJpcycsXG4gICAgaHRtbDogaHRtbGA8bXktdGV0cmlzPjwvbXktdGV0cmlzPmAsXG4gICAgbGFiZWw6ICdUZXRyaXMnLFxuICAgIGljb25TcmM6IHRldHJpcyxcbiAgICB0YWc6ICdteS10ZXRyaXMnLFxuICB9LFxuICB7XG4gICAgcGF0aDogJy9mbGFwcHliaXJkJyxcbiAgICBodG1sOiBodG1sYDxteS1mbGFwcHliaXJkPjwvbXktZmxhcHB5YmlyZD5gLFxuICAgIGxhYmVsOiAnRmxhcHB5Jm5ic3A7QmlyZCcsXG4gICAgaWNvblNyYzogZmxhcHB5QmlyZCxcbiAgICB0YWc6ICdteS1mbGFwcHliaXJkJyxcbiAgfSxcbiAge1xuICAgIHBhdGg6ICcvbm90ZXBhZCcsXG4gICAgaHRtbDogaHRtbGA8bXktbm90ZXBhZD48L215LW5vdGVwYWQ+YCxcbiAgICBsYWJlbDogJ05vdGUmbmJzcDtQYWQnLFxuICAgIGljb25TcmM6IG5vdGVwYWQsXG4gICAgdGFnOiAnbXktbm90ZXBhZCcsXG4gIH0sXG4gIHtcbiAgICBwYXRoOiAnL25vdGVwYWQvOmlkJyxcbiAgICBodG1sOiBodG1sYDxteS1ub3RlcGFkPjwvbXktbm90ZXBhZD5gLFxuICAgIGxhYmVsOiAnTm90ZSZuYnNwO1BhZCcsXG4gICAgaWNvblNyYzogbnVsbCxcbiAgICB0YWc6ICdteS1ub3RlcGFkJyxcbiAgfSxcbl07XG5cbmNvbnN0IG1haW5JY29ucyA9IHJvdXRlcy5yZWR1Y2UoKHByZXYsIHJvdXRlcikgPT4ge1xuICBjb25zdCB7IHBhdGgsIGxhYmVsLCBpY29uU3JjIH0gPSByb3V0ZXI7XG4gIGlmICghcm91dGVyLmljb25TcmMpIHJldHVybiBwcmV2O1xuICByZXR1cm4gWy4uLnByZXYsIHsgcGF0aCwgbGFiZWwsIGljb25TcmMgfV07XG59LCBbXSk7XG5cbmNvbnN0IGdldExvY2FsSWNvbnMgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IG5vdGVwYWREYXRhID0gYXdhaXQgc2FuZGJveERCLmdldEFsbERhdGEoJ25vdGVwYWQnKTtcbiAgY29uc3Qgbm90ZXBhZEljb25zID0gbm90ZXBhZERhdGEucmVkdWNlKChwcmV2LCBpY29uKSA9PiB7XG4gICAgY29uc3QgeyBpZCwgdGl0bGUgfSA9IGljb247XG4gICAgcmV0dXJuIFsuLi5wcmV2LCB7IHBhdGg6IGAvbm90ZXBhZC8ke2lkfWAsIGxhYmVsOiB0aXRsZSwgaWNvblNyYzogbm90ZXBhZCB9XTtcbiAgfSwgW10pO1xuXG4gIHJldHVybiBbLi4ubm90ZXBhZEljb25zXTtcbn07XG5cbmNvbnN0IEJBU0VfVVJMID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgPyAnJyA6ICcvanMtc2FuZGJveCc7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcztcbmV4cG9ydCB7IG1haW5JY29ucywgZ2V0TG9jYWxJY29ucywgQkFTRV9VUkwgfTtcbiIsImltcG9ydCByb3V0ZXMgZnJvbSAnLi4vdXRpbHMvcm91dGVzJztcblxuY29uc3QgQkFTRV9VUkwgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/ICcnIDogJy9qcy1zYW5kYm94JztcblxuY2xhc3MgUm91dGVyIHtcbiAgY29uc3RydWN0b3Iocm91dGUpIHtcbiAgICB0aGlzLnJvdXRlcyA9IHJvdXRlO1xuICB9XG5cbiAgcGF0aFRvUmVnZXhwKHBhdGgpIHtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChgXiR7cGF0aC5yZXBsYWNlKC9cXC8vZywgJ1xcXFwvJykucmVwbGFjZSgvOlxcdysvZywgJyguKyknKX0kYCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qgcm91dGUgPSB0aGlzLnJvdXRlcy5maW5kKFxuICAgICAgKHZhbHVlKSA9PiB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZShCQVNFX1VSTCwgJycpLm1hdGNoKHRoaXMucGF0aFRvUmVnZXhwKHZhbHVlLnBhdGgpKSAhPT0gbnVsbFxuICAgICk7XG5cbiAgICBpZiAoIXJvdXRlKSB7XG4gICAgICB0aGlzLnJlcGxhY2VUbygnLycpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChyb3V0ZS5wYXRoLmluY2x1ZGVzKCcvOmlkJykpIHtcbiAgICAgIGNvbnN0IGlkID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoQkFTRV9VUkwsICcnKS5tYXRjaCgvXFxkKy8pWzBdO1xuICAgICAgcm91dGUuaHRtbCA9IHJvdXRlLmh0bWwucmVwbGFjZShgJHtyb3V0ZS50YWd9YCwgYCR7cm91dGUudGFnfSBpZD1cIiR7aWR9XCJgKTtcbiAgICB9XG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcGFnZScpLmlubmVySFRNTCA9IHJvdXRlLmh0bWw7XG4gIH1cblxuICBuYXZpZ2F0ZVRvKHVybCkge1xuICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZShudWxsLCBudWxsLCBCQVNFX1VSTCArIHVybCk7XG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxuXG4gIHJlcGxhY2VUbyh1cmwpIHtcbiAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgbnVsbCwgQkFTRV9VUkwgKyB1cmwpO1xuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cblxuICBiYWNrKCkge1xuICAgIHdpbmRvdy5oaXN0b3J5LmJhY2soKTtcbiAgICB0aGlzLnJlbmRlcigpO1xuICB9XG59XG5cbmNvbnN0IHJvdXRlciA9IG5ldyBSb3V0ZXIocm91dGVzKTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIiwiaW1wb3J0IFdlYkNvbXBvbmVudCBmcm9tICcuLi8uLi9jb3JlL1dlYkNvbXBvbmVudCc7XHJcbmltcG9ydCB7IGh0bWwgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XHJcbmltcG9ydCB7IG1haW5JY29ucyB9IGZyb20gJy4uLy4uL3V0aWxzL3JvdXRlcyc7XHJcbmltcG9ydCByb3V0ZXIgZnJvbSAnLi4vLi4vY29yZS9Sb3V0ZXInO1xyXG5pbXBvcnQgd2luZG93TG9nbyBmcm9tICcuLi8uLi8uLi9wdWJsaWMvd2luZG93TG9nby5wbmcnO1xyXG5pbXBvcnQgc2VhcmNoSWNvbiBmcm9tICcuLi8uLi8uLi9wdWJsaWMvc2VhcmNoSWNvbi5wbmcnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9vdGVyIGV4dGVuZHMgV2ViQ29tcG9uZW50IHtcclxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcclxuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XHJcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpKTtcclxuICB9XHJcblxyXG4gIGluamVjdEhUTUwoKSB7XHJcbiAgICByZXR1cm4gaHRtbGBcclxuICAgICAgPGltZyBhbHQ9XCJ3aW5kb3dfbG9nb1wiIHNyYz0ke3dpbmRvd0xvZ299IGNsYXNzPVwid2luZG93X2ljb25cIiAvPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiaW5wdXRfYm94XCI+XHJcbiAgICAgICAgPGltZyBhbHQ9XCJzZWFyY2hcIiBzcmM9JHtzZWFyY2hJY29ufSBjbGFzcz1cIndpbmRvd19pY29uXCIgLz48aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIuywvuq4sFwiIC8+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICAke21haW5JY29uc1xyXG4gICAgICAgIC5tYXAoKGljb24pID0+IHtcclxuICAgICAgICAgIHJldHVybiBodG1sYCA8bXktaWNvbiBkYXRhLXBhdGg9XCIke2ljb24ucGF0aH1cIiBkYXRhLWljb25TcmM9XCIke2ljb24uaWNvblNyY31cIj48L215LWljb24+IGA7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuam9pbignJyl9XHJcbiAgICBgO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlQ2xpY2soZSkge1xyXG4gICAgaWYgKCFlLnRhcmdldC5jbG9zZXN0KCdteS1pY29uJykpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBpY29uID0gZS50YXJnZXQuY2xvc2VzdCgnbXktaWNvbicpO1xyXG4gICAgcm91dGVyLm5hdmlnYXRlVG8oaWNvbi5kYXRhc2V0LnBhdGgpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgV2ViQ29tcG9uZW50IGZyb20gJy4uLy4uL2NvcmUvV2ViQ29tcG9uZW50JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhvbWUgZXh0ZW5kcyBXZWJDb21wb25lbnQge31cclxuIiwiaW1wb3J0IFdlYkNvbXBvbmVudCBmcm9tICcuLi8uLi9jb3JlL1dlYkNvbXBvbmVudCc7XHJcbmltcG9ydCB7IGh0bWwgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXRyaXMgZXh0ZW5kcyBXZWJDb21wb25lbnQge1xyXG4gIGluamVjdEhUTUwoKSB7XHJcbiAgICByZXR1cm4gaHRtbGBcclxuICAgICAgPGgxPlRldHJpczwvaDE+XHJcbiAgICAgIDxwPllvdSBhcmUgdmlld2luZyB0aGUgVGV0cmlzIGNvbXBvbmVudCE8L3A+XHJcbiAgICBgO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgV2ViQ29tcG9uZW50IGZyb20gJy4uLy4uL2NvcmUvV2ViQ29tcG9uZW50JztcclxuaW1wb3J0IHsgaHRtbCB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZsYXBweUJpcmQgZXh0ZW5kcyBXZWJDb21wb25lbnQge1xyXG4gIGluamVjdEhUTUwoKSB7XHJcbiAgICByZXR1cm4gaHRtbGBcclxuICAgICAgPGgxPkZsYXBweSBCaXJkPC9oMT5cclxuICAgICAgPHA+WW91IGFyZSB2aWV3aW5nIHRoZSBGbGFwcHkgQmlyZCBjb21wb25lbnQhPC9wPlxyXG4gICAgICA8cD5Zb3UgYXJlIHZpZXdpbmcgdGhlIEZsYXBweSBCaXJkIGNvbXBvbmVudCE8L3A+XHJcbiAgICAgIDxwPllvdSBhcmUgdmlld2luZyB0aGUgRmxhcHB5IEJpcmQgY29tcG9uZW50ITwvcD5cclxuICAgICAgPHA+WW91IGFyZSB2aWV3aW5nIHRoZSBGbGFwcHkgQmlyZCBjb21wb25lbnQhPC9wPlxyXG4gICAgICA8cD5Zb3UgYXJlIHZpZXdpbmcgdGhlIEZsYXBweSBCaXJkIGNvbXBvbmVudCE8L3A+XHJcbiAgICAgIDxwPllvdSBhcmUgdmlld2luZyB0aGUgRmxhcHB5IEJpcmQgY29tcG9uZW50ITwvcD5cclxuICAgIGA7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IGh0bWwgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XHJcbmltcG9ydCByb3V0ZXIgZnJvbSAnLi4vLi4vY29yZS9Sb3V0ZXInO1xyXG5pbXBvcnQgV2ViQ29tcG9uZW50IGZyb20gJy4uLy4uL2NvcmUvV2ViQ29tcG9uZW50JztcclxuaW1wb3J0IHsgZ2V0TG9jYWxJY29ucywgbWFpbkljb25zIH0gZnJvbSAnLi4vLi4vdXRpbHMvcm91dGVzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEljb25zIGV4dGVuZHMgV2ViQ29tcG9uZW50IHtcclxuICBhc3luYyBjb25uZWN0ZWRDYWxsYmFjaygpIHtcclxuICAgIHRoaXMuaWNvbnMgPSBbLi4ubWFpbkljb25zLCAuLi4oYXdhaXQgZ2V0TG9jYWxJY29ucygpKV07XHJcbiAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xyXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzKSk7XHJcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgdGhpcy5oYW5kbGVEb3VibGVDbGljay5iaW5kKHRoaXMpKTtcclxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlS2V5RG93bi5iaW5kKHRoaXMpKTtcclxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignaWNvbkNoYW5nZScsIChlKSA9PiB7XHJcbiAgICAgIHRoaXMuaWNvbnMgPSBbLi4udGhpcy5pY29ucywgZS5kZXRhaWxdO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpIHtcclxuICAgIHJldHVybiBbJ2ljb25zJ107XHJcbiAgfVxyXG5cclxuICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XHJcbiAgICBpZiAob2xkVmFsdWUgPT09IG5ld1ZhbHVlKSByZXR1cm47XHJcbiAgICB0aGlzLnJlbmRlcigpO1xyXG4gIH1cclxuXHJcbiAgaW5qZWN0SFRNTCgpIHtcclxuICAgIHJldHVybiBodG1sYFxyXG4gICAgICAke3RoaXMuaWNvbnNcclxuICAgICAgICAubWFwKChpY29uKSA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gaHRtbGBcclxuICAgICAgICAgICAgPG15LWljb24gZGF0YS1wYXRoPSR7aWNvbi5wYXRofSBkYXRhLWxhYmVsPSR7aWNvbi5sYWJlbH0gZGF0YS1pY29uU3JjPSR7aWNvbi5pY29uU3JjfT48L215LWljb24+XHJcbiAgICAgICAgICBgO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmpvaW4oJycpfVxyXG4gICAgYDtcclxuICB9XHJcblxyXG4gIGdldCBpY29ucygpIHtcclxuICAgIHJldHVybiBKU09OLnBhcnNlKHRoaXMuZ2V0QXR0cmlidXRlKCdpY29ucycpKTtcclxuICB9XHJcblxyXG4gIHNldCBpY29ucyh2YWx1ZSkge1xyXG4gICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ2ljb25zJywgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUNsaWNrKGUpIHtcclxuICAgIGlmICghZS50YXJnZXQuY2xvc2VzdCgnbXktaWNvbicpKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgaWNvbiA9IGUudGFyZ2V0LmNsb3Nlc3QoJ215LWljb24nKTtcclxuICAgIGljb24udG9nZ2xlQXR0cmlidXRlKCdjaGVja2VkJyk7XHJcbiAgICB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoJ215LWljb24nKS5mb3JFYWNoKChub2RlKSA9PiB7XHJcbiAgICAgIGlmIChub2RlICE9PSBpY29uKSB7XHJcbiAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUoJ2NoZWNrZWQnKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVEb3VibGVDbGljayhlKSB7XHJcbiAgICBpZiAoIWUudGFyZ2V0LmNsb3Nlc3QoJ215LWljb24nKSkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGljb24gPSBlLnRhcmdldC5jbG9zZXN0KCdteS1pY29uJyk7XHJcbiAgICByb3V0ZXIubmF2aWdhdGVUbyhpY29uLmRhdGFzZXQucGF0aCk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVLZXlEb3duKGUpIHtcclxuICAgIGNvbnN0IGNoZWNrZWRFbCA9IHRoaXMucXVlcnlTZWxlY3RvckFsbCgnbXktaWNvbltjaGVja2VkXScpO1xyXG4gICAgaWYgKGUua2V5ID09PSAnRW50ZXInKSB7XHJcbiAgICAgIGlmIChjaGVja2VkRWwubGVuZ3RoID4gMSkgcmV0dXJuO1xyXG4gICAgICBpZiAoIWNoZWNrZWRFbCkgcmV0dXJuO1xyXG4gICAgICByb3V0ZXIubmF2aWdhdGVUbyhjaGVja2VkRWxbMF0uZGF0YXNldC5wYXRoKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgaHRtbCB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJztcclxuaW1wb3J0IFdlYkNvbXBvbmVudCBmcm9tICcuLi8uLi9jb3JlL1dlYkNvbXBvbmVudCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJY29uIGV4dGVuZHMgV2ViQ29tcG9uZW50IHtcclxuICBpbmplY3RIVE1MKCkge1xyXG4gICAgY29uc3QgeyBsYWJlbCwgaWNvbnNyYyB9ID0gdGhpcy5kYXRhc2V0O1xyXG4gICAgcmV0dXJuIGh0bWxgXHJcbiAgICAgIDxpbWcgYWx0PVwiJHtsYWJlbH1faWNvblwiIHNyYz0ke2ljb25zcmN9IC8+XHJcbiAgICAgICR7bGFiZWwgPyBgPHNwYW4gY2xhc3M9XCJpY29uX25hbWVcIj4ke2xhYmVsfTwvc3Bhbj5gIDogJyd9XHJcbiAgICBgO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgV2ViQ29tcG9uZW50IGZyb20gJy4uLy4uL2NvcmUvV2ViQ29tcG9uZW50JztcbmltcG9ydCB7IGh0bWwgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XG5pbXBvcnQgJy4vc3R5bGVzLnNjc3MnO1xuaW1wb3J0IHNhbmRib3hEQiBmcm9tICcuLi8uLi9jb3JlL0luZGV4ZWREQic7XG5pbXBvcnQgTm90ZVBhZEljb24gZnJvbSAnLi4vLi4vLi4vcHVibGljL25vdGVwYWQucG5nJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTm90ZVBhZCBleHRlbmRzIFdlYkNvbXBvbmVudCB7XG4gIGFzeW5jIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMuZGF0YSA9IChhd2FpdCBzYW5kYm94REIuZ2V0RGF0YSgnbm90ZXBhZCcsIE51bWJlcih0aGlzLmdldEF0dHJpYnV0ZSgnaWQnKSkpKSA/PyB7XG4gICAgICB0aXRsZTogJ+ygnOuqqeyXhuydjCcsXG4gICAgICBjb250ZW50OiAnJyxcbiAgICB9O1xuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdzYXZlJywgdGhpcy5oYW5kbGVTYXZlKTtcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2xvY2FsU2F2ZScsIHRoaXMuaGFuZGxlTG9jYWxTYXZlKTtcbiAgfVxuXG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2F2ZScsIHRoaXMuaGFuZGxlU2F2ZSk7XG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2NhbFNhdmUnLCB0aGlzLmhhbmRsZUxvY2FsU2F2ZSk7XG4gIH1cblxuICBpbmplY3RIVE1MKCkge1xuICAgIGNvbnN0IHsgdGl0bGUsIGNvbnRlbnQgfSA9IHRoaXMuZGF0YTtcbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxteS1ub3RlcGFkLWhlYWRlciB0aXRsZT0ke3RpdGxlfT48L215LW5vdGVwYWQtaGVhZGVyPlxuICAgICAgPHRleHRhcmVhPiR7Y29udGVudH08L3RleHRhcmVhPlxuICAgIGA7XG4gIH1cblxuICBoYW5kbGVMb2NhbFNhdmUoKSB7XG4gICAgY29uc3Qgbm90ZVBhZERhdGEgPSB0aGlzLmdldE5vdGVQYWREYXRhKCk7XG4gICAgaWYgKG5vdGVQYWREYXRhID09PSAnZmFpbCcpIHJldHVybjtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW25vdGVQYWREYXRhLmNvbnRlbnRdLCB7IHR5cGU6ICd0ZXh0L3BsYWluJyB9KTtcbiAgICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICBsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgbGluay5kb3dubG9hZCA9IGAke25vdGVQYWREYXRhLnRpdGxlfS50eHRgO1xuICAgICAgbGluay5jbGljaygpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgYWxlcnQoJ+yggOyepeyXkCDsi6TtjKjtlojsirXri4jri6QuJyk7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRoaXMucXVlcnlTZWxlY3RvcigndGV4dGFyZWEnKS52YWx1ZSA9ICcnO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGhhbmRsZVNhdmUoZSkge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgY29uc3Qgbm90ZVBhZERhdGEgPSB0aGlzLmdldE5vdGVQYWREYXRhKCk7XG4gICAgaWYgKG5vdGVQYWREYXRhID09PSAnZmFpbCcpIHJldHVybjtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzYW5kYm94REIudXBzZXJ0RGF0YSgnbm90ZXBhZCcsIHtcbiAgICAgICAgdGl0bGU6IG5vdGVQYWREYXRhLnRpdGxlLnJlcGxhY2UoLyAvZywgJyZuYnNwOycpLFxuICAgICAgICBjb250ZW50OiBub3RlUGFkRGF0YS5jb250ZW50XG4gICAgICAgICAgLnJlcGxhY2UoLyAvZywgJyZuYnNwOycpXG4gICAgICAgICAgLnJlcGxhY2UoL1xcbi9nLCAnPGJyPicpXG4gICAgICAgICAgLnJlcGxhY2UoL1xcdC9nLCAnJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7JyksXG4gICAgICB9KTtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgYWxlcnQoJ+yggOyepeuQmOyXiOyKteuLiOuLpC4nKTtcbiAgICAgIH1cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ215LWljb25zJykuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgbmV3IEN1c3RvbUV2ZW50KCdpY29uQ2hhbmdlJywge1xuICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgcGF0aDogYC9ub3RlcGFkLyR7cmVzdWx0fWAsXG4gICAgICAgICAgICBsYWJlbDogbm90ZVBhZERhdGEudGl0bGUucmVwbGFjZSgvIC9nLCAnJm5ic3A7JyksXG4gICAgICAgICAgICBpY29uU3JjOiBOb3RlUGFkSWNvbixcbiAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGFsZXJ0KCfsoIDsnqXsl5Ag7Iuk7Yyo7ZaI7Iq164uI64ukLicpO1xuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhJykudmFsdWUgPSAnJztcbiAgICB9XG4gIH1cblxuICBnZXROb3RlUGFkRGF0YSgpIHtcbiAgICBjb25zdCBjb250ZW50ID0gdGhpcy5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYScpLnZhbHVlO1xuICAgIGlmICghY29udGVudCkge1xuICAgICAgYWxlcnQoJ+uCtOyaqeydtCDsl4bsirXri4jri6QuJyk7XG4gICAgICByZXR1cm4gJ2ZhaWwnO1xuICAgIH1cbiAgICBsZXQgdGl0bGUgPSBwcm9tcHQoJ+yggOyepe2VoCDtjIzsnbzrqoXsnYQg7J6F66Cl7ZWY7IS47JqUJywgJ+ygnOuqqeyXhuydjCcpO1xuICAgIHdoaWxlICh0aXRsZSA9PT0gbnVsbCB8fCB0aXRsZSA9PT0gdW5kZWZpbmVkIHx8IHRpdGxlID09PSAnJykge1xuICAgICAgaWYgKHRpdGxlID09PSBudWxsKSByZXR1cm4gJ2ZhaWwnO1xuICAgICAgdGl0bGUgPSBwcm9tcHQoJ+2MjOydvOuqheydgCDtlYTsiJjsnoXri4jri6QuJywgJ+ygnOuqqeyXhuydjCcpO1xuICAgIH1cblxuICAgIHJldHVybiB7IHRpdGxlLCBjb250ZW50IH07XG4gIH1cbn1cbiIsImNvbnN0IGJ1dHRvbnMgPSBbXHJcbiAge1xyXG4gICAgaWQ6ICdmaWxlJyxcclxuICAgIHRpdGxlOiAn7YyM7J28JyxcclxuICAgIGtleTogJ0YnLFxyXG4gICAgc2xvdHM6IFtcclxuICAgICAgeyBpZDogMSwgdGV4dDogJ+yDiOuhnCDrp4zrk6TquLAoTiknLCBrZXk6IFsnQ3RybCcsICdOJ10sIGRpc2FibGU6IHRydWUgfSxcclxuICAgICAgeyBpZDogMiwgdGV4dDogJ+uCtCDsu7Ttk6jthLDsl5Ag7KCA7J6lKFcpJywga2V5OiBbJ0N0cmwnLCAnU2hpZnQnLCAnTiddLCBvbkNsaWNrOiBoYW5kbGVMb2NhbFNhdmVDbGljayB9LFxyXG4gICAgICB7IGlkOiAzLCB0ZXh0OiAn7KCA7J6lKFMpJywga2V5OiBbJ0N0cmwnLCAnUyddLCBvbkNsaWNrOiBoYW5kbGVTYXZlQ2xpY2sgfSxcclxuICAgICAgeyBpZDogNCwgdGV4dDogJ+yCreygnChEKScsIGtleTogWydDdHJsJywgJ1NoaWZ0JywgJ1MnXSwgZGlzYWJsZTogdHJ1ZSB9LFxyXG4gICAgICB7IGlkOiA1LCB0ZXh0OiAn7Y6Y7J207KeAIOyEpOyglShVKS4uLicsIGtleTogW10sIGRpc2FibGU6IHRydWUgfSxcclxuICAgICAgeyBpZDogNiwgdGV4dDogJ+yduOyHhChQKS4uLicsIGtleTogWydDdHJsJywgJ1AnXSwgZGlzYWJsZTogdHJ1ZSB9LFxyXG4gICAgICB7IGlkOiA3LCB0ZXh0OiAn64Gd64K06riwKFgpJywga2V5OiBbXSwgZGlzYWJsZTogdHJ1ZSB9LFxyXG4gICAgXSxcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiAnZWRpdCcsXHJcbiAgICB0aXRsZTogJ+2OuOynkScsXHJcbiAgICBrZXk6ICdFJyxcclxuICAgIHNsb3RzOiBbXHJcbiAgICAgIHsgaWQ6IDgsIHRleHQ6ICfsi6Ttlokg7Leo7IaMKFUpJywga2V5OiBbJ0N0cmwnLCAnWiddLCBkaXNhYmxlOiB0cnVlIH0sXHJcbiAgICAgIHsgaWQ6IDksIHRleHQ6ICfsnpjrnbzrgrTquLAoVCknLCBrZXk6IFsnQ3RybCcsICdYJ10sIGRpc2FibGU6IHRydWUgfSxcclxuICAgICAgeyBpZDogMTAsIHRleHQ6ICfrs7XsgqwoQyknLCBrZXk6IFsnQ3RybCcsICdDJ10sIGRpc2FibGU6IHRydWUgfSxcclxuICAgICAgeyBpZDogMTEsIHRleHQ6ICfrtpnsl6zrhKPquLAoUCknLCBrZXk6IFsnQ3RybCcsICdWJ10sIGRpc2FibGU6IHRydWUgfSxcclxuICAgICAgeyBpZDogMTIsIHRleHQ6ICfsgq3soJwoRCknLCBrZXk6IFsnRGVsJ10sIGRpc2FibGU6IHRydWUgfSxcclxuICAgICAgeyBpZDogMTMsIHRleHQ6ICdCaW5n7Jy866GcIOqygOyDiShTKS4uLicsIGtleTogWydDdHJsJywgJ0UnXSwgZGlzYWJsZTogdHJ1ZSB9LFxyXG4gICAgICB7IGlkOiAxNCwgdGV4dDogJ+ywvuq4sChGKS4uLicsIGtleTogWydDdHJsJywgJ0YnXSwgZGlzYWJsZTogdHJ1ZSB9LFxyXG4gICAgICB7IGlkOiAxNSwgdGV4dDogJ+uLpOydjCDssL7quLAoTiknLCBrZXk6IFsnRjMnXSwgZGlzYWJsZTogdHJ1ZSB9LFxyXG4gICAgICB7IGlkOiAxNiwgdGV4dDogJ+ydtOyghCDssL7quLAoViknLCBrZXk6IFsnU2hpZnQnLCAnRjMnXSwgZGlzYWJsZTogdHJ1ZSB9LFxyXG4gICAgICB7IGlkOiAxNywgdGV4dDogJ+uwlOq+uOq4sChSKS4uLicsIGtleTogWydDdHJsJywgJ0gnXSwgZGlzYWJsZTogdHJ1ZSB9LFxyXG4gICAgICB7IGlkOiAxOCwgdGV4dDogJ+ydtOuPmShHKS4uLicsIGtleTogWydDdHJsJywgJ0cnXSwgZGlzYWJsZTogdHJ1ZSB9LFxyXG4gICAgICB7IGlkOiAxOSwgdGV4dDogJ+uqqOuRkCDshKDtg50oQSknLCBrZXk6IFsnQ3RybCcsICdBJ10sIGRpc2FibGU6IHRydWUgfSxcclxuICAgICAgeyBpZDogMjAsIHRleHQ6ICfsi5zqsIQv64Kg7KecKEQpJywga2V5OiBbJ0Y1J10sIGRpc2FibGU6IHRydWUgfSxcclxuICAgIF0sXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogJ2Zvcm1hdCcsXHJcbiAgICB0aXRsZTogJ+yEnOyLnScsXHJcbiAgICBrZXk6ICdPJyxcclxuICAgIHNsb3RzOiBbXHJcbiAgICAgIHsgaWQ6IDIxLCB0ZXh0OiAn7J6Q64+ZIOykhCDrsJTqv4goVyknLCBrZXk6IFtdLCBkaXNhYmxlOiB0cnVlIH0sXHJcbiAgICAgIHsgaWQ6IDIyLCB0ZXh0OiAn6riA6ry0KEYpLi4uJywga2V5OiBbXSwgZGlzYWJsZTogdHJ1ZSB9LFxyXG4gICAgXSxcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiAndmlldycsXHJcbiAgICB0aXRsZTogJ+uztOq4sCcsXHJcbiAgICBrZXk6ICdWJyxcclxuICAgIHNsb3RzOiBbXHJcbiAgICAgIHsgaWQ6IDIzLCB0ZXh0OiAn7ZmV64yA7ZWY6riwKFopJywga2V5OiBbJ0N0cmwnLCAnKyddLCBkaXNhYmxlOiB0cnVlIH0sXHJcbiAgICAgIHsgaWQ6IDI0LCB0ZXh0OiAn7LaV7IaM7ZWY6riwKFgpJywga2V5OiBbJ0N0cmwnLCAnLSddLCBkaXNhYmxlOiB0cnVlIH0sXHJcbiAgICAgIHsgaWQ6IDI1LCB0ZXh0OiAn7IOB7YOcIO2RnOyLnOykhChTKScsIGtleTogW10sIGRpc2FibGU6IHRydWUgfSxcclxuICAgIF0sXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogJ2hlbHAnLFxyXG4gICAgdGl0bGU6ICfrj4Tsm4Drp5AnLFxyXG4gICAga2V5OiAnSCcsXHJcbiAgICBzbG90czogW1xyXG4gICAgICB7IGlkOiAyNiwgdGV4dDogJ+uPhOybgOunkCDrs7TquLAoSCknLCBrZXk6IFtdLCBkaXNhYmxlOiB0cnVlIH0sXHJcbiAgICAgIHsgaWQ6IDI3LCB0ZXh0OiAn7ZS865Oc67CxIOuztOuCtOq4sChGKScsIGtleTogW10sIGRpc2FibGU6IHRydWUgfSxcclxuICAgICAgeyBpZDogMjgsIHRleHQ6ICfrqZTrqqjsnqUg7KCV67O0KEEpJywga2V5OiBbXSwgZGlzYWJsZTogdHJ1ZSB9LFxyXG4gICAgXSxcclxuICB9LFxyXG5dO1xyXG5cclxuY29uc3Qgc2xvdHMgPSBidXR0b25zLnJlZHVjZSgoYWNjLCBjdXIpID0+IHtcclxuICByZXR1cm4gWy4uLmFjYywgLi4uY3VyLnNsb3RzXTtcclxufSwgW10pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYnV0dG9ucztcclxuZXhwb3J0IHsgc2xvdHMgfTtcclxuXHJcbmZ1bmN0aW9uIGhhbmRsZVNhdmVDbGljaygpIHtcclxuICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdzYXZlJywgeyBidWJibGVzOiB0cnVlIH0pKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlTG9jYWxTYXZlQ2xpY2soKSB7XHJcbiAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnbG9jYWxTYXZlJywgeyBidWJibGVzOiB0cnVlIH0pKTtcclxufVxyXG4iLCJpbXBvcnQgeyBodG1sIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvdXRpbHMnO1xuaW1wb3J0IFdlYkNvbXBvbmVudCBmcm9tICcuLi8uLi8uLi9jb3JlL1dlYkNvbXBvbmVudCc7XG5pbXBvcnQgYnV0dG9ucywgeyBzbG90cyB9IGZyb20gJy4uL2NvbnN0L2J1dHRvbnMnO1xuaW1wb3J0IE5vdGVQYWRJY29uIGZyb20gJy4uLy4uLy4uLy4uL3B1YmxpYy9ub3RlcGFkLnBuZyc7XG5pbXBvcnQgcm91dGVyIGZyb20gJy4uLy4uLy4uL2NvcmUvUm91dGVyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTm90ZVBhZEhlYWRlciBleHRlbmRzIFdlYkNvbXBvbmVudCB7XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2spO1xuICB9XG5cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2spO1xuICB9XG5cbiAgaW5qZWN0SFRNTCgpIHtcbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxoZWFkZXI+XG4gICAgICAgIDxzcGFuPlxuICAgICAgICAgIDxpbWcgYWx0PVwibm90ZXBhZF9pY29uXCIgc3JjPSR7Tm90ZVBhZEljb259IC8+XG4gICAgICAgICAgJHt0aGlzLnRpdGxlfSAtIFdpbmRvd3Mg66mU66qo7J6lXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInZpZXdfYnV0dG9uc1wiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJ2aWV3X2J1dHRvblwiIGlkPVwibWluaVwiPvCfl5U8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwidmlld19idXR0b25cIiBpZD1cImZ1bGxcIj7wn5eWPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInZpZXdfYnV0dG9uXCIgaWQ9XCJjbG9zZVwiPuKFqTwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvaGVhZGVyPlxuICAgICAgPGRpdiBjbGFzcz1cImVkaXRfYnV0dG9uc1wiPlxuICAgICAgICAke2J1dHRvbnNcbiAgICAgICAgICAubWFwKFxuICAgICAgICAgICAgKGJ1dHRvbikgPT4gaHRtbGBcbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImVkaXRfYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgJHtidXR0b24udGl0bGV9KDx1PiR7YnV0dG9uLmtleX08L3U+KVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwb3B1cFwiPlxuICAgICAgICAgICAgICAgICAgJHtidXR0b24uc2xvdHNcbiAgICAgICAgICAgICAgICAgICAgLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAoc2xvdCkgPT4gaHRtbGBcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWJcIiBkYXRhLWlkPVwiJHtzbG90LmlkfVwiIGRhdGEtZGlzYWJsZT1cIiR7ISFzbG90LmRpc2FibGV9XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+JHtzbG90LnRleHR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICR7c2xvdC5rZXkubGVuZ3RoID4gMCA/IGA8ZGl2PiR7c2xvdC5rZXkuam9pbignICsgJyl9PC9kaXY+YCA6ICcnfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC5qb2luKCcnKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICBgXG4gICAgICAgICAgKVxuICAgICAgICAgIC5qb2luKCcnKX1cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gIH1cblxuICBoYW5kbGVDbGljayhlKSB7XG4gICAgY29uc3Qgc3ViID0gZS50YXJnZXQuY2xvc2VzdCgnLnN1YicpO1xuICAgIGlmIChzdWIpIHtcbiAgICAgIGNvbnN0IHNsb3RJZCA9IE51bWJlcihzdWIuZGF0YXNldC5pZCk7XG4gICAgICBjb25zdCB7IG9uQ2xpY2sgfSA9IHNsb3RzLmZpbmQoKHNsb3QpID0+IHNsb3QuaWQgPT09IHNsb3RJZCkgfHwge307XG4gICAgICBpZiAob25DbGljaykgb25DbGljay5jYWxsKHRoaXMpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHN3aXRjaCAoZS50YXJnZXQuY2xhc3NOYW1lKSB7XG4gICAgICBjYXNlICd2aWV3X2J1dHRvbic6XG4gICAgICAgIGNsaWNrVmlld0J1dHRvbi5jYWxsKHRoaXMsIGUudGFyZ2V0KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdlZGl0X2J1dHRvbic6XG4gICAgICAgIHNob3dQb3B1cC5jYWxsKHRoaXMsIGUudGFyZ2V0KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGlja1ZpZXdCdXR0b24odlRhcmdldCkge1xuICAgICAgc3dpdGNoICh2VGFyZ2V0LmlkKSB7XG4gICAgICAgIGNhc2UgJ2Z1bGwnOlxuICAgICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCdmdWxsc2NyZWVuJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ21pbmknOlxuICAgICAgICBjYXNlICdjbG9zZSc6XG4gICAgICAgICAgcm91dGVyLmJhY2soKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzaG93UG9wdXAoZVRhcmdldCkge1xuICAgICAgZVRhcmdldC5xdWVyeVNlbGVjdG9yKCcucG9wdXAnKS5jbGFzc0xpc3QudG9nZ2xlKCdzaG93Jyk7XG4gICAgICB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cCcpLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgaWYgKG5vZGUgIT09IGVUYXJnZXQucXVlcnlTZWxlY3RvcignLnBvcHVwJykpIHtcbiAgICAgICAgICBub2RlLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IHRpdGxlKCkge1xuICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZSgndGl0bGUnKTtcbiAgfVxufVxuIiwiaW1wb3J0ICcuL3N0eWxlLnNjc3MnO1xuaW1wb3J0IHNhbmRib3hEQiBmcm9tICcuL2NvcmUvSW5kZXhlZERCJztcbmltcG9ydCBBcHAgZnJvbSAnLi9BcHAnO1xuaW1wb3J0IEZvb3RlciBmcm9tICcuL3ZpZXcvQ29tbW9uL0Zvb3Rlcic7XG5pbXBvcnQgSG9tZSBmcm9tICcuL3ZpZXcvSG9tZSc7XG5pbXBvcnQgVGV0cmlzIGZyb20gJy4vdmlldy9UZXRyaXMnO1xuaW1wb3J0IEZsYXBweUJpcmQgZnJvbSAnLi92aWV3L0ZsYXBweUJpcmQnO1xuaW1wb3J0IEljb25zIGZyb20gJy4vdmlldy9Db21tb24vSWNvbnMnO1xuaW1wb3J0IEljb24gZnJvbSAnLi92aWV3L0NvbW1vbi9JY29uJztcbmltcG9ydCBOb3RlUGFkIGZyb20gJy4vdmlldy9Ob3RlUGFkJztcbmltcG9ydCBOb3RlUGFkSGVhZGVyIGZyb20gJy4vdmlldy9Ob3RlUGFkL2NvbXBvbmVudHMvTm90ZVBhZEhlYWRlcic7XG5pbXBvcnQgcm91dGVyIGZyb20gJy4vY29yZS9Sb3V0ZXInO1xuXG4oYXN5bmMgKCkgPT4ge1xuICBhd2FpdCBzYW5kYm94REIub3BlbkRCKCk7XG5cbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdteS1hcHAnLCBBcHApO1xuICBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ215LWZvb3RlcicsIEZvb3Rlcik7XG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbXktaG9tZScsIEhvbWUpO1xuICBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ215LXRldHJpcycsIFRldHJpcyk7XG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbXktZmxhcHB5YmlyZCcsIEZsYXBweUJpcmQpO1xuICBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ215LWljb25zJywgSWNvbnMpO1xuICBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ215LWljb24nLCBJY29uKTtcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdteS1ub3RlcGFkJywgTm90ZVBhZCk7XG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbXktbm90ZXBhZC1oZWFkZXInLCBOb3RlUGFkSGVhZGVyKTtcbn0pKCk7XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4gcm91dGVyLnJlbmRlcigpKTtcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsICgpID0+IHJvdXRlci5yZW5kZXIoKSk7XG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImRiIiwiY29uc3RydWN0b3IiLCJkYk5hbWUiLCJkYlZlcnNpb24iLCJzdG9yZXMiLCJ0aGlzIiwiYXN5bmMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlcXVlc3QiLCJ3aW5kb3ciLCJpbmRleGVkREIiLCJvcGVuIiwib25zdWNjZXNzIiwicmVzdWx0Iiwib25lcnJvciIsImUiLCJvbnVwZ3JhZGVuZWVkZWQiLCJmb3JFYWNoIiwic3RvcmUiLCJvYmplY3RTdG9yZU5hbWVzIiwiY29udGFpbnMiLCJkZWxldGVPYmplY3RTdG9yZSIsImNyZWF0ZU9iamVjdFN0b3JlIiwia2V5UGF0aCIsImF1dG9JbmNyZW1lbnQiLCJzdG9yZU5hbWUiLCJpZCIsInRyYW5zYWN0aW9uIiwib2JqZWN0U3RvcmUiLCJnZXQiLCJnZXRBbGwiLCJkYXRhIiwicHV0IiwiZGVsZXRlIiwicmVuZGVyUmF3Iiwic3RyaW5nIiwidmFsdWVzIiwiU3RyaW5nIiwicmF3IiwiV2ViQ29tcG9uZW50IiwiSFRNTEVsZW1lbnQiLCJjb25uZWN0ZWRDYWxsYmFjayIsInJlbmRlciIsImlubmVySFRNTCIsImluamVjdEhUTUwiLCJBcHAiLCJyb3V0ZXMiLCJwYXRoIiwiaHRtbCIsImxhYmVsIiwiaWNvblNyYyIsInRhZyIsIm1haW5JY29ucyIsInJlZHVjZSIsInByZXYiLCJyb3V0ZXIiLCJnZXRMb2NhbEljb25zIiwiaWNvbiIsInRpdGxlIiwicm91dGUiLCJwYXRoVG9SZWdleHAiLCJSZWdFeHAiLCJyZXBsYWNlIiwiZmluZCIsInZhbHVlIiwibG9jYXRpb24iLCJwYXRobmFtZSIsIm1hdGNoIiwiaW5jbHVkZXMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJyZXBsYWNlVG8iLCJuYXZpZ2F0ZVRvIiwidXJsIiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsInJlcGxhY2VTdGF0ZSIsImJhY2siLCJGb290ZXIiLCJzdXBlciIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVDbGljayIsImJpbmQiLCJqb2luIiwidGFyZ2V0IiwiY2xvc2VzdCIsImRhdGFzZXQiLCJIb21lIiwiVGV0cmlzIiwiRmxhcHB5QmlyZCIsIkljb25zIiwiaWNvbnMiLCJoYW5kbGVEb3VibGVDbGljayIsImhhbmRsZUtleURvd24iLCJkZXRhaWwiLCJvYnNlcnZlZEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2siLCJuYW1lIiwib2xkVmFsdWUiLCJuZXdWYWx1ZSIsIm1hcCIsIkpTT04iLCJwYXJzZSIsImdldEF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsInN0cmluZ2lmeSIsInRvZ2dsZUF0dHJpYnV0ZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJub2RlIiwicmVtb3ZlQXR0cmlidXRlIiwiY2hlY2tlZEVsIiwia2V5IiwibGVuZ3RoIiwiSWNvbiIsImljb25zcmMiLCJOb3RlUGFkIiwiTnVtYmVyIiwiY29udGVudCIsImhhbmRsZVNhdmUiLCJoYW5kbGVMb2NhbFNhdmUiLCJkaXNjb25uZWN0ZWRDYWxsYmFjayIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJub3RlUGFkRGF0YSIsImdldE5vdGVQYWREYXRhIiwiYmxvYiIsIkJsb2IiLCJ0eXBlIiwibGluayIsImNyZWF0ZUVsZW1lbnQiLCJocmVmIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiZG93bmxvYWQiLCJjbGljayIsImVyciIsImFsZXJ0IiwiY29uc29sZSIsImVycm9yIiwic3RvcFByb3BhZ2F0aW9uIiwiZGlzcGF0Y2hFdmVudCIsIkN1c3RvbUV2ZW50IiwicHJvbXB0IiwiYnV0dG9ucyIsInNsb3RzIiwidGV4dCIsImRpc2FibGUiLCJvbkNsaWNrIiwiYnViYmxlcyIsImFjYyIsImN1ciIsIk5vdGVQYWRIZWFkZXIiLCJidXR0b24iLCJzbG90Iiwic3ViIiwic2xvdElkIiwiY2FsbCIsImNsYXNzTmFtZSIsInZUYXJnZXQiLCJwYXJlbnRFbGVtZW50IiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiZVRhcmdldCIsInJlbW92ZSIsImN1c3RvbUVsZW1lbnRzIiwiZGVmaW5lIl0sInNvdXJjZVJvb3QiOiIifQ==