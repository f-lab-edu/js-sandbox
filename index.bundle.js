(()=>{"use strict";var e="/js-sandbox/";const t=new class{db;constructor(e,t,i){this.dbName=e,this.dbVersion=t,this.stores=i}async openDB(){return new Promise(((e,t)=>{const i=window.indexedDB.open(this.dbName,this.dbVersion);i.onsuccess=()=>{this.db=i.result,e()},i.onerror=e=>{t(e)},i.onupgradeneeded=()=>{this.db=i.result,this.stores.forEach((e=>{this.db.objectStoreNames.contains(e)&&this.db.deleteObjectStore(e),this.db.createObjectStore(e,{keyPath:"id"})}))}}))}async getData(e,t){return new Promise(((i,n)=>{const s=this.db.transaction(e,"readonly").objectStore(e).get(t);s.onsuccess=()=>{i(s.result)},s.onerror=e=>{n(e)}}))}async getAllData(e){return new Promise(((t,i)=>{const n=this.db.transaction(e,"readonly").objectStore(e).getAll();n.onsuccess=()=>{t(n.result)},n.onerror=e=>{i(e)}}))}async upsertData(e,t){return new Promise(((i,n)=>{const s=this.db.transaction(e,"readwrite").objectStore(e),a={...t,id:t.id||(new Date).getTime()},o=s.put(a);o.onsuccess=()=>{i(o.result)},o.onerror=()=>{console.log(o.error),n(o.error)}}))}async deleteData(e,t){return new Promise(((i,n)=>{const s=this.db.transaction(e,"readwrite").objectStore(e).delete(t);s.onsuccess=()=>{i(!0)},s.onerror=e=>{n(e)}}))}}("sandboxDB",2,["notepad"]),i=(e,...t)=>String.raw(e,...t);class n extends HTMLElement{connectedCallback(){this.render()}render(){this.innerHTML=this.injectHTML()}injectHTML(){return""}}class s extends n{injectHTML(){return i`
      <div id="page"></div>
      <my-icons tabindex="-1"></my-icons>
      <my-footer></my-footer>
    `}}const a=e+"2a583f97b153f7da7d41.png",o="/js-sandbox",c=[{path:`${o}/`,html:i`<my-home></my-home>`,label:"Home",iconSrc:null},{path:`${o}/tetris`,html:i`<my-tetris></my-tetris>`,label:"Tetris",iconSrc:e+"71c0bea6462001116fcf.png"},{path:`${o}/flappybird`,html:i`<my-flappybird></my-flappybird>`,label:"Flappy&nbsp;Bird",iconSrc:e+"39b884119b49599495ed.png"},{path:`${o}/notepad`,html:i`<my-notepad></my-notepad>`,label:"Note&nbsp;Pad",iconSrc:a},{path:`${o}/notepad/:id`,html:i`<my-notepad id=":id"></my-notepad>`,label:"Note&nbsp;Pad",iconSrc:null}],l=c.reduce(((e,t)=>{const{path:i,label:n,iconSrc:s}=t;return t.iconSrc?[...e,{path:i,label:n,iconSrc:s}]:e}),[]),r=async()=>[...(await t.getAllData("notepad")).reduce(((e,t)=>{const{id:i,title:n}=t;return[...e,{path:`/notepad/${i}`,label:n,iconSrc:a}]}),[])],d=c,h=new class{constructor(e){this.routes=e}pathToRegexp(e){return new RegExp(`^${e.replace(/\//g,"\\/").replace(/:\w+/g,"(.+)")}$`)}render(){const e=window.location.pathname,t=this.routes.find((t=>this.pathToRegexp(t.path).test(e)));t?document.querySelector("#page").innerHTML=t.html.replace(":id",this.getIdFromPath(e)):this.replaceTo("/")}getIdFromPath(e){return e.match(/\d+/)?.[0]}navigateTo(e){`${o}${e}`!==window.location.pathname&&(window.history.pushState(null,null,o+e),this.render())}replaceTo(e){window.history.replaceState(null,null,o+e),this.render()}back(){window.history.back(),this.render()}}(d),p=e+"59cb65e4f8f2627d6c2c.png",u=e+"bc8d31a2338dd0b3f68a.png";class b extends n{connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.handleClick.bind(this))}injectHTML(){return i`
      <img alt="window_logo" src=${p} class="window_icon" />
      <div class="input_box">
        <img alt="search" src=${u} class="window_icon" /><input type="text" placeholder="Ï∞æÍ∏∞" />
      </div>
      ${l.map((e=>i` <my-icon data-path="${e.path}" data-iconSrc="${e.iconSrc}"></my-icon> `)).join("")}
    `}handleClick(e){if(!e.target.closest("my-icon"))return;const t=e.target.closest("my-icon");h.navigateTo(t.dataset.path)}}class m extends n{}class y extends n{injectHTML(){return i`
      <h1>Tetris</h1>
      <p>You are viewing the Tetris component!</p>
    `}}class g extends n{injectHTML(){return i`
      <h1>Flappy Bird</h1>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
    `}}class k extends n{async connectedCallback(){this.icons=[...l,...await r()],super.connectedCallback(),this.addEventListener("click",this.handleClick),this.addEventListener("dblclick",this.handleDoubleClick),this.addEventListener("keydown",this.handleKeyDown),this.addEventListener("iconChange",this.handleIconChange),this.addEventListener("iconDelete",this.handleIconDelete)}static get observedAttributes(){return["icons"]}attributeChangedCallback(e,t,i){t!==i&&this.render()}injectHTML(){return i`
      ${this.icons.map((e=>i`
            <my-icon data-path=${e.path} data-label=${e.label} data-iconSrc=${e.iconSrc}></my-icon>
          `)).join("")}
    `}get icons(){return JSON.parse(this.getAttribute("icons"))}set icons(e){this.setAttribute("icons",JSON.stringify(e))}handleClick(e){if(!e.target.closest("my-icon"))return;const t=e.target.closest("my-icon");t.toggleAttribute("checked"),this.querySelectorAll("my-icon").forEach((e=>{e!==t&&e.removeAttribute("checked")}))}handleDoubleClick(e){if(!e.target.closest("my-icon"))return;const t=e.target.closest("my-icon");h.navigateTo(t.dataset.path)}handleKeyDown(e){const t=this.querySelectorAll("my-icon[checked]");if("Enter"===e.key){if(t.length>1)return;if(!t)return;h.navigateTo(t[0].dataset.path)}}handleIconChange(e){const{path:t,label:i,iconSrc:n}=e.detail,s=this.icons.findIndex((e=>e.path===t));if(-1===s)this.icons=[...this.icons,{path:t,label:i,iconSrc:n}];else{const e=[...this.icons];e[s]={path:t,label:i,iconSrc:n},this.icons=e}}handleIconDelete(e){const{path:t}=e.detail;this.icons=this.icons.filter((e=>e.path!==t))}}class v extends n{injectHTML(){const{label:e,iconsrc:t}=this.dataset;return i`
      <img alt="${e}_icon" src=${t} />
      ${e?`<span class="icon_name">${e}</span>`:""}
    `}}class w extends n{async connectedCallback(){this.data=await t.getData("notepad",this.id)??{title:"Ï†úÎ™©ÏóÜÏùå",content:""},super.connectedCallback(),this.addEventListener("save",this.handleSave),this.addEventListener("localSave",this.handleLocalSave),this.addEventListener("delete",this.handleDelete)}disconnectedCallback(){this.removeEventListener("save",this.handleSave),this.removeEventListener("localSave",this.handleLocalSave)}injectHTML(){const{title:e,content:t}=this.data;return i`
      <my-notepad-header title=${e}></my-notepad-header>
      <textarea>${t}</textarea>
    `}handleLocalSave(e){e.preventDefault();const t=this.getNotePadData();if(!t)return;const i=new Blob([t.content],{type:"text/plain"}),n=document.createElement("a");n.href=URL.createObjectURL(i),n.download=`${t.title}.txt`,n.click()}async handleSave(e){try{e.stopPropagation();const i=this.getNotePadData();if(!i)return;const n=await t.upsertData("notepad",i),s=`/notepad/${n}`;alert("Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§.");const o=new CustomEvent("iconChange",{detail:{path:s,label:i.title.replace(/ /g,"&nbsp;"),iconSrc:a}});document.querySelector("my-icons").dispatchEvent(o),this.id===n?(this.data=i,this.querySelector("my-notepad-header").setAttribute("title",i.title)):h.navigateTo(s)}catch(e){alert("Ï†ÄÏû•Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.")}}async handleDelete(e){try{if(e.stopPropagation(),!window.confirm("Ï†ïÎßê ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?"))return;await t.deleteData("notepad",this.id),alert("ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§.");const i=new CustomEvent("iconDelete",{detail:{path:`/notepad/${this.id}`}});document.querySelector("my-icons").dispatchEvent(i),h.replaceTo("/notepad")}catch(e){alert("ÏÇ≠Ï†úÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.")}}getNotePadData(){const e=this.querySelector("textarea").value.trim();if(!e)return alert("ÎÇ¥Ïö©Ïù¥ ÏóÜÏäµÎãàÎã§."),null;let t;for(;!t;)if(!(t=prompt("ÌååÏùºÎ™ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî.",this.data.title.replace(/&nbsp;/g," ")),t||window.confirm("Ï†úÎ™©ÏùÄ ÌïÑÏàòÏûÖÎãàÎã§.")))return null;return{id:this.id,title:t.trim().replace(/ /g,"&nbsp;"),content:e.replace(/ /g,"&nbsp;").replace(/\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;")}}get id(){return Number(this.getAttribute("id"))}}const f=!0,x=[{id:"file",title:"ÌååÏùº",key:"F",slots:[{id:1,text:"ÏÉàÎ°ú ÎßåÎì§Í∏∞(N)",key:["Ctrl","N"],onClick:function(){const e=this.closest("my-notepad");0!==e.id?h.navigateTo("/notepad"):e.querySelector("textarea").value=""}},{id:2,text:"ÎÇ¥ Ïª¥Ìì®ÌÑ∞Ïóê Ï†ÄÏû•(W)",key:["Ctrl","Shift","N"],onClick:function(){this.dispatchEvent(new CustomEvent("localSave",{bubbles:!0}))}},{id:3,text:"Ï†ÄÏû•(S)",key:["Ctrl","S"],onClick:function(){this.dispatchEvent(new CustomEvent("save",{bubbles:!0}))}},{id:4,text:"ÏÇ≠Ï†ú(D)",key:["Ctrl","Shift","S"],onClick:function(){0!==this.closest("my-notepad").id&&this.dispatchEvent(new CustomEvent("delete",{bubbles:!0}))}},{id:5,text:"ÌéòÏù¥ÏßÄ ÏÑ§Ï†ï(U)...",key:[],disable:f},{id:6,text:"Ïù∏ÏáÑ(P)...",key:["Ctrl","P"],disable:f},{id:7,text:"ÎÅùÎÇ¥Í∏∞(X)",key:[],disable:f}]},{id:"edit",title:"Ìé∏Ïßë",key:"E",slots:[{id:8,text:"Ïã§Ìñâ Ï∑®ÏÜå(U)",key:["Ctrl","Z"],disable:f},{id:9,text:"ÏûòÎùºÎÇ¥Í∏∞(T)",key:["Ctrl","X"],disable:f},{id:10,text:"Î≥µÏÇ¨(C)",key:["Ctrl","C"],disable:f},{id:11,text:"Î∂ôÏó¨ÎÑ£Í∏∞(P)",key:["Ctrl","V"],disable:f},{id:12,text:"ÏÇ≠Ï†ú(D)",key:["Del"],disable:f},{id:13,text:"BingÏúºÎ°ú Í≤ÄÏÉâ(S)...",key:["Ctrl","E"],disable:f},{id:14,text:"Ï∞æÍ∏∞(F)...",key:["Ctrl","F"],disable:f},{id:15,text:"Îã§Ïùå Ï∞æÍ∏∞(N)",key:["F3"],disable:f},{id:16,text:"Ïù¥Ï†Ñ Ï∞æÍ∏∞(V)",key:["Shift","F3"],disable:f},{id:17,text:"Î∞îÍæ∏Í∏∞(R)...",key:["Ctrl","H"],disable:f},{id:18,text:"Ïù¥Îèô(G)...",key:["Ctrl","G"],disable:f},{id:19,text:"Î™®Îëê ÏÑ†ÌÉù(A)",key:["Ctrl","A"],disable:f},{id:20,text:"ÏãúÍ∞Ñ/ÎÇ†Ïßú(D)",key:["F5"],disable:f}]},{id:"format",title:"ÏÑúÏãù",key:"O",slots:[{id:21,text:"ÏûêÎèô Ï§Ñ Î∞îÍøà(W)",key:[],disable:f},{id:22,text:"Í∏ÄÍº¥(F)...",key:[],disable:f}]},{id:"view",title:"Î≥¥Í∏∞",key:"V",slots:[{id:23,text:"ÌôïÎåÄÌïòÍ∏∞(Z)",key:["Ctrl","+"],disable:f},{id:24,text:"Ï∂ïÏÜåÌïòÍ∏∞(X)",key:["Ctrl","-"],disable:f},{id:25,text:"ÏÉÅÌÉú ÌëúÏãúÏ§Ñ(S)",key:[],disable:f}]},{id:"help",title:"ÎèÑÏõÄÎßê",key:"H",slots:[{id:26,text:"ÎèÑÏõÄÎßê Î≥¥Í∏∞(H)",key:[],disable:f},{id:27,text:"ÌîºÎìúÎ∞± Î≥¥ÎÇ¥Í∏∞(F)",key:[],disable:f},{id:28,text:"Î©îÎ™®Ïû• Ï†ïÎ≥¥(A)",key:[],disable:f}]}],C=x.reduce(((e,t)=>[...e,...t.slots]),[]),S=x;class E extends n{connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.handleClick)}disconnectedCallback(){this.removeEventListener("click",this.handleClick)}static get observedAttributes(){return["title"]}attributeChangedCallback(e,t,i){t!==i&&this.render()}injectHTML(){return i`
      <header>
        <span>
          <img alt="notepad_icon" src=${a} />
          ${this.title} - Windows Î©îÎ™®Ïû•
        </span>
        <div class="view_buttons">
          <button class="view_button" id="mini">üóï</button>
          <button class="view_button" id="full">üóñ</button>
          <button class="view_button" id="close">‚Ö©</button>
        </div>
      </header>
      <div class="edit_buttons">
        ${S.map((e=>i`
              <button class="edit_button">
                ${e.title}(<u>${e.key}</u>)
                <div class="popup">
                  ${e.slots.map((e=>i`
                        <div class="sub" data-id="${e.id}" data-disable="${!!e.disable}">
                          <div>${e.text}</div>
                          ${e.key.length>0?`<div>${e.key.join(" + ")}</div>`:""}
                        </div>
                      `)).join("")}
                </div>
              </button>
            `)).join("")}
      </div>
    `}handleClick(e){const t=e.target.closest(".view_button"),i=e.target.closest(".edit_button"),n=e.target.closest(".sub");t?this.clickViewButton(t):i?this.clickEditButton(i,n):this.closePopup()}clickViewButton(e){switch(e.id){case"full":this.parentElement.classList.toggle("fullscreen");break;case"mini":case"close":h.back()}}clickEditButton(e,t){if(t){const e=Number(t.dataset.id),{onClick:i}=C.find((t=>t.id===e))||{};i&&i.call(this)}else this.togglePopup(e)}togglePopup(e){const t=e.querySelector(".popup");t.classList.contains("show")?t.classList.remove("show"):(this.closePopup(),t.classList.add("show"))}closePopup(){const e=this.querySelector(".popup.show");e?.classList.remove("show")}get title(){return this.getAttribute("title")}set title(e){this.setAttribute("title",e)}}(async()=>{try{await t.openDB()}catch(e){queueMicrotask((()=>alert("IndexedDBÎ•º ÏÇ¨Ïö©Ìï† Ïàò ÏóÜÏäµÎãàÎã§.")))}customElements.define("my-app",s),customElements.define("my-footer",b),customElements.define("my-home",m),customElements.define("my-tetris",y),customElements.define("my-flappybird",g),customElements.define("my-icons",k),customElements.define("my-icon",v),customElements.define("my-notepad",w),customElements.define("my-notepad-header",E)})(),window.addEventListener("load",(()=>h.render())),window.addEventListener("popstate",(()=>h.render()))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFJaEYsUUFBUXBFLEtBQzVCLFFBQUUwSSxHQUFZRixFQUFNMUYsTUFBTW1HLEdBQVNBLEVBQUtqSixLQUFPMkosS0FBVyxDQUFDLEVBQzdEakIsR0FDRkEsRUFBUWtCLEtBQUtsTCxLQUVqQixNQUNFQSxLQUFLbUwsWUFBWVYsRUFFckIsQ0FFQVUsWUFBWVYsR0FDVixNQUFNVyxFQUFRWCxFQUFXakcsY0FBYyxVQUNuQzRHLEVBQU1MLFVBQVU5SixTQUFTLFFBQzNCbUssRUFBTUwsVUFBVU0sT0FBTyxTQUV2QnJMLEtBQUs2SyxhQUNMTyxFQUFNTCxVQUFVTyxJQUFJLFFBRXhCLENBRUFULGFBR0UsTUFBTU8sRUFBUXBMLEtBQUt3RSxjQUFjLGVBQ2pDNEcsR0FBT0wsVUFBVU0sT0FBTyxPQUMxQixDQUVJekgsWUFDRixPQUFPNUQsS0FBSzRHLGFBQWEsUUFDM0IsQ0FFSWhELFVBQU1TLEdBQ1JyRSxLQUFLNkcsYUFBYSxRQUFTeEMsRUFDN0IsRUNuSEYsV0FDRSxVQUNRLFVBQ1IsQ0FBRSxNQUFPekQsR0FDUDJLLGdCQUFlLElBQU1yQyxNQUFNLDJCQUM3QixDQUVBc0MsZUFBZUMsT0FBTyxTQUFVMUksR0FDaEN5SSxlQUFlQyxPQUFPLFlBQWF2RyxHQUNuQ3NHLGVBQWVDLE9BQU8sVUFBVzlGLEdBQ2pDNkYsZUFBZUMsT0FBTyxZQUFhN0YsR0FDbkM0RixlQUFlQyxPQUFPLGdCQUFpQjVGLEdBQ3ZDMkYsZUFBZUMsT0FBTyxXQUFZM0YsR0FDbEMwRixlQUFlQyxPQUFPLFVBQVc5RCxHQUNqQzZELGVBQWVDLE9BQU8sYUFBYzVELEdBQ3BDMkQsZUFBZUMsT0FBTyxvQkFBcUJwQixFQUM1QyxFQWhCRCxHQWtCQS9KLE9BQU84RSxpQkFBaUIsUUFBUSxJQUFNLGFBQ3RDOUUsT0FBTzhFLGlCQUFpQixZQUFZLElBQU0sWSIsInNvdXJjZXMiOlsid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL2NvcmUvSW5kZXhlZERCLmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy91dGlscy91dGlscy5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvY29yZS9XZWJDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL0FwcC5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvdXRpbHMvcm91dGVzLmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy9jb3JlL1JvdXRlci5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvdmlldy9Db21tb24vRm9vdGVyLmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy92aWV3L0hvbWUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL3ZpZXcvVGV0cmlzL2luZGV4LmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy92aWV3L0ZsYXBweUJpcmQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL3ZpZXcvQ29tbW9uL0ljb25zLmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy92aWV3L0NvbW1vbi9JY29uLmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy92aWV3L05vdGVQYWQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL3ZpZXcvTm90ZVBhZC9jb25zdC9idXR0b25zLmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy92aWV3L05vdGVQYWQvY29tcG9uZW50cy9Ob3RlUGFkSGVhZGVyLmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvanMtc2FuZGJveC9cIjsiLCJjbGFzcyBJbmRleGVkREIge1xyXG4gIGRiO1xyXG5cclxuICAvKipcclxuICAgKiDsg53shLHsnpBcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGJOYW1lXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGRiVmVyc2lvblxyXG4gICAqIEBwYXJhbSB7c3RyaW5nW119IHN0b3Jlc1xyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKGRiTmFtZSwgZGJWZXJzaW9uLCBzdG9yZXMpIHtcclxuICAgIHRoaXMuZGJOYW1lID0gZGJOYW1lO1xyXG4gICAgdGhpcy5kYlZlcnNpb24gPSBkYlZlcnNpb247XHJcbiAgICB0aGlzLnN0b3JlcyA9IHN0b3JlcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERCIOyYpO2UiCDrqZTshJzrk5xcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cclxuICAgKi9cclxuICBhc3luYyBvcGVuREIoKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBjb25zdCByZXF1ZXN0ID0gd2luZG93LmluZGV4ZWREQi5vcGVuKHRoaXMuZGJOYW1lLCB0aGlzLmRiVmVyc2lvbik7XHJcblxyXG4gICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmRiID0gcmVxdWVzdC5yZXN1bHQ7XHJcbiAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgcmVxdWVzdC5vbmVycm9yID0gKGUpID0+IHtcclxuICAgICAgICByZWplY3QoZSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZXF1ZXN0Lm9udXBncmFkZW5lZWRlZCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmRiID0gcmVxdWVzdC5yZXN1bHQ7XHJcblxyXG4gICAgICAgIHRoaXMuc3RvcmVzLmZvckVhY2goKHN0b3JlKSA9PiB7XHJcbiAgICAgICAgICBpZiAodGhpcy5kYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKHN0b3JlKSkge1xyXG4gICAgICAgICAgICB0aGlzLmRiLmRlbGV0ZU9iamVjdFN0b3JlKHN0b3JlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRoaXMuZGIuY3JlYXRlT2JqZWN0U3RvcmUoc3RvcmUsIHsga2V5UGF0aDogJ2lkJyB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog642w7J207YSwIOyhsO2ajCDrqZTshJzrk5xcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RvcmVOYW1lXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGlkXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8b2JqZWN0Pn1cclxuICAgKi9cclxuICBhc3luYyBnZXREYXRhKHN0b3JlTmFtZSwgaWQpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSB0aGlzLmRiLnRyYW5zYWN0aW9uKHN0b3JlTmFtZSwgJ3JlYWRvbmx5Jykub2JqZWN0U3RvcmUoc3RvcmVOYW1lKS5nZXQoaWQpO1xyXG5cclxuICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XHJcbiAgICAgICAgcmVzb2x2ZShyZXF1ZXN0LnJlc3VsdCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoZSkgPT4ge1xyXG4gICAgICAgIHJlamVjdChlKTtcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog642w7J207YSwIOyghOyytCDsobDtmowg66mU7ISc65OcXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0b3JlTmFtZVxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPG9iamVjdFtdPn1cclxuICAgKi9cclxuICBhc3luYyBnZXRBbGxEYXRhKHN0b3JlTmFtZSkge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgY29uc3QgcmVxdWVzdCA9IHRoaXMuZGIudHJhbnNhY3Rpb24oc3RvcmVOYW1lLCAncmVhZG9ubHknKS5vYmplY3RTdG9yZShzdG9yZU5hbWUpLmdldEFsbCgpO1xyXG5cclxuICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XHJcbiAgICAgICAgcmVzb2x2ZShyZXF1ZXN0LnJlc3VsdCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoZSkgPT4ge1xyXG4gICAgICAgIHJlamVjdChlKTtcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog642w7J207YSwIOy2lOqwgCDrqZTshJzrk5xcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RvcmVOYW1lXHJcbiAgICogQHBhcmFtIHtvYmplY3R9IGRhdGFcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxvYmplY3Q+fVxyXG4gICAqL1xyXG4gIGFzeW5jIHVwc2VydERhdGEoc3RvcmVOYW1lLCBkYXRhKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBjb25zdCBvYmplY3RTdG9yZSA9IHRoaXMuZGIudHJhbnNhY3Rpb24oc3RvcmVOYW1lLCAncmVhZHdyaXRlJykub2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcclxuICAgICAgY29uc3QgbW9kaWZpZWREYXRhID0geyAuLi5kYXRhLCBpZDogZGF0YS5pZCB8fCBuZXcgRGF0ZSgpLmdldFRpbWUoKSB9O1xyXG4gICAgICBjb25zdCByZXF1ZXN0ID0gb2JqZWN0U3RvcmUucHV0KG1vZGlmaWVkRGF0YSk7XHJcblxyXG4gICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcclxuICAgICAgICByZXNvbHZlKHJlcXVlc3QucmVzdWx0KTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhyZXF1ZXN0LmVycm9yKTtcclxuICAgICAgICByZWplY3QocmVxdWVzdC5lcnJvcik7XHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOuNsOydtO2EsCDsgq3soJwg66mU7ISc65OcXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0b3JlTmFtZVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpZFxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPG9iamVjdD59XHJcbiAgICovXHJcbiAgYXN5bmMgZGVsZXRlRGF0YShzdG9yZU5hbWUsIGlkKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5kYi50cmFuc2FjdGlvbihzdG9yZU5hbWUsICdyZWFkd3JpdGUnKS5vYmplY3RTdG9yZShzdG9yZU5hbWUpLmRlbGV0ZShpZCk7XHJcblxyXG4gICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcclxuICAgICAgICByZXNvbHZlKHRydWUpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgcmVxdWVzdC5vbmVycm9yID0gKGUpID0+IHtcclxuICAgICAgICByZWplY3QoZSk7XHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IHNhbmRib3hEQiA9IG5ldyBJbmRleGVkREIoJ3NhbmRib3hEQicsIDIsIFsnbm90ZXBhZCddKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHNhbmRib3hEQjtcclxuIiwiY29uc3QgcmVuZGVyUmF3ID0gKHN0cmluZywgLi4udmFsdWVzKSA9PiB7XHJcbiAgcmV0dXJuIFN0cmluZy5yYXcoc3RyaW5nLCAuLi52YWx1ZXMpO1xyXG59O1xyXG5cclxuZXhwb3J0IHsgcmVuZGVyUmF3IGFzIGh0bWwsIHJlbmRlclJhdyBhcyBjc3MgfTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2ViQ29tcG9uZW50IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xyXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xyXG4gICAgdGhpcy5yZW5kZXIoKTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIHRoaXMuaW5uZXJIVE1MID0gdGhpcy5pbmplY3RIVE1MKCk7XHJcbiAgfVxyXG5cclxuICBpbmplY3RIVE1MKCkge1xyXG4gICAgcmV0dXJuIGBgO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBodG1sIH0gZnJvbSAnLi91dGlscy91dGlscyc7XHJcbmltcG9ydCBXZWJDb21wb25lbnQgZnJvbSAnLi9jb3JlL1dlYkNvbXBvbmVudCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcHAgZXh0ZW5kcyBXZWJDb21wb25lbnQge1xyXG4gIGluamVjdEhUTUwoKSB7XHJcbiAgICByZXR1cm4gaHRtbGBcclxuICAgICAgPGRpdiBpZD1cInBhZ2VcIj48L2Rpdj5cclxuICAgICAgPG15LWljb25zIHRhYmluZGV4PVwiLTFcIj48L215LWljb25zPlxyXG4gICAgICA8bXktZm9vdGVyPjwvbXktZm9vdGVyPlxyXG4gICAgYDtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgaHRtbCB9IGZyb20gJy4vdXRpbHMnO1xyXG5pbXBvcnQgdGV0cmlzIGZyb20gJy4uLy4uL3B1YmxpYy90ZXRyaXMucG5nJztcclxuaW1wb3J0IGZsYXBweUJpcmQgZnJvbSAnLi4vLi4vcHVibGljL2ZsYXBweUJpcmQucG5nJztcclxuaW1wb3J0IG5vdGVwYWQgZnJvbSAnLi4vLi4vcHVibGljL25vdGVwYWQucG5nJztcclxuaW1wb3J0IHNhbmRib3hEQiBmcm9tICcuLi9jb3JlL0luZGV4ZWREQic7XHJcblxyXG5jb25zdCBCQVNFX1VSTCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnID8gJycgOiAnL2pzLXNhbmRib3gnO1xyXG5cclxuY29uc3Qgcm91dGVzID0gW1xyXG4gIHtcclxuICAgIHBhdGg6IGAke0JBU0VfVVJMfS9gLFxyXG4gICAgaHRtbDogaHRtbGA8bXktaG9tZT48L215LWhvbWU+YCxcclxuICAgIGxhYmVsOiAnSG9tZScsXHJcbiAgICBpY29uU3JjOiBudWxsLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcGF0aDogYCR7QkFTRV9VUkx9L3RldHJpc2AsXHJcbiAgICBodG1sOiBodG1sYDxteS10ZXRyaXM+PC9teS10ZXRyaXM+YCxcclxuICAgIGxhYmVsOiAnVGV0cmlzJyxcclxuICAgIGljb25TcmM6IHRldHJpcyxcclxuICB9LFxyXG4gIHtcclxuICAgIHBhdGg6IGAke0JBU0VfVVJMfS9mbGFwcHliaXJkYCxcclxuICAgIGh0bWw6IGh0bWxgPG15LWZsYXBweWJpcmQ+PC9teS1mbGFwcHliaXJkPmAsXHJcbiAgICBsYWJlbDogJ0ZsYXBweSZuYnNwO0JpcmQnLFxyXG4gICAgaWNvblNyYzogZmxhcHB5QmlyZCxcclxuICB9LFxyXG4gIHtcclxuICAgIHBhdGg6IGAke0JBU0VfVVJMfS9ub3RlcGFkYCxcclxuICAgIGh0bWw6IGh0bWxgPG15LW5vdGVwYWQ+PC9teS1ub3RlcGFkPmAsXHJcbiAgICBsYWJlbDogJ05vdGUmbmJzcDtQYWQnLFxyXG4gICAgaWNvblNyYzogbm90ZXBhZCxcclxuICB9LFxyXG4gIHtcclxuICAgIHBhdGg6IGAke0JBU0VfVVJMfS9ub3RlcGFkLzppZGAsXHJcbiAgICBodG1sOiBodG1sYDxteS1ub3RlcGFkIGlkPVwiOmlkXCI+PC9teS1ub3RlcGFkPmAsXHJcbiAgICBsYWJlbDogJ05vdGUmbmJzcDtQYWQnLFxyXG4gICAgaWNvblNyYzogbnVsbCxcclxuICB9LFxyXG5dO1xyXG5cclxuY29uc3QgbWFpbkljb25zID0gcm91dGVzLnJlZHVjZSgocHJldiwgcm91dGVyKSA9PiB7XHJcbiAgY29uc3QgeyBwYXRoLCBsYWJlbCwgaWNvblNyYyB9ID0gcm91dGVyO1xyXG4gIGlmICghcm91dGVyLmljb25TcmMpIHJldHVybiBwcmV2O1xyXG4gIHJldHVybiBbLi4ucHJldiwgeyBwYXRoLCBsYWJlbCwgaWNvblNyYyB9XTtcclxufSwgW10pO1xyXG5cclxuY29uc3QgZ2V0TG9jYWxJY29ucyA9IGFzeW5jICgpID0+IHtcclxuICBjb25zdCBub3RlcGFkRGF0YSA9IGF3YWl0IHNhbmRib3hEQi5nZXRBbGxEYXRhKCdub3RlcGFkJyk7XHJcbiAgY29uc3Qgbm90ZXBhZEljb25zID0gbm90ZXBhZERhdGEucmVkdWNlKChwcmV2LCBpY29uKSA9PiB7XHJcbiAgICBjb25zdCB7IGlkLCB0aXRsZSB9ID0gaWNvbjtcclxuICAgIHJldHVybiBbLi4ucHJldiwgeyBwYXRoOiBgL25vdGVwYWQvJHtpZH1gLCBsYWJlbDogdGl0bGUsIGljb25TcmM6IG5vdGVwYWQgfV07XHJcbiAgfSwgW10pO1xyXG5cclxuICByZXR1cm4gWy4uLm5vdGVwYWRJY29uc107XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXM7XHJcbmV4cG9ydCB7IG1haW5JY29ucywgZ2V0TG9jYWxJY29ucywgQkFTRV9VUkwgfTtcclxuIiwiaW1wb3J0IHJvdXRlcywgeyBCQVNFX1VSTCB9IGZyb20gJy4uL3V0aWxzL3JvdXRlcyc7XG5cbmNsYXNzIFJvdXRlciB7XG4gIGNvbnN0cnVjdG9yKHJvdXRlKSB7XG4gICAgdGhpcy5yb3V0ZXMgPSByb3V0ZTtcbiAgfVxuXG4gIHBhdGhUb1JlZ2V4cChwYXRoKSB7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoYF4ke3BhdGgucmVwbGFjZSgvXFwvL2csICdcXFxcLycpLnJlcGxhY2UoLzpcXHcrL2csICcoLispJyl9JGApO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGN1cnJlbnRQYXRoID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lO1xuICAgIGNvbnN0IHJvdXRlID0gdGhpcy5yb3V0ZXMuZmluZCgodmFsdWUpID0+IHRoaXMucGF0aFRvUmVnZXhwKHZhbHVlLnBhdGgpLnRlc3QoY3VycmVudFBhdGgpKTtcblxuICAgIGlmICghcm91dGUpIHtcbiAgICAgIHRoaXMucmVwbGFjZVRvKCcvJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BhZ2UnKS5pbm5lckhUTUwgPSByb3V0ZS5odG1sLnJlcGxhY2UoJzppZCcsIHRoaXMuZ2V0SWRGcm9tUGF0aChjdXJyZW50UGF0aCkpO1xuICB9XG5cbiAgZ2V0SWRGcm9tUGF0aChwYXRoKSB7XG4gICAgcmV0dXJuIHBhdGgubWF0Y2goL1xcZCsvKT8uWzBdO1xuICB9XG5cbiAgbmF2aWdhdGVUbyh1cmwpIHtcbiAgICBjb25zdCBiYXNlZFVybCA9IGAke0JBU0VfVVJMfSR7dXJsfWA7XG4gICAgaWYgKGJhc2VkVXJsID09PSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpIHJldHVybjtcbiAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUobnVsbCwgbnVsbCwgQkFTRV9VUkwgKyB1cmwpO1xuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cblxuICByZXBsYWNlVG8odXJsKSB7XG4gICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsIG51bGwsIEJBU0VfVVJMICsgdXJsKTtcbiAgICB0aGlzLnJlbmRlcigpO1xuICB9XG5cbiAgYmFjaygpIHtcbiAgICB3aW5kb3cuaGlzdG9yeS5iYWNrKCk7XG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxufVxuXG5jb25zdCByb3V0ZXIgPSBuZXcgUm91dGVyKHJvdXRlcyk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiIsImltcG9ydCBXZWJDb21wb25lbnQgZnJvbSAnLi4vLi4vY29yZS9XZWJDb21wb25lbnQnO1xyXG5pbXBvcnQgeyBodG1sIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbHMnO1xyXG5pbXBvcnQgeyBtYWluSWNvbnMgfSBmcm9tICcuLi8uLi91dGlscy9yb3V0ZXMnO1xyXG5pbXBvcnQgcm91dGVyIGZyb20gJy4uLy4uL2NvcmUvUm91dGVyJztcclxuaW1wb3J0IHdpbmRvd0xvZ28gZnJvbSAnLi4vLi4vLi4vcHVibGljL3dpbmRvd0xvZ28ucG5nJztcclxuaW1wb3J0IHNlYXJjaEljb24gZnJvbSAnLi4vLi4vLi4vcHVibGljL3NlYXJjaEljb24ucG5nJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvb3RlciBleHRlbmRzIFdlYkNvbXBvbmVudCB7XHJcbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XHJcbiAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xyXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzKSk7XHJcbiAgfVxyXG5cclxuICBpbmplY3RIVE1MKCkge1xyXG4gICAgcmV0dXJuIGh0bWxgXHJcbiAgICAgIDxpbWcgYWx0PVwid2luZG93X2xvZ29cIiBzcmM9JHt3aW5kb3dMb2dvfSBjbGFzcz1cIndpbmRvd19pY29uXCIgLz5cclxuICAgICAgPGRpdiBjbGFzcz1cImlucHV0X2JveFwiPlxyXG4gICAgICAgIDxpbWcgYWx0PVwic2VhcmNoXCIgc3JjPSR7c2VhcmNoSWNvbn0gY2xhc3M9XCJ3aW5kb3dfaWNvblwiIC8+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCLssL7quLBcIiAvPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgJHttYWluSWNvbnNcclxuICAgICAgICAubWFwKChpY29uKSA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gaHRtbGAgPG15LWljb24gZGF0YS1wYXRoPVwiJHtpY29uLnBhdGh9XCIgZGF0YS1pY29uU3JjPVwiJHtpY29uLmljb25TcmN9XCI+PC9teS1pY29uPiBgO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmpvaW4oJycpfVxyXG4gICAgYDtcclxuICB9XHJcblxyXG4gIGhhbmRsZUNsaWNrKGUpIHtcclxuICAgIGlmICghZS50YXJnZXQuY2xvc2VzdCgnbXktaWNvbicpKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgaWNvbiA9IGUudGFyZ2V0LmNsb3Nlc3QoJ215LWljb24nKTtcclxuICAgIHJvdXRlci5uYXZpZ2F0ZVRvKGljb24uZGF0YXNldC5wYXRoKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFdlYkNvbXBvbmVudCBmcm9tICcuLi8uLi9jb3JlL1dlYkNvbXBvbmVudCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIb21lIGV4dGVuZHMgV2ViQ29tcG9uZW50IHt9XHJcbiIsImltcG9ydCBXZWJDb21wb25lbnQgZnJvbSAnLi4vLi4vY29yZS9XZWJDb21wb25lbnQnO1xyXG5pbXBvcnQgeyBodG1sIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbHMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV0cmlzIGV4dGVuZHMgV2ViQ29tcG9uZW50IHtcclxuICBpbmplY3RIVE1MKCkge1xyXG4gICAgcmV0dXJuIGh0bWxgXHJcbiAgICAgIDxoMT5UZXRyaXM8L2gxPlxyXG4gICAgICA8cD5Zb3UgYXJlIHZpZXdpbmcgdGhlIFRldHJpcyBjb21wb25lbnQhPC9wPlxyXG4gICAgYDtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFdlYkNvbXBvbmVudCBmcm9tICcuLi8uLi9jb3JlL1dlYkNvbXBvbmVudCc7XHJcbmltcG9ydCB7IGh0bWwgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGbGFwcHlCaXJkIGV4dGVuZHMgV2ViQ29tcG9uZW50IHtcclxuICBpbmplY3RIVE1MKCkge1xyXG4gICAgcmV0dXJuIGh0bWxgXHJcbiAgICAgIDxoMT5GbGFwcHkgQmlyZDwvaDE+XHJcbiAgICAgIDxwPllvdSBhcmUgdmlld2luZyB0aGUgRmxhcHB5IEJpcmQgY29tcG9uZW50ITwvcD5cclxuICAgICAgPHA+WW91IGFyZSB2aWV3aW5nIHRoZSBGbGFwcHkgQmlyZCBjb21wb25lbnQhPC9wPlxyXG4gICAgICA8cD5Zb3UgYXJlIHZpZXdpbmcgdGhlIEZsYXBweSBCaXJkIGNvbXBvbmVudCE8L3A+XHJcbiAgICAgIDxwPllvdSBhcmUgdmlld2luZyB0aGUgRmxhcHB5IEJpcmQgY29tcG9uZW50ITwvcD5cclxuICAgICAgPHA+WW91IGFyZSB2aWV3aW5nIHRoZSBGbGFwcHkgQmlyZCBjb21wb25lbnQhPC9wPlxyXG4gICAgICA8cD5Zb3UgYXJlIHZpZXdpbmcgdGhlIEZsYXBweSBCaXJkIGNvbXBvbmVudCE8L3A+XHJcbiAgICBgO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBodG1sIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbHMnO1xyXG5pbXBvcnQgcm91dGVyIGZyb20gJy4uLy4uL2NvcmUvUm91dGVyJztcclxuaW1wb3J0IFdlYkNvbXBvbmVudCBmcm9tICcuLi8uLi9jb3JlL1dlYkNvbXBvbmVudCc7XHJcbmltcG9ydCB7IGdldExvY2FsSWNvbnMsIG1haW5JY29ucyB9IGZyb20gJy4uLy4uL3V0aWxzL3JvdXRlcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJY29ucyBleHRlbmRzIFdlYkNvbXBvbmVudCB7XHJcbiAgYXN5bmMgY29ubmVjdGVkQ2FsbGJhY2soKSB7XHJcbiAgICB0aGlzLmljb25zID0gWy4uLm1haW5JY29ucywgLi4uKGF3YWl0IGdldExvY2FsSWNvbnMoKSldO1xyXG4gICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcclxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNsaWNrKTtcclxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCB0aGlzLmhhbmRsZURvdWJsZUNsaWNrKTtcclxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlS2V5RG93bik7XHJcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2ljb25DaGFuZ2UnLCB0aGlzLmhhbmRsZUljb25DaGFuZ2UpO1xyXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdpY29uRGVsZXRlJywgdGhpcy5oYW5kbGVJY29uRGVsZXRlKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCkge1xyXG4gICAgcmV0dXJuIFsnaWNvbnMnXTtcclxuICB9XHJcblxyXG4gIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lLCBvbGRWYWx1ZSwgbmV3VmFsdWUpIHtcclxuICAgIGlmIChvbGRWYWx1ZSA9PT0gbmV3VmFsdWUpIHJldHVybjtcclxuICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgfVxyXG5cclxuICBpbmplY3RIVE1MKCkge1xyXG4gICAgcmV0dXJuIGh0bWxgXHJcbiAgICAgICR7dGhpcy5pY29uc1xyXG4gICAgICAgIC5tYXAoKGljb24pID0+IHtcclxuICAgICAgICAgIHJldHVybiBodG1sYFxyXG4gICAgICAgICAgICA8bXktaWNvbiBkYXRhLXBhdGg9JHtpY29uLnBhdGh9IGRhdGEtbGFiZWw9JHtpY29uLmxhYmVsfSBkYXRhLWljb25TcmM9JHtpY29uLmljb25TcmN9PjwvbXktaWNvbj5cclxuICAgICAgICAgIGA7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuam9pbignJyl9XHJcbiAgICBgO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGljb25zKCkge1xyXG4gICAgcmV0dXJuIEpTT04ucGFyc2UodGhpcy5nZXRBdHRyaWJ1dGUoJ2ljb25zJykpO1xyXG4gIH1cclxuXHJcbiAgc2V0IGljb25zKHZhbHVlKSB7XHJcbiAgICB0aGlzLnNldEF0dHJpYnV0ZSgnaWNvbnMnLCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlQ2xpY2soZSkge1xyXG4gICAgaWYgKCFlLnRhcmdldC5jbG9zZXN0KCdteS1pY29uJykpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBpY29uID0gZS50YXJnZXQuY2xvc2VzdCgnbXktaWNvbicpO1xyXG4gICAgaWNvbi50b2dnbGVBdHRyaWJ1dGUoJ2NoZWNrZWQnKTtcclxuICAgIHRoaXMucXVlcnlTZWxlY3RvckFsbCgnbXktaWNvbicpLmZvckVhY2goKG5vZGUpID0+IHtcclxuICAgICAgaWYgKG5vZGUgIT09IGljb24pIHtcclxuICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZSgnY2hlY2tlZCcpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGhhbmRsZURvdWJsZUNsaWNrKGUpIHtcclxuICAgIGlmICghZS50YXJnZXQuY2xvc2VzdCgnbXktaWNvbicpKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgaWNvbiA9IGUudGFyZ2V0LmNsb3Nlc3QoJ215LWljb24nKTtcclxuICAgIHJvdXRlci5uYXZpZ2F0ZVRvKGljb24uZGF0YXNldC5wYXRoKTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUtleURvd24oZSkge1xyXG4gICAgY29uc3QgY2hlY2tlZEVsID0gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKCdteS1pY29uW2NoZWNrZWRdJyk7XHJcbiAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHtcclxuICAgICAgaWYgKGNoZWNrZWRFbC5sZW5ndGggPiAxKSByZXR1cm47XHJcbiAgICAgIGlmICghY2hlY2tlZEVsKSByZXR1cm47XHJcbiAgICAgIHJvdXRlci5uYXZpZ2F0ZVRvKGNoZWNrZWRFbFswXS5kYXRhc2V0LnBhdGgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlSWNvbkNoYW5nZShlKSB7XHJcbiAgICBjb25zdCB7IHBhdGgsIGxhYmVsLCBpY29uU3JjIH0gPSBlLmRldGFpbDtcclxuICAgIGNvbnN0IHByZXZJY29uSW5kZXggPSB0aGlzLmljb25zLmZpbmRJbmRleCgoaWNvbikgPT4gaWNvbi5wYXRoID09PSBwYXRoKTtcclxuXHJcbiAgICBpZiAocHJldkljb25JbmRleCA9PT0gLTEpIHtcclxuICAgICAgdGhpcy5pY29ucyA9IFsuLi50aGlzLmljb25zLCB7IHBhdGgsIGxhYmVsLCBpY29uU3JjIH1dO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgbmV3SWNvbnMgPSBbLi4udGhpcy5pY29uc107XHJcbiAgICAgIG5ld0ljb25zW3ByZXZJY29uSW5kZXhdID0geyBwYXRoLCBsYWJlbCwgaWNvblNyYyB9O1xyXG4gICAgICB0aGlzLmljb25zID0gbmV3SWNvbnM7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVJY29uRGVsZXRlKGUpIHtcclxuICAgIGNvbnN0IHsgcGF0aCB9ID0gZS5kZXRhaWw7XHJcbiAgICB0aGlzLmljb25zID0gdGhpcy5pY29ucy5maWx0ZXIoKGljb24pID0+IGljb24ucGF0aCAhPT0gcGF0aCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IGh0bWwgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XHJcbmltcG9ydCBXZWJDb21wb25lbnQgZnJvbSAnLi4vLi4vY29yZS9XZWJDb21wb25lbnQnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSWNvbiBleHRlbmRzIFdlYkNvbXBvbmVudCB7XHJcbiAgaW5qZWN0SFRNTCgpIHtcclxuICAgIGNvbnN0IHsgbGFiZWwsIGljb25zcmMgfSA9IHRoaXMuZGF0YXNldDtcclxuICAgIHJldHVybiBodG1sYFxyXG4gICAgICA8aW1nIGFsdD1cIiR7bGFiZWx9X2ljb25cIiBzcmM9JHtpY29uc3JjfSAvPlxyXG4gICAgICAke2xhYmVsID8gYDxzcGFuIGNsYXNzPVwiaWNvbl9uYW1lXCI+JHtsYWJlbH08L3NwYW4+YCA6ICcnfVxyXG4gICAgYDtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFdlYkNvbXBvbmVudCBmcm9tICcuLi8uLi9jb3JlL1dlYkNvbXBvbmVudCc7XG5pbXBvcnQgeyBodG1sIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbHMnO1xuaW1wb3J0ICcuL3N0eWxlcy5zY3NzJztcbmltcG9ydCBzYW5kYm94REIgZnJvbSAnLi4vLi4vY29yZS9JbmRleGVkREInO1xuaW1wb3J0IE5vdGVQYWRJY29uIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9ub3RlcGFkLnBuZyc7XG5pbXBvcnQgcm91dGVyIGZyb20gJy4uLy4uL2NvcmUvUm91dGVyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTm90ZVBhZCBleHRlbmRzIFdlYkNvbXBvbmVudCB7XG4gIGFzeW5jIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMuZGF0YSA9IChhd2FpdCBzYW5kYm94REIuZ2V0RGF0YSgnbm90ZXBhZCcsIHRoaXMuaWQpKSA/PyB7XG4gICAgICB0aXRsZTogJ+ygnOuqqeyXhuydjCcsXG4gICAgICBjb250ZW50OiAnJyxcbiAgICB9O1xuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdzYXZlJywgdGhpcy5oYW5kbGVTYXZlKTtcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2xvY2FsU2F2ZScsIHRoaXMuaGFuZGxlTG9jYWxTYXZlKTtcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2RlbGV0ZScsIHRoaXMuaGFuZGxlRGVsZXRlKTtcbiAgfVxuXG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2F2ZScsIHRoaXMuaGFuZGxlU2F2ZSk7XG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2NhbFNhdmUnLCB0aGlzLmhhbmRsZUxvY2FsU2F2ZSk7XG4gIH1cblxuICBpbmplY3RIVE1MKCkge1xuICAgIGNvbnN0IHsgdGl0bGUsIGNvbnRlbnQgfSA9IHRoaXMuZGF0YTtcbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxteS1ub3RlcGFkLWhlYWRlciB0aXRsZT0ke3RpdGxlfT48L215LW5vdGVwYWQtaGVhZGVyPlxuICAgICAgPHRleHRhcmVhPiR7Y29udGVudH08L3RleHRhcmVhPlxuICAgIGA7XG4gIH1cblxuICBoYW5kbGVMb2NhbFNhdmUoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBub3RlUGFkRGF0YSA9IHRoaXMuZ2V0Tm90ZVBhZERhdGEoKTtcbiAgICBpZiAoIW5vdGVQYWREYXRhKSByZXR1cm47XG4gICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtub3RlUGFkRGF0YS5jb250ZW50XSwgeyB0eXBlOiAndGV4dC9wbGFpbicgfSk7XG4gICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICBsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgIGxpbmsuZG93bmxvYWQgPSBgJHtub3RlUGFkRGF0YS50aXRsZX0udHh0YDtcbiAgICBsaW5rLmNsaWNrKCk7XG4gIH1cblxuICBhc3luYyBoYW5kbGVTYXZlKGUpIHtcbiAgICB0cnkge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGNvbnN0IG5vdGVQYWREYXRhID0gdGhpcy5nZXROb3RlUGFkRGF0YSgpO1xuICAgICAgaWYgKCFub3RlUGFkRGF0YSkgcmV0dXJuO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzYW5kYm94REIudXBzZXJ0RGF0YSgnbm90ZXBhZCcsIG5vdGVQYWREYXRhKTtcblxuICAgICAgY29uc3QgcGF0aCA9IGAvbm90ZXBhZC8ke3Jlc3VsdH1gO1xuXG4gICAgICBhbGVydCgn7KCA7J6l65CY7JeI7Iq164uI64ukLicpO1xuICAgICAgY29uc3QgaWNvbkNoYW5nZUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdpY29uQ2hhbmdlJywge1xuICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICBwYXRoLFxuICAgICAgICAgIGxhYmVsOiBub3RlUGFkRGF0YS50aXRsZS5yZXBsYWNlKC8gL2csICcmbmJzcDsnKSxcbiAgICAgICAgICBpY29uU3JjOiBOb3RlUGFkSWNvbixcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbXktaWNvbnMnKS5kaXNwYXRjaEV2ZW50KGljb25DaGFuZ2VFdmVudCk7XG5cbiAgICAgIGlmICh0aGlzLmlkID09PSByZXN1bHQpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gbm90ZVBhZERhdGE7XG4gICAgICAgIHRoaXMucXVlcnlTZWxlY3RvcignbXktbm90ZXBhZC1oZWFkZXInKS5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgbm90ZVBhZERhdGEudGl0bGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcm91dGVyLm5hdmlnYXRlVG8ocGF0aCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBhbGVydCgn7KCA7J6l7JeQIOyLpO2MqO2WiOyKteuLiOuLpC4nKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBoYW5kbGVEZWxldGUoZSkge1xuICAgIHRyeSB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgY29uc3QgY29uZmlybVJlc3VsdCA9IHdpbmRvdy5jb25maXJtKCfsoJXrp5Ag7IKt7KCc7ZWY7Iuc6rKg7Iq164uI6rmMPycpO1xuICAgICAgaWYgKCFjb25maXJtUmVzdWx0KSByZXR1cm47XG5cbiAgICAgIGF3YWl0IHNhbmRib3hEQi5kZWxldGVEYXRhKCdub3RlcGFkJywgdGhpcy5pZCk7XG5cbiAgICAgIGFsZXJ0KCfsgq3soJzrkJjsl4jsirXri4jri6QuJyk7XG4gICAgICBjb25zdCBpY29uRGVsZXRlRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2ljb25EZWxldGUnLCB7XG4gICAgICAgIGRldGFpbDoge1xuICAgICAgICAgIHBhdGg6IGAvbm90ZXBhZC8ke3RoaXMuaWR9YCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbXktaWNvbnMnKS5kaXNwYXRjaEV2ZW50KGljb25EZWxldGVFdmVudCk7XG4gICAgICByb3V0ZXIucmVwbGFjZVRvKCcvbm90ZXBhZCcpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgYWxlcnQoJ+yCreygnOyXkCDsi6TtjKjtlojsirXri4jri6QuJyk7XG4gICAgfVxuICB9XG5cbiAgZ2V0Tm90ZVBhZERhdGEoKSB7XG4gICAgY29uc3QgY29udGVudEVsID0gdGhpcy5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYScpO1xuICAgIGNvbnN0IGNvbnRlbnQgPSBjb250ZW50RWwudmFsdWUudHJpbSgpO1xuICAgIGlmICghY29udGVudCkge1xuICAgICAgYWxlcnQoJ+uCtOyaqeydtCDsl4bsirXri4jri6QuJyk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBsZXQgdGl0bGU7XG4gICAgd2hpbGUgKCF0aXRsZSkge1xuICAgICAgdGl0bGUgPSBwcm9tcHQoJ+2MjOydvOuqheydhCDsnoXroKXtlZjshLjsmpQuJywgdGhpcy5kYXRhLnRpdGxlLnJlcGxhY2UoLyZuYnNwOy9nLCAnICcpKTtcbiAgICAgIGlmICghdGl0bGUpIHtcbiAgICAgICAgY29uc3QgY29uZmlybVJlc3VsdCA9IHdpbmRvdy5jb25maXJtKCfsoJzrqqnsnYAg7ZWE7IiY7J6F64uI64ukLicpO1xuICAgICAgICBpZiAoIWNvbmZpcm1SZXN1bHQpIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBpZDogdGhpcy5pZCxcbiAgICAgIHRpdGxlOiB0aXRsZS50cmltKCkucmVwbGFjZSgvIC9nLCAnJm5ic3A7JyksXG4gICAgICBjb250ZW50OiBjb250ZW50LnJlcGxhY2UoLyAvZywgJyZuYnNwOycpLnJlcGxhY2UoL1xcbi9nLCAnPGJyPicpLnJlcGxhY2UoL1xcdC9nLCAnJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7JyksXG4gICAgfTtcbiAgfVxuXG4gIGdldCBpZCgpIHtcbiAgICByZXR1cm4gTnVtYmVyKHRoaXMuZ2V0QXR0cmlidXRlKCdpZCcpKTtcbiAgfVxufVxuIiwiaW1wb3J0IHJvdXRlciBmcm9tICcuLi8uLi8uLi9jb3JlL1JvdXRlcic7XHJcblxyXG5jb25zdCBkaXNhYmxlID0gdHJ1ZTtcclxuXHJcbmNvbnN0IGJ1dHRvbnMgPSBbXHJcbiAge1xyXG4gICAgaWQ6ICdmaWxlJyxcclxuICAgIHRpdGxlOiAn7YyM7J28JyxcclxuICAgIGtleTogJ0YnLFxyXG4gICAgc2xvdHM6IFtcclxuICAgICAgeyBpZDogMSwgdGV4dDogJ+yDiOuhnCDrp4zrk6TquLAoTiknLCBrZXk6IFsnQ3RybCcsICdOJ10sIG9uQ2xpY2s6IGhhbmRsZU5ld0NsaWNrIH0sXHJcbiAgICAgIHsgaWQ6IDIsIHRleHQ6ICfrgrQg7Lu07ZOo7YSw7JeQIOyggOyepShXKScsIGtleTogWydDdHJsJywgJ1NoaWZ0JywgJ04nXSwgb25DbGljazogaGFuZGxlTG9jYWxTYXZlQ2xpY2sgfSxcclxuICAgICAgeyBpZDogMywgdGV4dDogJ+yggOyepShTKScsIGtleTogWydDdHJsJywgJ1MnXSwgb25DbGljazogaGFuZGxlU2F2ZUNsaWNrIH0sXHJcbiAgICAgIHsgaWQ6IDQsIHRleHQ6ICfsgq3soJwoRCknLCBrZXk6IFsnQ3RybCcsICdTaGlmdCcsICdTJ10sIG9uQ2xpY2s6IGhhbmRsZURlbGV0ZUNsaWNrIH0sXHJcbiAgICAgIHsgaWQ6IDUsIHRleHQ6ICftjpjsnbTsp4Ag7ISk7KCVKFUpLi4uJywga2V5OiBbXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiA2LCB0ZXh0OiAn7J247IeEKFApLi4uJywga2V5OiBbJ0N0cmwnLCAnUCddLCBkaXNhYmxlIH0sXHJcbiAgICAgIHsgaWQ6IDcsIHRleHQ6ICfrgZ3rgrTquLAoWCknLCBrZXk6IFtdLCBkaXNhYmxlIH0sXHJcbiAgICBdLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6ICdlZGl0JyxcclxuICAgIHRpdGxlOiAn7Y647KeRJyxcclxuICAgIGtleTogJ0UnLFxyXG4gICAgc2xvdHM6IFtcclxuICAgICAgeyBpZDogOCwgdGV4dDogJ+yLpO2WiSDst6jshowoVSknLCBrZXk6IFsnQ3RybCcsICdaJ10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogOSwgdGV4dDogJ+yemOudvOuCtOq4sChUKScsIGtleTogWydDdHJsJywgJ1gnXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiAxMCwgdGV4dDogJ+uzteyCrChDKScsIGtleTogWydDdHJsJywgJ0MnXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiAxMSwgdGV4dDogJ+u2meyXrOuEo+q4sChQKScsIGtleTogWydDdHJsJywgJ1YnXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiAxMiwgdGV4dDogJ+yCreygnChEKScsIGtleTogWydEZWwnXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiAxMywgdGV4dDogJ0JpbmfsnLzroZwg6rKA7IOJKFMpLi4uJywga2V5OiBbJ0N0cmwnLCAnRSddLCBkaXNhYmxlIH0sXHJcbiAgICAgIHsgaWQ6IDE0LCB0ZXh0OiAn7LC+6riwKEYpLi4uJywga2V5OiBbJ0N0cmwnLCAnRiddLCBkaXNhYmxlIH0sXHJcbiAgICAgIHsgaWQ6IDE1LCB0ZXh0OiAn64uk7J2MIOywvuq4sChOKScsIGtleTogWydGMyddLCBkaXNhYmxlIH0sXHJcbiAgICAgIHsgaWQ6IDE2LCB0ZXh0OiAn7J207KCEIOywvuq4sChWKScsIGtleTogWydTaGlmdCcsICdGMyddLCBkaXNhYmxlIH0sXHJcbiAgICAgIHsgaWQ6IDE3LCB0ZXh0OiAn67CU6r646riwKFIpLi4uJywga2V5OiBbJ0N0cmwnLCAnSCddLCBkaXNhYmxlIH0sXHJcbiAgICAgIHsgaWQ6IDE4LCB0ZXh0OiAn7J2064+ZKEcpLi4uJywga2V5OiBbJ0N0cmwnLCAnRyddLCBkaXNhYmxlIH0sXHJcbiAgICAgIHsgaWQ6IDE5LCB0ZXh0OiAn66qo65GQIOyEoO2DnShBKScsIGtleTogWydDdHJsJywgJ0EnXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiAyMCwgdGV4dDogJ+yLnOqwhC/rgqDsp5woRCknLCBrZXk6IFsnRjUnXSwgZGlzYWJsZSB9LFxyXG4gICAgXSxcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiAnZm9ybWF0JyxcclxuICAgIHRpdGxlOiAn7ISc7IudJyxcclxuICAgIGtleTogJ08nLFxyXG4gICAgc2xvdHM6IFtcclxuICAgICAgeyBpZDogMjEsIHRleHQ6ICfsnpDrj5kg7KSEIOuwlOq/iChXKScsIGtleTogW10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogMjIsIHRleHQ6ICfquIDqvLQoRikuLi4nLCBrZXk6IFtdLCBkaXNhYmxlIH0sXHJcbiAgICBdLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6ICd2aWV3JyxcclxuICAgIHRpdGxlOiAn67O06riwJyxcclxuICAgIGtleTogJ1YnLFxyXG4gICAgc2xvdHM6IFtcclxuICAgICAgeyBpZDogMjMsIHRleHQ6ICftmZXrjIDtlZjquLAoWiknLCBrZXk6IFsnQ3RybCcsICcrJ10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogMjQsIHRleHQ6ICfstpXshoztlZjquLAoWCknLCBrZXk6IFsnQ3RybCcsICctJ10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogMjUsIHRleHQ6ICfsg4Htg5wg7ZGc7Iuc7KSEKFMpJywga2V5OiBbXSwgZGlzYWJsZSB9LFxyXG4gICAgXSxcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiAnaGVscCcsXHJcbiAgICB0aXRsZTogJ+uPhOybgOunkCcsXHJcbiAgICBrZXk6ICdIJyxcclxuICAgIHNsb3RzOiBbXHJcbiAgICAgIHsgaWQ6IDI2LCB0ZXh0OiAn64+E7JuA66eQIOuztOq4sChIKScsIGtleTogW10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogMjcsIHRleHQ6ICftlLzrk5zrsLEg67O064K06riwKEYpJywga2V5OiBbXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiAyOCwgdGV4dDogJ+uplOuqqOyepSDsoJXrs7QoQSknLCBrZXk6IFtdLCBkaXNhYmxlIH0sXHJcbiAgICBdLFxyXG4gIH0sXHJcbl07XHJcblxyXG5jb25zdCBzbG90cyA9IGJ1dHRvbnMucmVkdWNlKChhY2MsIGN1cikgPT4ge1xyXG4gIHJldHVybiBbLi4uYWNjLCAuLi5jdXIuc2xvdHNdO1xyXG59LCBbXSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBidXR0b25zO1xyXG5leHBvcnQgeyBzbG90cyB9O1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlU2F2ZUNsaWNrKCkge1xyXG4gIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3NhdmUnLCB7IGJ1YmJsZXM6IHRydWUgfSkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVMb2NhbFNhdmVDbGljaygpIHtcclxuICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdsb2NhbFNhdmUnLCB7IGJ1YmJsZXM6IHRydWUgfSkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVEZWxldGVDbGljaygpIHtcclxuICBjb25zdCBub3RlcGFkID0gdGhpcy5jbG9zZXN0KCdteS1ub3RlcGFkJyk7XHJcbiAgaWYgKG5vdGVwYWQuaWQgPT09IDApIHJldHVybjtcclxuICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdkZWxldGUnLCB7IGJ1YmJsZXM6IHRydWUgfSkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVOZXdDbGljaygpIHtcclxuICBjb25zdCBub3RlcGFkID0gdGhpcy5jbG9zZXN0KCdteS1ub3RlcGFkJyk7XHJcbiAgaWYgKG5vdGVwYWQuaWQgPT09IDApIHtcclxuICAgIG5vdGVwYWQucXVlcnlTZWxlY3RvcigndGV4dGFyZWEnKS52YWx1ZSA9ICcnO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuICByb3V0ZXIubmF2aWdhdGVUbygnL25vdGVwYWQnKTtcclxufVxyXG4iLCJpbXBvcnQgeyBodG1sIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvdXRpbHMnO1xuaW1wb3J0IFdlYkNvbXBvbmVudCBmcm9tICcuLi8uLi8uLi9jb3JlL1dlYkNvbXBvbmVudCc7XG5pbXBvcnQgYnV0dG9ucywgeyBzbG90cyB9IGZyb20gJy4uL2NvbnN0L2J1dHRvbnMnO1xuaW1wb3J0IE5vdGVQYWRJY29uIGZyb20gJy4uLy4uLy4uLy4uL3B1YmxpYy9ub3RlcGFkLnBuZyc7XG5pbXBvcnQgcm91dGVyIGZyb20gJy4uLy4uLy4uL2NvcmUvUm91dGVyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTm90ZVBhZEhlYWRlciBleHRlbmRzIFdlYkNvbXBvbmVudCB7XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2spO1xuICB9XG5cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2spO1xuICB9XG5cbiAgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7XG4gICAgcmV0dXJuIFsndGl0bGUnXTtcbiAgfVxuXG4gIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lLCBvbGRWYWx1ZSwgbmV3VmFsdWUpIHtcbiAgICBpZiAob2xkVmFsdWUgIT09IG5ld1ZhbHVlKSB7XG4gICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cbiAgfVxuXG4gIGluamVjdEhUTUwoKSB7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8aGVhZGVyPlxuICAgICAgICA8c3Bhbj5cbiAgICAgICAgICA8aW1nIGFsdD1cIm5vdGVwYWRfaWNvblwiIHNyYz0ke05vdGVQYWRJY29ufSAvPlxuICAgICAgICAgICR7dGhpcy50aXRsZX0gLSBXaW5kb3dzIOuplOuqqOyepVxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ2aWV3X2J1dHRvbnNcIj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwidmlld19idXR0b25cIiBpZD1cIm1pbmlcIj7wn5eVPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInZpZXdfYnV0dG9uXCIgaWQ9XCJmdWxsXCI+8J+XljwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJ2aWV3X2J1dHRvblwiIGlkPVwiY2xvc2VcIj7ihak8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2hlYWRlcj5cbiAgICAgIDxkaXYgY2xhc3M9XCJlZGl0X2J1dHRvbnNcIj5cbiAgICAgICAgJHtidXR0b25zXG4gICAgICAgICAgLm1hcChcbiAgICAgICAgICAgIChidXR0b24pID0+IGh0bWxgXG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJlZGl0X2J1dHRvblwiPlxuICAgICAgICAgICAgICAgICR7YnV0dG9uLnRpdGxlfSg8dT4ke2J1dHRvbi5rZXl9PC91PilcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicG9wdXBcIj5cbiAgICAgICAgICAgICAgICAgICR7YnV0dG9uLnNsb3RzXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgKHNsb3QpID0+IGh0bWxgXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3ViXCIgZGF0YS1pZD1cIiR7c2xvdC5pZH1cIiBkYXRhLWRpc2FibGU9XCIkeyEhc2xvdC5kaXNhYmxlfVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PiR7c2xvdC50ZXh0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAke3Nsb3Qua2V5Lmxlbmd0aCA+IDAgPyBgPGRpdj4ke3Nsb3Qua2V5LmpvaW4oJyArICcpfTwvZGl2PmAgOiAnJ31cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAuam9pbignJyl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgYFxuICAgICAgICAgIClcbiAgICAgICAgICAuam9pbignJyl9XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICB9XG5cbiAgaGFuZGxlQ2xpY2soZSkge1xuICAgIGNvbnN0IHZpZXdCdXR0b24gPSBlLnRhcmdldC5jbG9zZXN0KCcudmlld19idXR0b24nKTtcbiAgICBjb25zdCBlZGl0QnV0dG9uID0gZS50YXJnZXQuY2xvc2VzdCgnLmVkaXRfYnV0dG9uJyk7XG4gICAgY29uc3Qgc3ViID0gZS50YXJnZXQuY2xvc2VzdCgnLnN1YicpO1xuXG4gICAgaWYgKHZpZXdCdXR0b24pIHtcbiAgICAgIHRoaXMuY2xpY2tWaWV3QnV0dG9uKHZpZXdCdXR0b24pO1xuICAgIH0gZWxzZSBpZiAoZWRpdEJ1dHRvbikge1xuICAgICAgdGhpcy5jbGlja0VkaXRCdXR0b24oZWRpdEJ1dHRvbiwgc3ViKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jbG9zZVBvcHVwKCk7XG4gICAgfVxuICB9XG5cbiAgY2xpY2tWaWV3QnV0dG9uKHZpZXdCdXR0b24pIHtcbiAgICBzd2l0Y2ggKHZpZXdCdXR0b24uaWQpIHtcbiAgICAgIGNhc2UgJ2Z1bGwnOlxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgnZnVsbHNjcmVlbicpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ21pbmknOlxuICAgICAgY2FzZSAnY2xvc2UnOlxuICAgICAgICByb3V0ZXIuYmFjaygpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGNsaWNrRWRpdEJ1dHRvbihlZGl0QnV0dG9uLCBzdWIpIHtcbiAgICBpZiAoc3ViKSB7XG4gICAgICBjb25zdCBzbG90SWQgPSBOdW1iZXIoc3ViLmRhdGFzZXQuaWQpO1xuICAgICAgY29uc3QgeyBvbkNsaWNrIH0gPSBzbG90cy5maW5kKChzbG90KSA9PiBzbG90LmlkID09PSBzbG90SWQpIHx8IHt9O1xuICAgICAgaWYgKG9uQ2xpY2spIHtcbiAgICAgICAgb25DbGljay5jYWxsKHRoaXMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnRvZ2dsZVBvcHVwKGVkaXRCdXR0b24pO1xuICAgIH1cbiAgfVxuXG4gIHRvZ2dsZVBvcHVwKGVkaXRCdXR0b24pIHtcbiAgICBjb25zdCBwb3B1cCA9IGVkaXRCdXR0b24ucXVlcnlTZWxlY3RvcignLnBvcHVwJyk7XG4gICAgaWYgKHBvcHVwLmNsYXNzTGlzdC5jb250YWlucygnc2hvdycpKSB7XG4gICAgICBwb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY2xvc2VQb3B1cCgpO1xuICAgICAgcG9wdXAuY2xhc3NMaXN0LmFkZCgnc2hvdycpO1xuICAgIH1cbiAgfVxuXG4gIGNsb3NlUG9wdXAoKSB7XG4gICAgLy8gY29uc3QgcG9wdXBzID0gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXAuc2hvdycpO1xuICAgIC8vIHBvcHVwcy5mb3JFYWNoKChwb3B1cCkgPT4gcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpKTtcbiAgICBjb25zdCBwb3B1cCA9IHRoaXMucXVlcnlTZWxlY3RvcignLnBvcHVwLnNob3cnKTtcbiAgICBwb3B1cD8uY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpO1xuICB9XG5cbiAgZ2V0IHRpdGxlKCkge1xuICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZSgndGl0bGUnKTtcbiAgfVxuXG4gIHNldCB0aXRsZSh2YWx1ZSkge1xuICAgIHRoaXMuc2V0QXR0cmlidXRlKCd0aXRsZScsIHZhbHVlKTtcbiAgfVxufVxuIiwiaW1wb3J0ICcuL3N0eWxlLnNjc3MnO1xyXG5pbXBvcnQgc2FuZGJveERCIGZyb20gJy4vY29yZS9JbmRleGVkREInO1xyXG5pbXBvcnQgQXBwIGZyb20gJy4vQXBwJztcclxuaW1wb3J0IEZvb3RlciBmcm9tICcuL3ZpZXcvQ29tbW9uL0Zvb3Rlcic7XHJcbmltcG9ydCBIb21lIGZyb20gJy4vdmlldy9Ib21lJztcclxuaW1wb3J0IFRldHJpcyBmcm9tICcuL3ZpZXcvVGV0cmlzJztcclxuaW1wb3J0IEZsYXBweUJpcmQgZnJvbSAnLi92aWV3L0ZsYXBweUJpcmQnO1xyXG5pbXBvcnQgSWNvbnMgZnJvbSAnLi92aWV3L0NvbW1vbi9JY29ucyc7XHJcbmltcG9ydCBJY29uIGZyb20gJy4vdmlldy9Db21tb24vSWNvbic7XHJcbmltcG9ydCBOb3RlUGFkIGZyb20gJy4vdmlldy9Ob3RlUGFkJztcclxuaW1wb3J0IE5vdGVQYWRIZWFkZXIgZnJvbSAnLi92aWV3L05vdGVQYWQvY29tcG9uZW50cy9Ob3RlUGFkSGVhZGVyJztcclxuaW1wb3J0IHJvdXRlciBmcm9tICcuL2NvcmUvUm91dGVyJztcclxuXHJcbihhc3luYyAoKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IHNhbmRib3hEQi5vcGVuREIoKTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBxdWV1ZU1pY3JvdGFzaygoKSA9PiBhbGVydCgnSW5kZXhlZERC66W8IOyCrOyaqe2VoCDsiJgg7JeG7Iq164uI64ukLicpKTtcclxuICB9XHJcblxyXG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbXktYXBwJywgQXBwKTtcclxuICBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ215LWZvb3RlcicsIEZvb3Rlcik7XHJcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdteS1ob21lJywgSG9tZSk7XHJcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdteS10ZXRyaXMnLCBUZXRyaXMpO1xyXG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbXktZmxhcHB5YmlyZCcsIEZsYXBweUJpcmQpO1xyXG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbXktaWNvbnMnLCBJY29ucyk7XHJcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdteS1pY29uJywgSWNvbik7XHJcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdteS1ub3RlcGFkJywgTm90ZVBhZCk7XHJcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdteS1ub3RlcGFkLWhlYWRlcicsIE5vdGVQYWRIZWFkZXIpO1xyXG59KSgpO1xyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiByb3V0ZXIucmVuZGVyKCkpO1xyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCAoKSA9PiByb3V0ZXIucmVuZGVyKCkpO1xyXG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImRiIiwiY29uc3RydWN0b3IiLCJkYk5hbWUiLCJkYlZlcnNpb24iLCJzdG9yZXMiLCJ0aGlzIiwiYXN5bmMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlcXVlc3QiLCJ3aW5kb3ciLCJpbmRleGVkREIiLCJvcGVuIiwib25zdWNjZXNzIiwicmVzdWx0Iiwib25lcnJvciIsImUiLCJvbnVwZ3JhZGVuZWVkZWQiLCJmb3JFYWNoIiwic3RvcmUiLCJvYmplY3RTdG9yZU5hbWVzIiwiY29udGFpbnMiLCJkZWxldGVPYmplY3RTdG9yZSIsImNyZWF0ZU9iamVjdFN0b3JlIiwia2V5UGF0aCIsInN0b3JlTmFtZSIsImlkIiwidHJhbnNhY3Rpb24iLCJvYmplY3RTdG9yZSIsImdldCIsImdldEFsbCIsImRhdGEiLCJtb2RpZmllZERhdGEiLCJEYXRlIiwiZ2V0VGltZSIsInB1dCIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsImRlbGV0ZSIsInJlbmRlclJhdyIsInN0cmluZyIsInZhbHVlcyIsIlN0cmluZyIsInJhdyIsIldlYkNvbXBvbmVudCIsIkhUTUxFbGVtZW50IiwiY29ubmVjdGVkQ2FsbGJhY2siLCJyZW5kZXIiLCJpbm5lckhUTUwiLCJpbmplY3RIVE1MIiwiQXBwIiwiQkFTRV9VUkwiLCJyb3V0ZXMiLCJwYXRoIiwiaHRtbCIsImxhYmVsIiwiaWNvblNyYyIsIm1haW5JY29ucyIsInJlZHVjZSIsInByZXYiLCJyb3V0ZXIiLCJnZXRMb2NhbEljb25zIiwiaWNvbiIsInRpdGxlIiwicm91dGUiLCJwYXRoVG9SZWdleHAiLCJSZWdFeHAiLCJyZXBsYWNlIiwiY3VycmVudFBhdGgiLCJsb2NhdGlvbiIsInBhdGhuYW1lIiwiZmluZCIsInZhbHVlIiwidGVzdCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImdldElkRnJvbVBhdGgiLCJyZXBsYWNlVG8iLCJtYXRjaCIsIm5hdmlnYXRlVG8iLCJ1cmwiLCJoaXN0b3J5IiwicHVzaFN0YXRlIiwicmVwbGFjZVN0YXRlIiwiYmFjayIsIkZvb3RlciIsInN1cGVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZUNsaWNrIiwiYmluZCIsImpvaW4iLCJ0YXJnZXQiLCJjbG9zZXN0IiwiZGF0YXNldCIsIkhvbWUiLCJUZXRyaXMiLCJGbGFwcHlCaXJkIiwiSWNvbnMiLCJpY29ucyIsImhhbmRsZURvdWJsZUNsaWNrIiwiaGFuZGxlS2V5RG93biIsImhhbmRsZUljb25DaGFuZ2UiLCJoYW5kbGVJY29uRGVsZXRlIiwib2JzZXJ2ZWRBdHRyaWJ1dGVzIiwiYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrIiwibmFtZSIsIm9sZFZhbHVlIiwibmV3VmFsdWUiLCJtYXAiLCJKU09OIiwicGFyc2UiLCJnZXRBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJzdHJpbmdpZnkiLCJ0b2dnbGVBdHRyaWJ1dGUiLCJxdWVyeVNlbGVjdG9yQWxsIiwibm9kZSIsInJlbW92ZUF0dHJpYnV0ZSIsImNoZWNrZWRFbCIsImtleSIsImxlbmd0aCIsImRldGFpbCIsInByZXZJY29uSW5kZXgiLCJmaW5kSW5kZXgiLCJuZXdJY29ucyIsImZpbHRlciIsIkljb24iLCJpY29uc3JjIiwiTm90ZVBhZCIsImNvbnRlbnQiLCJoYW5kbGVTYXZlIiwiaGFuZGxlTG9jYWxTYXZlIiwiaGFuZGxlRGVsZXRlIiwiZGlzY29ubmVjdGVkQ2FsbGJhY2siLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicHJldmVudERlZmF1bHQiLCJub3RlUGFkRGF0YSIsImdldE5vdGVQYWREYXRhIiwiYmxvYiIsIkJsb2IiLCJ0eXBlIiwibGluayIsImNyZWF0ZUVsZW1lbnQiLCJocmVmIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiZG93bmxvYWQiLCJjbGljayIsInN0b3BQcm9wYWdhdGlvbiIsImFsZXJ0IiwiaWNvbkNoYW5nZUV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwiZXJyIiwiY29uZmlybSIsImljb25EZWxldGVFdmVudCIsInRyaW0iLCJwcm9tcHQiLCJOdW1iZXIiLCJkaXNhYmxlIiwiYnV0dG9ucyIsInNsb3RzIiwidGV4dCIsIm9uQ2xpY2siLCJub3RlcGFkIiwiYnViYmxlcyIsImFjYyIsImN1ciIsIk5vdGVQYWRIZWFkZXIiLCJidXR0b24iLCJzbG90Iiwidmlld0J1dHRvbiIsImVkaXRCdXR0b24iLCJzdWIiLCJjbGlja1ZpZXdCdXR0b24iLCJjbGlja0VkaXRCdXR0b24iLCJjbG9zZVBvcHVwIiwicGFyZW50RWxlbWVudCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInNsb3RJZCIsImNhbGwiLCJ0b2dnbGVQb3B1cCIsInBvcHVwIiwicmVtb3ZlIiwiYWRkIiwicXVldWVNaWNyb3Rhc2siLCJjdXN0b21FbGVtZW50cyIsImRlZmluZSJdLCJzb3VyY2VSb290IjoiIn0=