(()=>{"use strict";var t="/js-sandbox/";const e=new class{db;constructor(t,e,i){this.dbName=t,this.dbVersion=e,this.stores=i}async openDB(){return new Promise(((t,e)=>{const i=window.indexedDB.open(this.dbName,this.dbVersion);i.onsuccess=()=>{this.db=i.result,t()},i.onerror=t=>{e(t)},i.onupgradeneeded=()=>{this.db=i.result,this.stores.forEach((t=>{this.db.objectStoreNames.contains(t)&&this.db.deleteObjectStore(t),this.db.createObjectStore(t,{keyPath:"id"})}))}}))}async getData(t,e){return new Promise(((i,s)=>{const n=this.db.transaction(t,"readonly").objectStore(t).get(e);n.onsuccess=()=>{i(n.result)},n.onerror=t=>{s(t)}}))}async getAllData(t){return new Promise(((e,i)=>{const s=this.db.transaction(t,"readonly").objectStore(t).getAll();s.onsuccess=()=>{e(s.result)},s.onerror=t=>{i(t)}}))}async upsertData(t,e){return new Promise(((i,s)=>{const n=this.db.transaction(t,"readwrite").objectStore(t),o={...e,id:e.id||(new Date).getTime()},a=n.put(o);a.onsuccess=()=>{i(a.result)},a.onerror=()=>{console.log(a.error),s(a.error)}}))}async deleteData(t,e){return new Promise(((i,s)=>{const n=this.db.transaction(t,"readwrite").objectStore(t).delete(e);n.onsuccess=()=>{i(!0)},n.onerror=t=>{s(t)}}))}}("sandboxDB",2,["notepad"]),i=(t,...e)=>String.raw(t,...e);class s extends HTMLElement{connectedCallback(){this.render()}render(){this.innerHTML=this.injectHTML()}injectHTML(){return""}}class n extends s{injectHTML(){return i`
      <div id="page"></div>
      <my-icons tabindex="-1"></my-icons>
      <my-footer></my-footer>
    `}}const o=t+"2a583f97b153f7da7d41.png",a="/js-sandbox",r=[{path:"/",html:i`<my-home></my-home>`,label:"Home",iconSrc:null},{path:"/tetris",html:i`<my-tetris></my-tetris>`,label:"Tetris",iconSrc:t+"71c0bea6462001116fcf.png"},{path:"/flappybird",html:i`<my-flappybird></my-flappybird>`,label:"Flappy&nbsp;Bird",iconSrc:t+"39b884119b49599495ed.png"},{path:"/notepad",html:i`<my-notepad></my-notepad>`,label:"Note&nbsp;Pad",iconSrc:o},{path:"/notepad/:id",html:i`<my-notepad data-id=":id"></my-notepad>`,label:"Note&nbsp;Pad",iconSrc:null}],l=r.reduce(((t,e)=>{const{path:i,label:s,iconSrc:n}=e;return e.iconSrc?[...t,{path:i,label:s,iconSrc:n}]:t}),[]),c=async()=>[...(await e.getAllData("notepad")).reduce(((t,e)=>{const{id:i,title:s}=e;return[...t,{path:`/notepad/${i}`,label:s,iconSrc:o}]}),[])],d=r,h=new class{constructor(t){this.routes=t}pathToRegexp(t){return new RegExp(`^${t.replace(/\//g,"\\/").replace(/:\w+/g,"(.+)")}$`)}render(){const t=window.location.pathname,e=this.routes.find((e=>this.pathToRegexp(this.getUrlFrom(e.path)).test(t)));e?document.querySelector("#page").innerHTML=e.html.replace(":id",this.getIdFromPath(t)):this.replaceTo("/")}getIdFromPath(t){return t.match(/\d+/)?.[0]}navigateTo(t){this.getUrlFrom(t)!==window.location.pathname&&(window.history.pushState(null,null,a+t),this.render())}replaceTo(t){window.history.replaceState(null,null,a+t),this.render()}getUrlFrom(t){return`${a}${t}`}back(){window.history.back(),this.render()}}(d),u=t+"59cb65e4f8f2627d6c2c.png",p=t+"bc8d31a2338dd0b3f68a.png";class b extends s{connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.handleClick.bind(this))}injectHTML(){return i`
      <img alt="window_logo" src=${u} class="window_icon" />
      <div class="input_box">
        <img alt="search" src=${p} class="window_icon" /><input type="text" placeholder="Ï∞æÍ∏∞" />
      </div>
      ${l.map((t=>i` <my-icon data-path="${t.path}" data-iconSrc="${t.iconSrc}"></my-icon> `)).join("")}
    `}handleClick(t){if(!t.target.closest("my-icon"))return;const e=t.target.closest("my-icon");h.navigateTo(e.dataset.path)}}class m extends s{}const y={I:[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]],J:[[2,0,0],[2,2,2],[0,0,0]],L:[[0,0,3],[3,3,3],[0,0,0]],O:[[4,4],[4,4]],S:[[0,5,5],[5,5,0],[0,0,0]],T:[[0,6,0],[6,6,6],[0,0,0]],Z:[[7,7,0],[0,7,7],[0,0,0]]},k={0:"empty",1:"I",2:"J",3:"L",4:"O",5:"S",6:"T",7:"Z",10:"I freeze",20:"J freeze",30:"L freeze",40:"O freeze",50:"S freeze",60:"T freeze",70:"Z freeze"},v={1:100,2:300,3:500,4:800},g=10;class w{static blockQueue=w.createShuffleBlockQueue();static createShuffleBlockQueue(){return Object.values(y).sort((()=>Math.random()-.5))}static getNextTetrominos(){return w.blockQueue.slice(0,3)}constructor(t,e=!0){this.$board=t,e&&this.createNewBlock()}createNewBlock(){this.block=w.blockQueue.shift(),w.blockQueue.length<3&&(w.blockQueue=w.blockQueue.concat(w.createShuffleBlockQueue()));const t=this.getInitialBlockPos(g,this.block);this.x=t.x,this.y=t.y}rotate(t){const e=this.block[0].map(((t,e)=>this.block.map((t=>t[e])).reverse())),i=e[0].length,s=e.length;let n=this.x,o=this.y;n+i>g&&(n=g-i),n<0&&(n=0),o+s>20&&(o=20-s),o<0&&(o=0),this.canMove(t,n,o,e)&&(this.block=e,this.x=n,this.y=o)}moveLeft(t){this.canMove(t,this.x-1,this.y,this.block)&&(this.x-=1)}moveRight(t){this.canMove(t,this.x+1,this.y,this.block)&&(this.x+=1)}moveDown(t){this.canMove(t,this.x,this.y+1,this.block)?this.y+=1:0===this.y?(this.freeze(t),this.$board.stopGame()):(this.freeze(t),this.scoreUp(this.removeFullRows(t)),this.speedUp(),this.createNewBlock())}freeze(t){const{block:e,x:i,y:s}=this;e.forEach(((e,n)=>{e.forEach(((e,o)=>{0!==e&&(t[s+n][i+o]=10*e)}))}))}removeFullRows(t){let e=0;return t.forEach(((i,s)=>{i.every((t=>t>=10))&&(e+=1,t.splice(s,1),t.unshift(Array(g).fill(0)))})),e}speedUp(){10===this.$board.tetrominoCounter&&(this.$board.tetrominoCounter=0,this.$board.dropInterval*=.9),this.$board.tetrominoCounter+=1}scoreUp(t){t>0&&(this.$board.score+=v[t]??0)}canMove(t,e,i,s){for(let n=0;n<s.length;n+=1)for(let o=0;o<s[n].length;o+=1)if(0!==s[n][o]){const s=e+o,a=i+n;if(s<0||s>=g||a<0||a>=20||t[a][s]>=10)return!1}return!0}getInitialBlockPos(t,e){const i=e.findIndex((t=>t.some((t=>0!==t))));return{x:Math.floor((t-e[0].length)/2),y:-i}}clone(){const t=new w(this.$board,!1);return t.block=this.block.map((t=>[...t])),t.x=this.x,t.y=this.y,t}}class f extends s{constructor(){super(),this.board=this.getInitialBoard(g,20),this.start=!1,this.tetromino=null,this.score=0,this.lastTime=null,this.dropInterval=1e3,this.tetrominoCounter=0,this.animationId=null,this.startGame=this.startGame.bind(this),this.keydownHandler=this.keydownHandler.bind(this),this.dropBlock=this.dropBlock.bind(this)}connectedCallback(){super.connectedCallback(),this.querySelector("#start-button").addEventListener("click",this.startGame)}injectHTML(){return i`
      <button id="start-button">Í≤åÏûÑ ÏãúÏûë</button>
      <div class="board">
        ${this.board.map((t=>i`
              <ul>
                ${t.map((t=>i`<li class="cell-${k[t]}"></li>`)).join("")}
              </ul>
            `)).join("")}
      </div>
      <div class="tetromino-previews">
        ${this.nextTetrominos.map((t=>i`
              <div class="tetromino-preview">
                ${t.map((t=>i`
                      <ul class="tetromino-preview-row">
                        ${t.map((t=>i`<li class="cell-${k[t]}"></li>`)).join("")}
                      </ul>
                    `)).join("")}
              </div>
            `)).join("")}
      </div>

      <!--      <div class="score">Ï†êÏàò: <span class="score">${this.score}</span></div>-->
    `}get nextTetrominos(){return w.getNextTetrominos()}static get observedAttributes(){return["board"]}attributeChangedCallback(t){"board"===t&&this.render()}getInitialBoard(t,e){return Array.from(Array(e),(()=>Array(t).fill(0)))}startGame(){this.start||(this.start=!0,this.tetromino=new w(this),this.tetrominoCounter+=1,this.updateBoard(),document.addEventListener("keydown",this.keydownHandler),this.lastTime=performance.now(),requestAnimationFrame(this.dropBlock))}stopGame(){this.start=!1,this.board=this.getInitialBoard(g,20),this.tetrominoCounter=0,this.dropInterval=1e3,cancelAnimationFrame(this.animationId),document.removeEventListener("keydown",this.keydownHandler)}dropBlock(t){if(t-this.lastTime>this.dropInterval){const e=this.tetromino.clone(),i=this.board;this.tetromino.moveDown(i),this.updateBoard(i,e),this.lastTime=t}this.start&&(this.animationId=requestAnimationFrame(this.dropBlock))}keydownHandler(t){const e=this.tetromino.clone(),i=this.board;"ArrowDown"===t.key?this.tetromino.moveDown(i):"ArrowUp"===t.key?this.tetromino.rotate(i):"ArrowLeft"===t.key?this.tetromino.moveLeft(i):"ArrowRight"===t.key&&this.tetromino.moveRight(i),this.updateBoard(i,e)}updateBoard(t=this.board,e=null){e&&this.removeOldBlock(e,t),this.putNewBlock(this.tetromino,t),this.board=t}removeOldBlock(t,e){const{block:i,x:s,y:n}=t;i.forEach(((t,i)=>{t.forEach(((t,o)=>{e[n+i]?.[s+o]===t&&(e[n+i][s+o]=0)}))}))}putNewBlock(t,e){const{x:i,y:s,block:n}=t;n.forEach(((t,n)=>{t.forEach(((t,o)=>{0!==t&&(e[s+n][i+o]=t)}))}))}get board(){return JSON.parse(this.getAttribute("board"))}set board(t){this.setAttribute("board",JSON.stringify(t))}}class x extends s{injectHTML(){return i`
      <h1>Flappy Bird</h1>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
    `}}class S extends s{async connectedCallback(){this.icons=[...l,...await c()],super.connectedCallback(),this.addEventListener("click",this.handleClick),this.addEventListener("dblclick",this.handleDoubleClick),this.addEventListener("keydown",this.handleKeyDown),this.addEventListener("iconChange",this.handleIconChange),this.addEventListener("iconDelete",this.handleIconDelete)}static get observedAttributes(){return["icons"]}attributeChangedCallback(t,e,i){e!==i&&this.render()}injectHTML(){return i`
      ${this.icons.map((t=>i`
            <my-icon data-path=${t.path} data-label=${t.label} data-iconSrc=${t.iconSrc}></my-icon>
          `)).join("")}
    `}get icons(){return JSON.parse(this.getAttribute("icons"))}set icons(t){this.setAttribute("icons",JSON.stringify(t))}handleClick(t){if(!t.target.closest("my-icon"))return;const e=t.target.closest("my-icon");e.toggleAttribute("checked"),this.querySelectorAll("my-icon").forEach((t=>{t!==e&&t.removeAttribute("checked")}))}handleDoubleClick(t){if(!t.target.closest("my-icon"))return;const e=t.target.closest("my-icon");h.navigateTo(e.dataset.path)}handleKeyDown(t){const e=this.querySelectorAll("my-icon[checked]");if("Enter"===t.key){if(e.length>1)return;if(!e)return;h.navigateTo(e[0].dataset.path)}}handleIconChange(t){const{path:e,label:i,iconSrc:s}=t.detail,n=this.icons.findIndex((t=>t.path===e));if(-1===n)this.icons=[...this.icons,{path:e,label:i,iconSrc:s}];else{const t=[...this.icons];t[n]={path:e,label:i,iconSrc:s},this.icons=t}}handleIconDelete(t){const{path:e}=t.detail;this.icons=this.icons.filter((t=>t.path!==e))}}class C extends s{injectHTML(){const{label:t,iconsrc:e}=this.dataset;return i`
      <img alt="${t}_icon" src=${e} />
      ${t?`<span class="icon_name">${t}</span>`:""}
    `}}class E extends s{async connectedCallback(){this.data=await e.getData("notepad",this.id)??{title:"Ï†úÎ™©ÏóÜÏùå",content:""},super.connectedCallback(),this.addEventListener("save",this.handleSave),this.addEventListener("localSave",this.handleLocalSave),this.addEventListener("delete",this.handleDelete)}disconnectedCallback(){this.removeEventListener("save",this.handleSave),this.removeEventListener("localSave",this.handleLocalSave),this.removeEventListener("delete",this.handleDelete)}injectHTML(){const{title:t,content:e}=this.data;return i`
      <my-notepad-header title=${t}></my-notepad-header>
      <textarea>${e}</textarea>
    `}handleLocalSave(t){t.preventDefault();const e=this.getNotePadData();if(!e)return;const i=new Blob([e.content],{type:"text/plain"}),s=document.createElement("a");s.href=URL.createObjectURL(i),s.download=`${e.title}.txt`,s.click()}async handleSave(t){t.stopPropagation();const i=this.getNotePadData();if(i)try{const t=await e.upsertData("notepad",i),s=`/notepad/${t}`;alert("Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§.");const n=new CustomEvent("iconChange",{detail:{path:s,label:i.title,iconSrc:o}});document.querySelector("my-icons").dispatchEvent(n),this.id===t?this.title=i.title.replace(/&nbsp;/g," "):h.navigateTo(s)}catch(t){alert("Ï†ÄÏû•Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.")}}async handleDelete(t){try{if(t.stopPropagation(),!window.confirm("Ï†ïÎßê ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?"))return;await e.deleteData("notepad",this.id),alert("ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§.");const i=new CustomEvent("iconDelete",{detail:{path:`/notepad/${this.id}`}});document.querySelector("my-icons").dispatchEvent(i),h.replaceTo("/notepad")}catch(t){alert("ÏÇ≠Ï†úÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.")}}getNotePadData(){const t=this.querySelector("textarea").value.trim();if(!t)return alert("ÎÇ¥Ïö©Ïù¥ ÏóÜÏäµÎãàÎã§."),null;let e;for(;!e;)if(!(e=prompt("ÌååÏùºÎ™ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî.",this.data.title.replace(/&nbsp;/g," ")),e||window.confirm("Ï†úÎ™©ÏùÄ ÌïÑÏàòÏûÖÎãàÎã§.")))return null;return{id:this.id,title:e.trim().replace(/ /g,"&nbsp;"),content:t.replace(/ /g,"&nbsp;")}}get id(){return Number(this.getAttribute("data-id"))}set title(t){this.querySelector("my-notepad-header").setAttribute("title",t)}}const $=!0,L=[{id:"file",title:"ÌååÏùº",key:"F",slots:[{id:1,text:"ÏÉàÎ°ú ÎßåÎì§Í∏∞(N)",key:["Ctrl","N"],onClick:function(){const t=document.querySelector("my-notepad");t.getAttribute("data-id")?h.navigateTo("/notepad"):t.render()}},{id:2,text:"ÎÇ¥ Ïª¥Ìì®ÌÑ∞Ïóê Ï†ÄÏû•(W)",key:["Ctrl","Shift","N"],onClick:function(){this.dispatchEvent(new CustomEvent("localSave",{bubbles:!0}))}},{id:3,text:"Ï†ÄÏû•(S)",key:["Ctrl","S"],onClick:function(){this.dispatchEvent(new CustomEvent("save",{bubbles:!0}))}},{id:4,text:"ÏÇ≠Ï†ú(D)",key:["Ctrl","Shift","S"],onClick:function(){document.querySelector("my-notepad").getAttribute("data-id")&&this.dispatchEvent(new CustomEvent("delete",{bubbles:!0}))}},{id:5,text:"ÌéòÏù¥ÏßÄ ÏÑ§Ï†ï(U)...",key:[],disable:$},{id:6,text:"Ïù∏ÏáÑ(P)...",key:["Ctrl","P"],disable:$},{id:7,text:"ÎÅùÎÇ¥Í∏∞(X)",key:[],disable:$}]},{id:"edit",title:"Ìé∏Ïßë",key:"E",slots:[{id:8,text:"Ïã§Ìñâ Ï∑®ÏÜå(U)",key:["Ctrl","Z"],disable:$},{id:9,text:"ÏûòÎùºÎÇ¥Í∏∞(T)",key:["Ctrl","X"],disable:$},{id:10,text:"Î≥µÏÇ¨(C)",key:["Ctrl","C"],disable:$},{id:11,text:"Î∂ôÏó¨ÎÑ£Í∏∞(P)",key:["Ctrl","V"],disable:$},{id:12,text:"ÏÇ≠Ï†ú(D)",key:["Del"],disable:$},{id:13,text:"BingÏúºÎ°ú Í≤ÄÏÉâ(S)...",key:["Ctrl","E"],disable:$},{id:14,text:"Ï∞æÍ∏∞(F)...",key:["Ctrl","F"],disable:$},{id:15,text:"Îã§Ïùå Ï∞æÍ∏∞(N)",key:["F3"],disable:$},{id:16,text:"Ïù¥Ï†Ñ Ï∞æÍ∏∞(V)",key:["Shift","F3"],disable:$},{id:17,text:"Î∞îÍæ∏Í∏∞(R)...",key:["Ctrl","H"],disable:$},{id:18,text:"Ïù¥Îèô(G)...",key:["Ctrl","G"],disable:$},{id:19,text:"Î™®Îëê ÏÑ†ÌÉù(A)",key:["Ctrl","A"],disable:$},{id:20,text:"ÏãúÍ∞Ñ/ÎÇ†Ïßú(D)",key:["F5"],disable:$}]},{id:"format",title:"ÏÑúÏãù",key:"O",slots:[{id:21,text:"ÏûêÎèô Ï§Ñ Î∞îÍøà(W)",key:[],disable:$},{id:22,text:"Í∏ÄÍº¥(F)...",key:[],disable:$}]},{id:"view",title:"Î≥¥Í∏∞",key:"V",slots:[{id:23,text:"ÌôïÎåÄÌïòÍ∏∞(Z)",key:["Ctrl","+"],disable:$},{id:24,text:"Ï∂ïÏÜåÌïòÍ∏∞(X)",key:["Ctrl","-"],disable:$},{id:25,text:"ÏÉÅÌÉú ÌëúÏãúÏ§Ñ(S)",key:[],disable:$}]},{id:"help",title:"ÎèÑÏõÄÎßê",key:"H",slots:[{id:26,text:"ÎèÑÏõÄÎßê Î≥¥Í∏∞(H)",key:[],disable:$},{id:27,text:"ÌîºÎìúÎ∞± Î≥¥ÎÇ¥Í∏∞(F)",key:[],disable:$},{id:28,text:"Î©îÎ™®Ïû• Ï†ïÎ≥¥(A)",key:[],disable:$}]}],B=L.reduce(((t,e)=>[...t,...e.slots]),[]),T=L;class D extends s{connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.handleClick)}disconnectedCallback(){this.removeEventListener("click",this.handleClick)}static get observedAttributes(){return["title"]}attributeChangedCallback(t,e,i){"title"===t&&e&&(this.querySelector("#title").innerText=i)}injectHTML(){return i`
      <header>
        <span>
          <img alt="notepad_icon" src=${o} />
          <span id="title">${this.title}</span> - Windows Î©îÎ™®Ïû•
        </span>
        <div class="view_buttons">
          <button class="view_button" id="mini">üóï</button>
          <button class="view_button" id="full">üóñ</button>
          <button class="view_button" id="close">‚Ö©</button>
        </div>
      </header>
      <div class="edit_buttons">
        ${T.map((t=>i`
              <button class="edit_button">
                ${t.title}(<u>${t.key}</u>)
                <div class="popup">
                  ${t.slots.map((t=>i`
                        <div class="sub" data-id="${t.id}" data-disable="${!!t.disable}">
                          <div>${t.text}</div>
                          ${t.key.length>0?`<div>${t.key.join(" + ")}</div>`:""}
                        </div>
                      `)).join("")}
                </div>
              </button>
            `)).join("")}
      </div>
    `}handleClick(t){const e=t.target.closest(".view_button"),i=t.target.closest(".edit_button"),s=t.target.closest(".sub");e?this.clickViewButton(e):i?this.clickEditButton(i,s):this.closePopup()}clickViewButton(t){switch(t.id){case"full":this.parentElement.classList.toggle("fullscreen");break;case"mini":case"close":h.back()}}clickEditButton(t,e){if(e){const t=Number(e.dataset.id),{onClick:i}=B.find((e=>e.id===t))||{};i&&i.call(this)}else this.togglePopup(t)}togglePopup(t){const e=t.querySelector(".popup");e.classList.contains("show")?e.classList.remove("show"):(this.closePopup(),e.classList.add("show"))}closePopup(){const t=this.querySelector(".popup.show");t?.classList.remove("show")}get title(){return this.getAttribute("title")}}(async()=>{try{await e.openDB()}catch(t){queueMicrotask((()=>alert("IndexedDBÎ•º ÏÇ¨Ïö©Ìï† Ïàò ÏóÜÏäµÎãàÎã§.")))}customElements.define("my-app",n),customElements.define("my-footer",b),customElements.define("my-home",m),customElements.define("my-tetris",f),customElements.define("my-flappybird",x),customElements.define("my-icons",S),customElements.define("my-icon",C),customElements.define("my-notepad",E),customElements.define("my-notepad-header",D)})(),window.addEventListener("load",(()=>h.render())),window.addEventListener("popstate",(()=>h.render()))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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eVEsZ0JBQWUsSUFBTXRDLE1BQU0sMkJBQzdCLENBRUF1QyxlQUFlQyxPQUFPLFNBQVV4TyxHQUNoQ3VPLGVBQWVDLE9BQU8sWUFBYXBNLEdBQ25DbU0sZUFBZUMsT0FBTyxVQUFXM0wsR0FDakMwTCxlQUFlQyxPQUFPLFlBQWFqSCxHQUNuQ2dILGVBQWVDLE9BQU8sZ0JBQWlCaEYsR0FDdkMrRSxlQUFlQyxPQUFPLFdBQVkvRSxHQUNsQzhFLGVBQWVDLE9BQU8sVUFBVzlELEdBQ2pDNkQsZUFBZUMsT0FBTyxhQUFjNUQsR0FDcEMyRCxlQUFlQyxPQUFPLG9CQUFxQnJCLEVBQzVDLEVBaEJELEdBa0JBNVAsT0FBTytFLGlCQUFpQixRQUFRLElBQU0sYUFDdEMvRSxPQUFPK0UsaUJBQWlCLFlBQVksSUFBTSxZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvY29yZS9JbmRleGVkREIuanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL3V0aWxzL3V0aWxzLmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy9jb3JlL1dlYkNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvQXBwLmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy91dGlscy9yb3V0ZXMuanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL2NvcmUvUm91dGVyLmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy92aWV3L0NvbW1vbi9Gb290ZXIuanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL3ZpZXcvSG9tZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvdmlldy9UZXRyaXMvY29uc3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL3ZpZXcvVGV0cmlzL2NsYXNzL1RldHJvbWluby5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvdmlldy9UZXRyaXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL3ZpZXcvRmxhcHB5QmlyZC9pbmRleC5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvdmlldy9Db21tb24vSWNvbnMuanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL3ZpZXcvQ29tbW9uL0ljb24uanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL3ZpZXcvTm90ZVBhZC9pbmRleC5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvdmlldy9Ob3RlUGFkL2NvbnN0L2J1dHRvbnMuanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL3ZpZXcvTm90ZVBhZC9jb21wb25lbnRzL05vdGVQYWRIZWFkZXIuanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9qcy1zYW5kYm94L1wiOyIsImNsYXNzIEluZGV4ZWREQiB7XHJcbiAgZGI7XHJcblxyXG4gIC8qKlxyXG4gICAqIOyDneyEseyekFxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkYk5hbWVcclxuICAgKiBAcGFyYW0ge251bWJlcn0gZGJWZXJzaW9uXHJcbiAgICogQHBhcmFtIHtzdHJpbmdbXX0gc3RvcmVzXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoZGJOYW1lLCBkYlZlcnNpb24sIHN0b3Jlcykge1xyXG4gICAgdGhpcy5kYk5hbWUgPSBkYk5hbWU7XHJcbiAgICB0aGlzLmRiVmVyc2lvbiA9IGRiVmVyc2lvbjtcclxuICAgIHRoaXMuc3RvcmVzID0gc3RvcmVzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogREIg7Jik7ZSIIOuplOyEnOuTnFxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxyXG4gICAqL1xyXG4gIGFzeW5jIG9wZW5EQigpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSB3aW5kb3cuaW5kZXhlZERCLm9wZW4odGhpcy5kYk5hbWUsIHRoaXMuZGJWZXJzaW9uKTtcclxuXHJcbiAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuZGIgPSByZXF1ZXN0LnJlc3VsdDtcclxuICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoZSkgPT4ge1xyXG4gICAgICAgIHJlamVjdChlKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJlcXVlc3Qub251cGdyYWRlbmVlZGVkID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuZGIgPSByZXF1ZXN0LnJlc3VsdDtcclxuXHJcbiAgICAgICAgdGhpcy5zdG9yZXMuZm9yRWFjaCgoc3RvcmUpID0+IHtcclxuICAgICAgICAgIGlmICh0aGlzLmRiLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoc3RvcmUpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGIuZGVsZXRlT2JqZWN0U3RvcmUoc3RvcmUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdGhpcy5kYi5jcmVhdGVPYmplY3RTdG9yZShzdG9yZSwgeyBrZXlQYXRoOiAnaWQnIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDrjbDsnbTthLAg7KGw7ZqMIOuplOyEnOuTnFxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdG9yZU5hbWVcclxuICAgKiBAcGFyYW0ge251bWJlcn0gaWRcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxvYmplY3Q+fVxyXG4gICAqL1xyXG4gIGFzeW5jIGdldERhdGEoc3RvcmVOYW1lLCBpZCkge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgY29uc3QgcmVxdWVzdCA9IHRoaXMuZGIudHJhbnNhY3Rpb24oc3RvcmVOYW1lLCAncmVhZG9ubHknKS5vYmplY3RTdG9yZShzdG9yZU5hbWUpLmdldChpZCk7XHJcblxyXG4gICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcclxuICAgICAgICByZXNvbHZlKHJlcXVlc3QucmVzdWx0KTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJlcXVlc3Qub25lcnJvciA9IChlKSA9PiB7XHJcbiAgICAgICAgcmVqZWN0KGUpO1xyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDrjbDsnbTthLAg7KCE7LK0IOyhsO2ajCDrqZTshJzrk5xcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RvcmVOYW1lXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8b2JqZWN0W10+fVxyXG4gICAqL1xyXG4gIGFzeW5jIGdldEFsbERhdGEoc3RvcmVOYW1lKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5kYi50cmFuc2FjdGlvbihzdG9yZU5hbWUsICdyZWFkb25seScpLm9iamVjdFN0b3JlKHN0b3JlTmFtZSkuZ2V0QWxsKCk7XHJcblxyXG4gICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcclxuICAgICAgICByZXNvbHZlKHJlcXVlc3QucmVzdWx0KTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJlcXVlc3Qub25lcnJvciA9IChlKSA9PiB7XHJcbiAgICAgICAgcmVqZWN0KGUpO1xyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDrjbDsnbTthLAg7LaU6rCAIOuplOyEnOuTnFxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdG9yZU5hbWVcclxuICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YVxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPG9iamVjdD59XHJcbiAgICovXHJcbiAgYXN5bmMgdXBzZXJ0RGF0YShzdG9yZU5hbWUsIGRhdGEpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIGNvbnN0IG9iamVjdFN0b3JlID0gdGhpcy5kYi50cmFuc2FjdGlvbihzdG9yZU5hbWUsICdyZWFkd3JpdGUnKS5vYmplY3RTdG9yZShzdG9yZU5hbWUpO1xyXG4gICAgICBjb25zdCBtb2RpZmllZERhdGEgPSB7IC4uLmRhdGEsIGlkOiBkYXRhLmlkIHx8IG5ldyBEYXRlKCkuZ2V0VGltZSgpIH07XHJcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBvYmplY3RTdG9yZS5wdXQobW9kaWZpZWREYXRhKTtcclxuXHJcbiAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xyXG4gICAgICAgIHJlc29sdmUocmVxdWVzdC5yZXN1bHQpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgcmVxdWVzdC5vbmVycm9yID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHJlcXVlc3QuZXJyb3IpO1xyXG4gICAgICAgIHJlamVjdChyZXF1ZXN0LmVycm9yKTtcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog642w7J207YSwIOyCreygnCDrqZTshJzrk5xcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RvcmVOYW1lXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGlkXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8b2JqZWN0Pn1cclxuICAgKi9cclxuICBhc3luYyBkZWxldGVEYXRhKHN0b3JlTmFtZSwgaWQpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSB0aGlzLmRiLnRyYW5zYWN0aW9uKHN0b3JlTmFtZSwgJ3JlYWR3cml0ZScpLm9iamVjdFN0b3JlKHN0b3JlTmFtZSkuZGVsZXRlKGlkKTtcclxuXHJcbiAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xyXG4gICAgICAgIHJlc29sdmUodHJ1ZSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoZSkgPT4ge1xyXG4gICAgICAgIHJlamVjdChlKTtcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuY29uc3Qgc2FuZGJveERCID0gbmV3IEluZGV4ZWREQignc2FuZGJveERCJywgMiwgWydub3RlcGFkJ10pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgc2FuZGJveERCO1xyXG4iLCJjb25zdCByZW5kZXJSYXcgPSAoc3RyaW5nLCAuLi52YWx1ZXMpID0+IHtcclxuICByZXR1cm4gU3RyaW5nLnJhdyhzdHJpbmcsIC4uLnZhbHVlcyk7XHJcbn07XHJcblxyXG5jb25zdCBzaHVmZmxlID0gKGFycmF5KSA9PiB7XHJcbiAgcmV0dXJuIGFycmF5LnNvcnQoKCkgPT4gTWF0aC5yYW5kb20oKSAtIDAuNSk7XHJcbn07XHJcblxyXG5leHBvcnQgeyByZW5kZXJSYXcgYXMgaHRtbCwgcmVuZGVyUmF3IGFzIGNzcywgc2h1ZmZsZSB9O1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBXZWJDb21wb25lbnQgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XHJcbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XHJcbiAgICB0aGlzLnJlbmRlcigpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgdGhpcy5pbm5lckhUTUwgPSB0aGlzLmluamVjdEhUTUwoKTtcclxuICB9XHJcblxyXG4gIGluamVjdEhUTUwoKSB7XHJcbiAgICByZXR1cm4gYGA7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IGh0bWwgfSBmcm9tICcuL3V0aWxzL3V0aWxzJztcclxuaW1wb3J0IFdlYkNvbXBvbmVudCBmcm9tICcuL2NvcmUvV2ViQ29tcG9uZW50JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwcCBleHRlbmRzIFdlYkNvbXBvbmVudCB7XHJcbiAgaW5qZWN0SFRNTCgpIHtcclxuICAgIHJldHVybiBodG1sYFxyXG4gICAgICA8ZGl2IGlkPVwicGFnZVwiPjwvZGl2PlxyXG4gICAgICA8bXktaWNvbnMgdGFiaW5kZXg9XCItMVwiPjwvbXktaWNvbnM+XHJcbiAgICAgIDxteS1mb290ZXI+PC9teS1mb290ZXI+XHJcbiAgICBgO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBodG1sIH0gZnJvbSAnLi91dGlscyc7XHJcbmltcG9ydCB0ZXRyaXMgZnJvbSAnLi4vLi4vcHVibGljL3RldHJpcy5wbmcnO1xyXG5pbXBvcnQgZmxhcHB5QmlyZCBmcm9tICcuLi8uLi9wdWJsaWMvZmxhcHB5QmlyZC5wbmcnO1xyXG5pbXBvcnQgbm90ZXBhZCBmcm9tICcuLi8uLi9wdWJsaWMvbm90ZXBhZC5wbmcnO1xyXG5pbXBvcnQgc2FuZGJveERCIGZyb20gJy4uL2NvcmUvSW5kZXhlZERCJztcclxuXHJcbmNvbnN0IEJBU0VfVVJMID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgPyAnJyA6ICcvanMtc2FuZGJveCc7XHJcblxyXG5jb25zdCByb3V0ZXMgPSBbXHJcbiAge1xyXG4gICAgcGF0aDogYC9gLFxyXG4gICAgaHRtbDogaHRtbGA8bXktaG9tZT48L215LWhvbWU+YCxcclxuICAgIGxhYmVsOiAnSG9tZScsXHJcbiAgICBpY29uU3JjOiBudWxsLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcGF0aDogYC90ZXRyaXNgLFxyXG4gICAgaHRtbDogaHRtbGA8bXktdGV0cmlzPjwvbXktdGV0cmlzPmAsXHJcbiAgICBsYWJlbDogJ1RldHJpcycsXHJcbiAgICBpY29uU3JjOiB0ZXRyaXMsXHJcbiAgfSxcclxuICB7XHJcbiAgICBwYXRoOiBgL2ZsYXBweWJpcmRgLFxyXG4gICAgaHRtbDogaHRtbGA8bXktZmxhcHB5YmlyZD48L215LWZsYXBweWJpcmQ+YCxcclxuICAgIGxhYmVsOiAnRmxhcHB5Jm5ic3A7QmlyZCcsXHJcbiAgICBpY29uU3JjOiBmbGFwcHlCaXJkLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcGF0aDogYC9ub3RlcGFkYCxcclxuICAgIGh0bWw6IGh0bWxgPG15LW5vdGVwYWQ+PC9teS1ub3RlcGFkPmAsXHJcbiAgICBsYWJlbDogJ05vdGUmbmJzcDtQYWQnLFxyXG4gICAgaWNvblNyYzogbm90ZXBhZCxcclxuICB9LFxyXG4gIHtcclxuICAgIHBhdGg6IGAvbm90ZXBhZC86aWRgLFxyXG4gICAgaHRtbDogaHRtbGA8bXktbm90ZXBhZCBkYXRhLWlkPVwiOmlkXCI+PC9teS1ub3RlcGFkPmAsXHJcbiAgICBsYWJlbDogJ05vdGUmbmJzcDtQYWQnLFxyXG4gICAgaWNvblNyYzogbnVsbCxcclxuICB9LFxyXG5dO1xyXG5cclxuY29uc3QgbWFpbkljb25zID0gcm91dGVzLnJlZHVjZSgocHJldiwgcm91dGVyKSA9PiB7XHJcbiAgY29uc3QgeyBwYXRoLCBsYWJlbCwgaWNvblNyYyB9ID0gcm91dGVyO1xyXG4gIGlmICghcm91dGVyLmljb25TcmMpIHJldHVybiBwcmV2O1xyXG4gIHJldHVybiBbLi4ucHJldiwgeyBwYXRoLCBsYWJlbCwgaWNvblNyYyB9XTtcclxufSwgW10pO1xyXG5cclxuY29uc3QgZ2V0TG9jYWxJY29ucyA9IGFzeW5jICgpID0+IHtcclxuICBjb25zdCBub3RlcGFkRGF0YSA9IGF3YWl0IHNhbmRib3hEQi5nZXRBbGxEYXRhKCdub3RlcGFkJyk7XHJcbiAgY29uc3Qgbm90ZXBhZEljb25zID0gbm90ZXBhZERhdGEucmVkdWNlKChwcmV2LCBpY29uKSA9PiB7XHJcbiAgICBjb25zdCB7IGlkLCB0aXRsZSB9ID0gaWNvbjtcclxuICAgIHJldHVybiBbLi4ucHJldiwgeyBwYXRoOiBgL25vdGVwYWQvJHtpZH1gLCBsYWJlbDogdGl0bGUsIGljb25TcmM6IG5vdGVwYWQgfV07XHJcbiAgfSwgW10pO1xyXG5cclxuICByZXR1cm4gWy4uLm5vdGVwYWRJY29uc107XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXM7XHJcbmV4cG9ydCB7IG1haW5JY29ucywgZ2V0TG9jYWxJY29ucywgQkFTRV9VUkwgfTtcclxuIiwiaW1wb3J0IHJvdXRlcywgeyBCQVNFX1VSTCB9IGZyb20gJy4uL3V0aWxzL3JvdXRlcyc7XHJcblxyXG5jbGFzcyBSb3V0ZXIge1xyXG4gIGNvbnN0cnVjdG9yKHJvdXRlKSB7XHJcbiAgICB0aGlzLnJvdXRlcyA9IHJvdXRlO1xyXG4gIH1cclxuXHJcbiAgcGF0aFRvUmVnZXhwKHBhdGgpIHtcclxuICAgIHJldHVybiBuZXcgUmVnRXhwKGBeJHtwYXRoLnJlcGxhY2UoL1xcLy9nLCAnXFxcXC8nKS5yZXBsYWNlKC86XFx3Ky9nLCAnKC4rKScpfSRgKTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIGNvbnN0IGN1cnJlbnRQYXRoID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lO1xyXG4gICAgY29uc3Qgcm91dGUgPSB0aGlzLnJvdXRlcy5maW5kKCh2YWx1ZSkgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5wYXRoVG9SZWdleHAodGhpcy5nZXRVcmxGcm9tKHZhbHVlLnBhdGgpKS50ZXN0KGN1cnJlbnRQYXRoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICghcm91dGUpIHtcclxuICAgICAgdGhpcy5yZXBsYWNlVG8oJy8nKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwYWdlJykuaW5uZXJIVE1MID0gcm91dGUuaHRtbC5yZXBsYWNlKCc6aWQnLCB0aGlzLmdldElkRnJvbVBhdGgoY3VycmVudFBhdGgpKTtcclxuICB9XHJcblxyXG4gIGdldElkRnJvbVBhdGgocGF0aCkge1xyXG4gICAgcmV0dXJuIHBhdGgubWF0Y2goL1xcZCsvKT8uWzBdO1xyXG4gIH1cclxuXHJcbiAgbmF2aWdhdGVUbyh1cmwpIHtcclxuICAgIGlmICh0aGlzLmdldFVybEZyb20odXJsKSA9PT0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lKSByZXR1cm47XHJcbiAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUobnVsbCwgbnVsbCwgQkFTRV9VUkwgKyB1cmwpO1xyXG4gICAgdGhpcy5yZW5kZXIoKTtcclxuICB9XHJcblxyXG4gIHJlcGxhY2VUbyh1cmwpIHtcclxuICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCBudWxsLCBCQVNFX1VSTCArIHVybCk7XHJcbiAgICB0aGlzLnJlbmRlcigpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXJsRnJvbSh1cmwpIHtcclxuICAgIHJldHVybiBgJHtCQVNFX1VSTH0ke3VybH1gO1xyXG4gIH1cclxuXHJcbiAgYmFjaygpIHtcclxuICAgIHdpbmRvdy5oaXN0b3J5LmJhY2soKTtcclxuICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCByb3V0ZXIgPSBuZXcgUm91dGVyKHJvdXRlcyk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XHJcbiIsImltcG9ydCBXZWJDb21wb25lbnQgZnJvbSAnLi4vLi4vY29yZS9XZWJDb21wb25lbnQnO1xyXG5pbXBvcnQgeyBodG1sIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbHMnO1xyXG5pbXBvcnQgeyBtYWluSWNvbnMgfSBmcm9tICcuLi8uLi91dGlscy9yb3V0ZXMnO1xyXG5pbXBvcnQgcm91dGVyIGZyb20gJy4uLy4uL2NvcmUvUm91dGVyJztcclxuaW1wb3J0IHdpbmRvd0xvZ28gZnJvbSAnLi4vLi4vLi4vcHVibGljL3dpbmRvd0xvZ28ucG5nJztcclxuaW1wb3J0IHNlYXJjaEljb24gZnJvbSAnLi4vLi4vLi4vcHVibGljL3NlYXJjaEljb24ucG5nJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvb3RlciBleHRlbmRzIFdlYkNvbXBvbmVudCB7XHJcbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XHJcbiAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xyXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzKSk7XHJcbiAgfVxyXG5cclxuICBpbmplY3RIVE1MKCkge1xyXG4gICAgcmV0dXJuIGh0bWxgXHJcbiAgICAgIDxpbWcgYWx0PVwid2luZG93X2xvZ29cIiBzcmM9JHt3aW5kb3dMb2dvfSBjbGFzcz1cIndpbmRvd19pY29uXCIgLz5cclxuICAgICAgPGRpdiBjbGFzcz1cImlucHV0X2JveFwiPlxyXG4gICAgICAgIDxpbWcgYWx0PVwic2VhcmNoXCIgc3JjPSR7c2VhcmNoSWNvbn0gY2xhc3M9XCJ3aW5kb3dfaWNvblwiIC8+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCLssL7quLBcIiAvPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgJHttYWluSWNvbnNcclxuICAgICAgICAubWFwKChpY29uKSA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gaHRtbGAgPG15LWljb24gZGF0YS1wYXRoPVwiJHtpY29uLnBhdGh9XCIgZGF0YS1pY29uU3JjPVwiJHtpY29uLmljb25TcmN9XCI+PC9teS1pY29uPiBgO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmpvaW4oJycpfVxyXG4gICAgYDtcclxuICB9XHJcblxyXG4gIGhhbmRsZUNsaWNrKGUpIHtcclxuICAgIGlmICghZS50YXJnZXQuY2xvc2VzdCgnbXktaWNvbicpKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgaWNvbiA9IGUudGFyZ2V0LmNsb3Nlc3QoJ215LWljb24nKTtcclxuICAgIHJvdXRlci5uYXZpZ2F0ZVRvKGljb24uZGF0YXNldC5wYXRoKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFdlYkNvbXBvbmVudCBmcm9tICcuLi8uLi9jb3JlL1dlYkNvbXBvbmVudCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIb21lIGV4dGVuZHMgV2ViQ29tcG9uZW50IHt9XHJcbiIsImNvbnN0IEJMT0NLUyA9IHtcbiAgSTogW1xuICAgIFswLCAwLCAwLCAwXSxcbiAgICBbMSwgMSwgMSwgMV0sXG4gICAgWzAsIDAsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAwXSxcbiAgXSxcbiAgSjogW1xuICAgIFsyLCAwLCAwXSxcbiAgICBbMiwgMiwgMl0sXG4gICAgWzAsIDAsIDBdLFxuICBdLFxuICBMOiBbXG4gICAgWzAsIDAsIDNdLFxuICAgIFszLCAzLCAzXSxcbiAgICBbMCwgMCwgMF0sXG4gIF0sXG4gIE86IFtcbiAgICBbNCwgNF0sXG4gICAgWzQsIDRdLFxuICBdLFxuICBTOiBbXG4gICAgWzAsIDUsIDVdLFxuICAgIFs1LCA1LCAwXSxcbiAgICBbMCwgMCwgMF0sXG4gIF0sXG4gIFQ6IFtcbiAgICBbMCwgNiwgMF0sXG4gICAgWzYsIDYsIDZdLFxuICAgIFswLCAwLCAwXSxcbiAgXSxcbiAgWjogW1xuICAgIFs3LCA3LCAwXSxcbiAgICBbMCwgNywgN10sXG4gICAgWzAsIDAsIDBdLFxuICBdLFxufTtcblxuY29uc3QgQkxPQ0tfQ0xBU1NFUyA9IHtcbiAgMDogJ2VtcHR5JyxcbiAgMTogJ0knLFxuICAyOiAnSicsXG4gIDM6ICdMJyxcbiAgNDogJ08nLFxuICA1OiAnUycsXG4gIDY6ICdUJyxcbiAgNzogJ1onLFxuICAxMDogJ0kgZnJlZXplJyxcbiAgMjA6ICdKIGZyZWV6ZScsXG4gIDMwOiAnTCBmcmVlemUnLFxuICA0MDogJ08gZnJlZXplJyxcbiAgNTA6ICdTIGZyZWV6ZScsXG4gIDYwOiAnVCBmcmVlemUnLFxuICA3MDogJ1ogZnJlZXplJyxcbn07XG5cbmNvbnN0IFNDT1JFUyA9IHtcbiAgMTogMTAwLFxuICAyOiAzMDAsXG4gIDM6IDUwMCxcbiAgNDogODAwLFxufTtcblxuY29uc3QgQk9BUkRfV0lEVEggPSAxMDtcbmNvbnN0IEJPQVJEX0hFSUdIVCA9IDIwO1xuXG5leHBvcnQgeyBCTE9DS1MsIEJPQVJEX0hFSUdIVCwgQk9BUkRfV0lEVEgsIEJMT0NLX0NMQVNTRVMsIFNDT1JFUyB9O1xuIiwiaW1wb3J0IHsgQkxPQ0tTLCBCT0FSRF9IRUlHSFQsIEJPQVJEX1dJRFRILCBTQ09SRVMgfSBmcm9tICcuLi9jb25zdCc7XG5pbXBvcnQgeyBzaHVmZmxlIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvdXRpbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXRyb21pbm8ge1xuICBzdGF0aWMgYmxvY2tRdWV1ZSA9IFRldHJvbWluby5jcmVhdGVTaHVmZmxlQmxvY2tRdWV1ZSgpO1xuXG4gIHN0YXRpYyBjcmVhdGVTaHVmZmxlQmxvY2tRdWV1ZSgpIHtcbiAgICByZXR1cm4gc2h1ZmZsZShPYmplY3QudmFsdWVzKEJMT0NLUykpO1xuICB9XG5cbiAgc3RhdGljIGdldE5leHRUZXRyb21pbm9zKCkge1xuICAgIHJldHVybiBUZXRyb21pbm8uYmxvY2tRdWV1ZS5zbGljZSgwLCAzKTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKCRib2FyZCwgY3JlYXRlQmxvY2sgPSB0cnVlKSB7XG4gICAgdGhpcy4kYm9hcmQgPSAkYm9hcmQ7XG4gICAgaWYgKGNyZWF0ZUJsb2NrKSB7XG4gICAgICB0aGlzLmNyZWF0ZU5ld0Jsb2NrKCk7XG4gICAgfVxuICB9XG5cbiAgY3JlYXRlTmV3QmxvY2soKSB7XG4gICAgdGhpcy5ibG9jayA9IFRldHJvbWluby5ibG9ja1F1ZXVlLnNoaWZ0KCk7XG5cbiAgICBpZiAoVGV0cm9taW5vLmJsb2NrUXVldWUubGVuZ3RoIDwgMykge1xuICAgICAgVGV0cm9taW5vLmJsb2NrUXVldWUgPSBUZXRyb21pbm8uYmxvY2tRdWV1ZS5jb25jYXQoVGV0cm9taW5vLmNyZWF0ZVNodWZmbGVCbG9ja1F1ZXVlKCkpO1xuICAgIH1cblxuICAgIGNvbnN0IGluaXRpYWxCbG9ja1BvcyA9IHRoaXMuZ2V0SW5pdGlhbEJsb2NrUG9zKEJPQVJEX1dJRFRILCB0aGlzLmJsb2NrKTtcbiAgICB0aGlzLnggPSBpbml0aWFsQmxvY2tQb3MueDtcbiAgICB0aGlzLnkgPSBpbml0aWFsQmxvY2tQb3MueTtcbiAgfVxuXG4gIHJvdGF0ZShib2FyZCkge1xuICAgIGNvbnN0IHJvdGF0ZWRCbG9jayA9IHRoaXMuYmxvY2tbMF0ubWFwKChfLCBpKSA9PiB0aGlzLmJsb2NrLm1hcCgocm93KSA9PiByb3dbaV0pLnJldmVyc2UoKSk7XG4gICAgY29uc3Qgcm90YXRlZFdpZHRoID0gcm90YXRlZEJsb2NrWzBdLmxlbmd0aDtcbiAgICBjb25zdCByb3RhdGVkSGVpZ2h0ID0gcm90YXRlZEJsb2NrLmxlbmd0aDtcbiAgICBsZXQgbmV3WCA9IHRoaXMueDtcbiAgICBsZXQgbmV3WSA9IHRoaXMueTtcblxuICAgIGlmIChuZXdYICsgcm90YXRlZFdpZHRoID4gQk9BUkRfV0lEVEgpIHtcbiAgICAgIG5ld1ggPSBCT0FSRF9XSURUSCAtIHJvdGF0ZWRXaWR0aDtcbiAgICB9XG4gICAgaWYgKG5ld1ggPCAwKSB7XG4gICAgICBuZXdYID0gMDtcbiAgICB9XG4gICAgaWYgKG5ld1kgKyByb3RhdGVkSGVpZ2h0ID4gQk9BUkRfSEVJR0hUKSB7XG4gICAgICBuZXdZID0gQk9BUkRfSEVJR0hUIC0gcm90YXRlZEhlaWdodDtcbiAgICB9XG4gICAgaWYgKG5ld1kgPCAwKSB7XG4gICAgICBuZXdZID0gMDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jYW5Nb3ZlKGJvYXJkLCBuZXdYLCBuZXdZLCByb3RhdGVkQmxvY2spKSB7XG4gICAgICB0aGlzLmJsb2NrID0gcm90YXRlZEJsb2NrO1xuICAgICAgdGhpcy54ID0gbmV3WDtcbiAgICAgIHRoaXMueSA9IG5ld1k7XG4gICAgfVxuICB9XG5cbiAgbW92ZUxlZnQoYm9hcmQpIHtcbiAgICBpZiAodGhpcy5jYW5Nb3ZlKGJvYXJkLCB0aGlzLnggLSAxLCB0aGlzLnksIHRoaXMuYmxvY2spKSB7XG4gICAgICB0aGlzLnggLT0gMTtcbiAgICB9XG4gIH1cblxuICBtb3ZlUmlnaHQoYm9hcmQpIHtcbiAgICBpZiAodGhpcy5jYW5Nb3ZlKGJvYXJkLCB0aGlzLnggKyAxLCB0aGlzLnksIHRoaXMuYmxvY2spKSB7XG4gICAgICB0aGlzLnggKz0gMTtcbiAgICB9XG4gIH1cblxuICBtb3ZlRG93bihib2FyZCkge1xuICAgIGlmICh0aGlzLmNhbk1vdmUoYm9hcmQsIHRoaXMueCwgdGhpcy55ICsgMSwgdGhpcy5ibG9jaykpIHtcbiAgICAgIHRoaXMueSArPSAxO1xuICAgIH0gZWxzZSBpZiAodGhpcy55ID09PSAwKSB7XG4gICAgICB0aGlzLmZyZWV6ZShib2FyZCk7XG4gICAgICB0aGlzLiRib2FyZC5zdG9wR2FtZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmZyZWV6ZShib2FyZCk7XG4gICAgICB0aGlzLnNjb3JlVXAodGhpcy5yZW1vdmVGdWxsUm93cyhib2FyZCkpO1xuICAgICAgdGhpcy5zcGVlZFVwKCk7XG4gICAgICB0aGlzLmNyZWF0ZU5ld0Jsb2NrKCk7XG4gICAgfVxuICB9XG5cbiAgZnJlZXplKGJvYXJkKSB7XG4gICAgY29uc3QgeyBibG9jaywgeCwgeSB9ID0gdGhpcztcbiAgICBibG9jay5mb3JFYWNoKChyb3csIGkpID0+IHtcbiAgICAgIHJvdy5mb3JFYWNoKChjb2wsIGopID0+IHtcbiAgICAgICAgaWYgKGNvbCAhPT0gMCkge1xuICAgICAgICAgIGJvYXJkW3kgKyBpXVt4ICsgal0gPSBjb2wgKiAxMDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICByZW1vdmVGdWxsUm93cyhib2FyZCkge1xuICAgIGxldCByZXN1bHQgPSAwO1xuICAgIGJvYXJkLmZvckVhY2goKHJvdywgaSkgPT4ge1xuICAgICAgaWYgKHJvdy5ldmVyeSgoY2VsbCkgPT4gY2VsbCA+PSAxMCkpIHtcbiAgICAgICAgcmVzdWx0ICs9IDE7XG4gICAgICAgIGJvYXJkLnNwbGljZShpLCAxKTtcbiAgICAgICAgYm9hcmQudW5zaGlmdChBcnJheShCT0FSRF9XSURUSCkuZmlsbCgwKSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHNwZWVkVXAoKSB7XG4gICAgaWYgKHRoaXMuJGJvYXJkLnRldHJvbWlub0NvdW50ZXIgPT09IDEwKSB7XG4gICAgICB0aGlzLiRib2FyZC50ZXRyb21pbm9Db3VudGVyID0gMDtcbiAgICAgIHRoaXMuJGJvYXJkLmRyb3BJbnRlcnZhbCAqPSAwLjk7XG4gICAgfVxuICAgIHRoaXMuJGJvYXJkLnRldHJvbWlub0NvdW50ZXIgKz0gMTtcbiAgfVxuXG4gIHNjb3JlVXAoY2xlYXJlZFJvd3MpIHtcbiAgICBpZiAoY2xlYXJlZFJvd3MgPiAwKSB7XG4gICAgICB0aGlzLiRib2FyZC5zY29yZSArPSBTQ09SRVNbY2xlYXJlZFJvd3NdID8/IDA7XG4gICAgfVxuICB9XG5cbiAgY2FuTW92ZShib2FyZCwgeCwgeSwgYmxvY2spIHtcbiAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCBibG9jay5sZW5ndGg7IHJvdyArPSAxKSB7XG4gICAgICBmb3IgKGxldCBjb2wgPSAwOyBjb2wgPCBibG9ja1tyb3ddLmxlbmd0aDsgY29sICs9IDEpIHtcbiAgICAgICAgaWYgKGJsb2NrW3Jvd11bY29sXSAhPT0gMCkge1xuICAgICAgICAgIGNvbnN0IG5leHRYID0geCArIGNvbDtcbiAgICAgICAgICBjb25zdCBuZXh0WSA9IHkgKyByb3c7XG4gICAgICAgICAgaWYgKG5leHRYIDwgMCB8fCBuZXh0WCA+PSBCT0FSRF9XSURUSCB8fCBuZXh0WSA8IDAgfHwgbmV4dFkgPj0gQk9BUkRfSEVJR0hUIHx8IGJvYXJkW25leHRZXVtuZXh0WF0gPj0gMTApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGdldEluaXRpYWxCbG9ja1Bvcyh3aWR0aCwgYmxvY2spIHtcbiAgICBjb25zdCBmaXJzdE5vbkVtcHR5Um93SW5kZXggPSBibG9jay5maW5kSW5kZXgoKHJvdykgPT4gcm93LnNvbWUoKGNlbGwpID0+IGNlbGwgIT09IDApKTtcblxuICAgIHJldHVybiB7XG4gICAgICB4OiBNYXRoLmZsb29yKCh3aWR0aCAtIGJsb2NrWzBdLmxlbmd0aCkgLyAyKSxcbiAgICAgIHk6IC1maXJzdE5vbkVtcHR5Um93SW5kZXgsXG4gICAgfTtcbiAgfVxuXG4gIGNsb25lKCkge1xuICAgIGNvbnN0IGNsb25lZCA9IG5ldyBUZXRyb21pbm8odGhpcy4kYm9hcmQsIGZhbHNlKTtcbiAgICBjbG9uZWQuYmxvY2sgPSB0aGlzLmJsb2NrLm1hcCgocm93KSA9PiBbLi4ucm93XSk7XG4gICAgY2xvbmVkLnggPSB0aGlzLng7XG4gICAgY2xvbmVkLnkgPSB0aGlzLnk7XG4gICAgcmV0dXJuIGNsb25lZDtcbiAgfVxufVxuIiwiaW1wb3J0IFdlYkNvbXBvbmVudCBmcm9tICcuLi8uLi9jb3JlL1dlYkNvbXBvbmVudCc7XG5pbXBvcnQgeyBodG1sIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbHMnO1xuaW1wb3J0ICcuL3N0eWxlcy5zY3NzJztcbmltcG9ydCB7IEJMT0NLX0NMQVNTRVMsIEJPQVJEX0hFSUdIVCwgQk9BUkRfV0lEVEggfSBmcm9tICcuL2NvbnN0JztcbmltcG9ydCBUZXRyb21pbm8gZnJvbSAnLi9jbGFzcy9UZXRyb21pbm8nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXRyaXMgZXh0ZW5kcyBXZWJDb21wb25lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuYm9hcmQgPSB0aGlzLmdldEluaXRpYWxCb2FyZChCT0FSRF9XSURUSCwgQk9BUkRfSEVJR0hUKTtcbiAgICB0aGlzLnN0YXJ0ID0gZmFsc2U7XG4gICAgdGhpcy50ZXRyb21pbm8gPSBudWxsO1xuICAgIHRoaXMuc2NvcmUgPSAwO1xuICAgIHRoaXMubGFzdFRpbWUgPSBudWxsO1xuICAgIHRoaXMuZHJvcEludGVydmFsID0gMTAwMDtcbiAgICB0aGlzLnRldHJvbWlub0NvdW50ZXIgPSAwO1xuICAgIHRoaXMuYW5pbWF0aW9uSWQgPSBudWxsO1xuICAgIHRoaXMuc3RhcnRHYW1lID0gdGhpcy5zdGFydEdhbWUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmtleWRvd25IYW5kbGVyID0gdGhpcy5rZXlkb3duSGFuZGxlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZHJvcEJsb2NrID0gdGhpcy5kcm9wQmxvY2suYmluZCh0aGlzKTtcbiAgfVxuXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgdGhpcy5xdWVyeVNlbGVjdG9yKCcjc3RhcnQtYnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnN0YXJ0R2FtZSk7XG4gIH1cblxuICBpbmplY3RIVE1MKCkge1xuICAgIHJldHVybiBodG1sYFxuICAgICAgPGJ1dHRvbiBpZD1cInN0YXJ0LWJ1dHRvblwiPuqyjOyehCDsi5zsnpE8L2J1dHRvbj5cbiAgICAgIDxkaXYgY2xhc3M9XCJib2FyZFwiPlxuICAgICAgICAke3RoaXMuYm9hcmRcbiAgICAgICAgICAubWFwKFxuICAgICAgICAgICAgKHJvdykgPT4gaHRtbGBcbiAgICAgICAgICAgICAgPHVsPlxuICAgICAgICAgICAgICAgICR7cm93Lm1hcCgoY29sKSA9PiBodG1sYDxsaSBjbGFzcz1cImNlbGwtJHtCTE9DS19DTEFTU0VTW2NvbF19XCI+PC9saT5gKS5qb2luKCcnKX1cbiAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgIGBcbiAgICAgICAgICApXG4gICAgICAgICAgLmpvaW4oJycpfVxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwidGV0cm9taW5vLXByZXZpZXdzXCI+XG4gICAgICAgICR7dGhpcy5uZXh0VGV0cm9taW5vc1xuICAgICAgICAgIC5tYXAoXG4gICAgICAgICAgICAodGV0cm9taW5vKSA9PiBodG1sYFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV0cm9taW5vLXByZXZpZXdcIj5cbiAgICAgICAgICAgICAgICAke3RldHJvbWlub1xuICAgICAgICAgICAgICAgICAgLm1hcChcbiAgICAgICAgICAgICAgICAgICAgKHJvdykgPT4gaHRtbGBcbiAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJ0ZXRyb21pbm8tcHJldmlldy1yb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICR7cm93Lm1hcCgoY2VsbCkgPT4gaHRtbGA8bGkgY2xhc3M9XCJjZWxsLSR7QkxPQ0tfQ0xBU1NFU1tjZWxsXX1cIj48L2xpPmApLmpvaW4oJycpfVxuICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIC5qb2luKCcnKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBgXG4gICAgICAgICAgKVxuICAgICAgICAgIC5qb2luKCcnKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8IS0tICAgICAgPGRpdiBjbGFzcz1cInNjb3JlXCI+7KCQ7IiYOiA8c3BhbiBjbGFzcz1cInNjb3JlXCI+JHt0aGlzLnNjb3JlfTwvc3Bhbj48L2Rpdj4tLT5cbiAgICBgO1xuICB9XG5cbiAgZ2V0IG5leHRUZXRyb21pbm9zKCkge1xuICAgIHJldHVybiBUZXRyb21pbm8uZ2V0TmV4dFRldHJvbWlub3MoKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCkge1xuICAgIHJldHVybiBbJ2JvYXJkJ107XG4gIH1cblxuICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSkge1xuICAgIGlmIChuYW1lID09PSAnYm9hcmQnKSB7XG4gICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cbiAgfVxuXG4gIGdldEluaXRpYWxCb2FyZCh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oQXJyYXkoaGVpZ2h0KSwgKCkgPT4gQXJyYXkod2lkdGgpLmZpbGwoMCkpO1xuICB9XG5cbiAgc3RhcnRHYW1lKCkge1xuICAgIGlmICh0aGlzLnN0YXJ0KSByZXR1cm47XG4gICAgdGhpcy5zdGFydCA9IHRydWU7XG4gICAgdGhpcy50ZXRyb21pbm8gPSBuZXcgVGV0cm9taW5vKHRoaXMpO1xuICAgIHRoaXMudGV0cm9taW5vQ291bnRlciArPSAxO1xuICAgIHRoaXMudXBkYXRlQm9hcmQoKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlkb3duSGFuZGxlcik7XG5cbiAgICB0aGlzLmxhc3RUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuZHJvcEJsb2NrKTtcbiAgfVxuXG4gIHN0b3BHYW1lKCkge1xuICAgIHRoaXMuc3RhcnQgPSBmYWxzZTtcbiAgICB0aGlzLmJvYXJkID0gdGhpcy5nZXRJbml0aWFsQm9hcmQoQk9BUkRfV0lEVEgsIEJPQVJEX0hFSUdIVCk7XG4gICAgdGhpcy50ZXRyb21pbm9Db3VudGVyID0gMDtcbiAgICB0aGlzLmRyb3BJbnRlcnZhbCA9IDEwMDA7XG4gICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRpb25JZCk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5ZG93bkhhbmRsZXIpO1xuICB9XG5cbiAgZHJvcEJsb2NrKHRpbWVzdGFtcCkge1xuICAgIGNvbnN0IGRlbHRhVGltZSA9IHRpbWVzdGFtcCAtIHRoaXMubGFzdFRpbWU7XG5cbiAgICBpZiAoZGVsdGFUaW1lID4gdGhpcy5kcm9wSW50ZXJ2YWwpIHtcbiAgICAgIGNvbnN0IHByZXZUZXRyb21pbm8gPSB0aGlzLnRldHJvbWluby5jbG9uZSgpO1xuICAgICAgY29uc3QgbmV3Qm9hcmQgPSB0aGlzLmJvYXJkO1xuICAgICAgdGhpcy50ZXRyb21pbm8ubW92ZURvd24obmV3Qm9hcmQpO1xuICAgICAgdGhpcy51cGRhdGVCb2FyZChuZXdCb2FyZCwgcHJldlRldHJvbWlubyk7XG4gICAgICB0aGlzLmxhc3RUaW1lID0gdGltZXN0YW1wO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnN0YXJ0KSB7XG4gICAgICB0aGlzLmFuaW1hdGlvbklkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuZHJvcEJsb2NrKTtcbiAgICB9XG4gIH1cblxuICBrZXlkb3duSGFuZGxlcihlKSB7XG4gICAgY29uc3QgcHJldlRldHJvbWlubyA9IHRoaXMudGV0cm9taW5vLmNsb25lKCk7XG4gICAgY29uc3QgbmV3Qm9hcmQgPSB0aGlzLmJvYXJkO1xuXG4gICAgaWYgKGUua2V5ID09PSAnQXJyb3dEb3duJykge1xuICAgICAgdGhpcy50ZXRyb21pbm8ubW92ZURvd24obmV3Qm9hcmQpO1xuICAgIH0gZWxzZSBpZiAoZS5rZXkgPT09ICdBcnJvd1VwJykge1xuICAgICAgdGhpcy50ZXRyb21pbm8ucm90YXRlKG5ld0JvYXJkKTtcbiAgICB9IGVsc2UgaWYgKGUua2V5ID09PSAnQXJyb3dMZWZ0Jykge1xuICAgICAgdGhpcy50ZXRyb21pbm8ubW92ZUxlZnQobmV3Qm9hcmQpO1xuICAgIH0gZWxzZSBpZiAoZS5rZXkgPT09ICdBcnJvd1JpZ2h0Jykge1xuICAgICAgdGhpcy50ZXRyb21pbm8ubW92ZVJpZ2h0KG5ld0JvYXJkKTtcbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZUJvYXJkKG5ld0JvYXJkLCBwcmV2VGV0cm9taW5vKTtcbiAgfVxuXG4gIHVwZGF0ZUJvYXJkKG5ld0JvYXJkID0gdGhpcy5ib2FyZCwgcHJldlRldHJvbWlubyA9IG51bGwpIHtcbiAgICBpZiAocHJldlRldHJvbWlubykge1xuICAgICAgdGhpcy5yZW1vdmVPbGRCbG9jayhwcmV2VGV0cm9taW5vLCBuZXdCb2FyZCk7XG4gICAgfVxuXG4gICAgdGhpcy5wdXROZXdCbG9jayh0aGlzLnRldHJvbWlubywgbmV3Qm9hcmQpO1xuICAgIHRoaXMuYm9hcmQgPSBuZXdCb2FyZDtcbiAgfVxuXG4gIHJlbW92ZU9sZEJsb2NrKHRldHJvbWlubywgbmV3Qm9hcmQpIHtcbiAgICBjb25zdCB7IGJsb2NrLCB4LCB5IH0gPSB0ZXRyb21pbm87XG5cbiAgICBibG9jay5mb3JFYWNoKChyb3csIGkpID0+IHtcbiAgICAgIHJvdy5mb3JFYWNoKChjb2wsIGopID0+IHtcbiAgICAgICAgaWYgKG5ld0JvYXJkW3kgKyBpXT8uW3ggKyBqXSA9PT0gY29sKSB7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgICAgbmV3Qm9hcmRbeSArIGldW3ggKyBqXSA9IDA7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcHV0TmV3QmxvY2sodGV0cm9taW5vLCBuZXdCb2FyZCkge1xuICAgIGNvbnN0IHsgeCwgeSwgYmxvY2sgfSA9IHRldHJvbWlubztcblxuICAgIGJsb2NrLmZvckVhY2goKHJvdywgaSkgPT4ge1xuICAgICAgcm93LmZvckVhY2goKGNvbCwgaikgPT4ge1xuICAgICAgICBpZiAoY29sICE9PSAwKSB7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgICAgbmV3Qm9hcmRbeSArIGldW3ggKyBqXSA9IGNvbDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBnZXQgYm9hcmQoKSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UodGhpcy5nZXRBdHRyaWJ1dGUoJ2JvYXJkJykpO1xuICB9XG5cbiAgc2V0IGJvYXJkKHZhbHVlKSB7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ2JvYXJkJywgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcbiAgfVxufVxuIiwiaW1wb3J0IFdlYkNvbXBvbmVudCBmcm9tICcuLi8uLi9jb3JlL1dlYkNvbXBvbmVudCc7XHJcbmltcG9ydCB7IGh0bWwgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGbGFwcHlCaXJkIGV4dGVuZHMgV2ViQ29tcG9uZW50IHtcclxuICBpbmplY3RIVE1MKCkge1xyXG4gICAgcmV0dXJuIGh0bWxgXHJcbiAgICAgIDxoMT5GbGFwcHkgQmlyZDwvaDE+XHJcbiAgICAgIDxwPllvdSBhcmUgdmlld2luZyB0aGUgRmxhcHB5IEJpcmQgY29tcG9uZW50ITwvcD5cclxuICAgICAgPHA+WW91IGFyZSB2aWV3aW5nIHRoZSBGbGFwcHkgQmlyZCBjb21wb25lbnQhPC9wPlxyXG4gICAgICA8cD5Zb3UgYXJlIHZpZXdpbmcgdGhlIEZsYXBweSBCaXJkIGNvbXBvbmVudCE8L3A+XHJcbiAgICAgIDxwPllvdSBhcmUgdmlld2luZyB0aGUgRmxhcHB5IEJpcmQgY29tcG9uZW50ITwvcD5cclxuICAgICAgPHA+WW91IGFyZSB2aWV3aW5nIHRoZSBGbGFwcHkgQmlyZCBjb21wb25lbnQhPC9wPlxyXG4gICAgICA8cD5Zb3UgYXJlIHZpZXdpbmcgdGhlIEZsYXBweSBCaXJkIGNvbXBvbmVudCE8L3A+XHJcbiAgICBgO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBodG1sIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbHMnO1xyXG5pbXBvcnQgcm91dGVyIGZyb20gJy4uLy4uL2NvcmUvUm91dGVyJztcclxuaW1wb3J0IFdlYkNvbXBvbmVudCBmcm9tICcuLi8uLi9jb3JlL1dlYkNvbXBvbmVudCc7XHJcbmltcG9ydCB7IGdldExvY2FsSWNvbnMsIG1haW5JY29ucyB9IGZyb20gJy4uLy4uL3V0aWxzL3JvdXRlcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJY29ucyBleHRlbmRzIFdlYkNvbXBvbmVudCB7XHJcbiAgYXN5bmMgY29ubmVjdGVkQ2FsbGJhY2soKSB7XHJcbiAgICB0aGlzLmljb25zID0gWy4uLm1haW5JY29ucywgLi4uKGF3YWl0IGdldExvY2FsSWNvbnMoKSldO1xyXG4gICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcclxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNsaWNrKTtcclxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCB0aGlzLmhhbmRsZURvdWJsZUNsaWNrKTtcclxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlS2V5RG93bik7XHJcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2ljb25DaGFuZ2UnLCB0aGlzLmhhbmRsZUljb25DaGFuZ2UpO1xyXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdpY29uRGVsZXRlJywgdGhpcy5oYW5kbGVJY29uRGVsZXRlKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCkge1xyXG4gICAgcmV0dXJuIFsnaWNvbnMnXTtcclxuICB9XHJcblxyXG4gIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lLCBvbGRWYWx1ZSwgbmV3VmFsdWUpIHtcclxuICAgIGlmIChvbGRWYWx1ZSA9PT0gbmV3VmFsdWUpIHJldHVybjtcclxuICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgfVxyXG5cclxuICBpbmplY3RIVE1MKCkge1xyXG4gICAgcmV0dXJuIGh0bWxgXHJcbiAgICAgICR7dGhpcy5pY29uc1xyXG4gICAgICAgIC5tYXAoKGljb24pID0+IHtcclxuICAgICAgICAgIHJldHVybiBodG1sYFxyXG4gICAgICAgICAgICA8bXktaWNvbiBkYXRhLXBhdGg9JHtpY29uLnBhdGh9IGRhdGEtbGFiZWw9JHtpY29uLmxhYmVsfSBkYXRhLWljb25TcmM9JHtpY29uLmljb25TcmN9PjwvbXktaWNvbj5cclxuICAgICAgICAgIGA7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuam9pbignJyl9XHJcbiAgICBgO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGljb25zKCkge1xyXG4gICAgcmV0dXJuIEpTT04ucGFyc2UodGhpcy5nZXRBdHRyaWJ1dGUoJ2ljb25zJykpO1xyXG4gIH1cclxuXHJcbiAgc2V0IGljb25zKHZhbHVlKSB7XHJcbiAgICB0aGlzLnNldEF0dHJpYnV0ZSgnaWNvbnMnLCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlQ2xpY2soZSkge1xyXG4gICAgaWYgKCFlLnRhcmdldC5jbG9zZXN0KCdteS1pY29uJykpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBpY29uID0gZS50YXJnZXQuY2xvc2VzdCgnbXktaWNvbicpO1xyXG4gICAgaWNvbi50b2dnbGVBdHRyaWJ1dGUoJ2NoZWNrZWQnKTtcclxuICAgIHRoaXMucXVlcnlTZWxlY3RvckFsbCgnbXktaWNvbicpLmZvckVhY2goKG5vZGUpID0+IHtcclxuICAgICAgaWYgKG5vZGUgIT09IGljb24pIHtcclxuICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZSgnY2hlY2tlZCcpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGhhbmRsZURvdWJsZUNsaWNrKGUpIHtcclxuICAgIGlmICghZS50YXJnZXQuY2xvc2VzdCgnbXktaWNvbicpKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgaWNvbiA9IGUudGFyZ2V0LmNsb3Nlc3QoJ215LWljb24nKTtcclxuICAgIHJvdXRlci5uYXZpZ2F0ZVRvKGljb24uZGF0YXNldC5wYXRoKTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUtleURvd24oZSkge1xyXG4gICAgY29uc3QgY2hlY2tlZEVsID0gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKCdteS1pY29uW2NoZWNrZWRdJyk7XHJcbiAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHtcclxuICAgICAgaWYgKGNoZWNrZWRFbC5sZW5ndGggPiAxKSByZXR1cm47XHJcbiAgICAgIGlmICghY2hlY2tlZEVsKSByZXR1cm47XHJcbiAgICAgIHJvdXRlci5uYXZpZ2F0ZVRvKGNoZWNrZWRFbFswXS5kYXRhc2V0LnBhdGgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlSWNvbkNoYW5nZShlKSB7XHJcbiAgICBjb25zdCB7IHBhdGgsIGxhYmVsLCBpY29uU3JjIH0gPSBlLmRldGFpbDtcclxuICAgIGNvbnN0IHByZXZJY29uSW5kZXggPSB0aGlzLmljb25zLmZpbmRJbmRleCgoaWNvbikgPT4gaWNvbi5wYXRoID09PSBwYXRoKTtcclxuXHJcbiAgICBpZiAocHJldkljb25JbmRleCA9PT0gLTEpIHtcclxuICAgICAgdGhpcy5pY29ucyA9IFsuLi50aGlzLmljb25zLCB7IHBhdGgsIGxhYmVsLCBpY29uU3JjIH1dO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgbmV3SWNvbnMgPSBbLi4udGhpcy5pY29uc107XHJcbiAgICAgIG5ld0ljb25zW3ByZXZJY29uSW5kZXhdID0geyBwYXRoLCBsYWJlbCwgaWNvblNyYyB9O1xyXG4gICAgICB0aGlzLmljb25zID0gbmV3SWNvbnM7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVJY29uRGVsZXRlKGUpIHtcclxuICAgIGNvbnN0IHsgcGF0aCB9ID0gZS5kZXRhaWw7XHJcbiAgICB0aGlzLmljb25zID0gdGhpcy5pY29ucy5maWx0ZXIoKGljb24pID0+IGljb24ucGF0aCAhPT0gcGF0aCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IGh0bWwgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XHJcbmltcG9ydCBXZWJDb21wb25lbnQgZnJvbSAnLi4vLi4vY29yZS9XZWJDb21wb25lbnQnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSWNvbiBleHRlbmRzIFdlYkNvbXBvbmVudCB7XHJcbiAgaW5qZWN0SFRNTCgpIHtcclxuICAgIGNvbnN0IHsgbGFiZWwsIGljb25zcmMgfSA9IHRoaXMuZGF0YXNldDtcclxuICAgIHJldHVybiBodG1sYFxyXG4gICAgICA8aW1nIGFsdD1cIiR7bGFiZWx9X2ljb25cIiBzcmM9JHtpY29uc3JjfSAvPlxyXG4gICAgICAke2xhYmVsID8gYDxzcGFuIGNsYXNzPVwiaWNvbl9uYW1lXCI+JHtsYWJlbH08L3NwYW4+YCA6ICcnfVxyXG4gICAgYDtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFdlYkNvbXBvbmVudCBmcm9tICcuLi8uLi9jb3JlL1dlYkNvbXBvbmVudCc7XHJcbmltcG9ydCB7IGh0bWwgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XHJcbmltcG9ydCAnLi9zdHlsZXMuc2Nzcyc7XHJcbmltcG9ydCBzYW5kYm94REIgZnJvbSAnLi4vLi4vY29yZS9JbmRleGVkREInO1xyXG5pbXBvcnQgTm90ZVBhZEljb24gZnJvbSAnLi4vLi4vLi4vcHVibGljL25vdGVwYWQucG5nJztcclxuaW1wb3J0IHJvdXRlciBmcm9tICcuLi8uLi9jb3JlL1JvdXRlcic7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOb3RlUGFkIGV4dGVuZHMgV2ViQ29tcG9uZW50IHtcclxuICBhc3luYyBjb25uZWN0ZWRDYWxsYmFjaygpIHtcclxuICAgIHRoaXMuZGF0YSA9IChhd2FpdCBzYW5kYm94REIuZ2V0RGF0YSgnbm90ZXBhZCcsIHRoaXMuaWQpKSA/PyB7XHJcbiAgICAgIHRpdGxlOiAn7KCc66qp7JeG7J2MJyxcclxuICAgICAgY29udGVudDogJycsXHJcbiAgICB9O1xyXG4gICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcclxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignc2F2ZScsIHRoaXMuaGFuZGxlU2F2ZSk7XHJcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2xvY2FsU2F2ZScsIHRoaXMuaGFuZGxlTG9jYWxTYXZlKTtcclxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignZGVsZXRlJywgdGhpcy5oYW5kbGVEZWxldGUpO1xyXG4gIH1cclxuXHJcbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XHJcbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NhdmUnLCB0aGlzLmhhbmRsZVNhdmUpO1xyXG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2NhbFNhdmUnLCB0aGlzLmhhbmRsZUxvY2FsU2F2ZSk7XHJcbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RlbGV0ZScsIHRoaXMuaGFuZGxlRGVsZXRlKTtcclxuICB9XHJcblxyXG4gIGluamVjdEhUTUwoKSB7XHJcbiAgICBjb25zdCB7IHRpdGxlLCBjb250ZW50IH0gPSB0aGlzLmRhdGE7XHJcbiAgICByZXR1cm4gaHRtbGBcclxuICAgICAgPG15LW5vdGVwYWQtaGVhZGVyIHRpdGxlPSR7dGl0bGV9PjwvbXktbm90ZXBhZC1oZWFkZXI+XHJcbiAgICAgIDx0ZXh0YXJlYT4ke2NvbnRlbnR9PC90ZXh0YXJlYT5cclxuICAgIGA7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVMb2NhbFNhdmUoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgY29uc3Qgbm90ZVBhZERhdGEgPSB0aGlzLmdldE5vdGVQYWREYXRhKCk7XHJcbiAgICBpZiAoIW5vdGVQYWREYXRhKSByZXR1cm47XHJcbiAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW25vdGVQYWREYXRhLmNvbnRlbnRdLCB7IHR5cGU6ICd0ZXh0L3BsYWluJyB9KTtcclxuICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICBsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xyXG4gICAgbGluay5kb3dubG9hZCA9IGAke25vdGVQYWREYXRhLnRpdGxlfS50eHRgO1xyXG4gICAgbGluay5jbGljaygpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgaGFuZGxlU2F2ZShlKSB7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgY29uc3Qgbm90ZVBhZERhdGEgPSB0aGlzLmdldE5vdGVQYWREYXRhKCk7XHJcbiAgICBpZiAoIW5vdGVQYWREYXRhKSByZXR1cm47XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2FuZGJveERCLnVwc2VydERhdGEoJ25vdGVwYWQnLCBub3RlUGFkRGF0YSk7XHJcblxyXG4gICAgICBjb25zdCBwYXRoID0gYC9ub3RlcGFkLyR7cmVzdWx0fWA7XHJcblxyXG4gICAgICBhbGVydCgn7KCA7J6l65CY7JeI7Iq164uI64ukLicpO1xyXG4gICAgICBjb25zdCBpY29uQ2hhbmdlRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2ljb25DaGFuZ2UnLCB7XHJcbiAgICAgICAgZGV0YWlsOiB7XHJcbiAgICAgICAgICBwYXRoLFxyXG4gICAgICAgICAgbGFiZWw6IG5vdGVQYWREYXRhLnRpdGxlLFxyXG4gICAgICAgICAgaWNvblNyYzogTm90ZVBhZEljb24sXHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ215LWljb25zJykuZGlzcGF0Y2hFdmVudChpY29uQ2hhbmdlRXZlbnQpO1xyXG5cclxuICAgICAgaWYgKHRoaXMuaWQgPT09IHJlc3VsdCkge1xyXG4gICAgICAgIHRoaXMudGl0bGUgPSBub3RlUGFkRGF0YS50aXRsZS5yZXBsYWNlKC8mbmJzcDsvZywgJyAnKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByb3V0ZXIubmF2aWdhdGVUbyhwYXRoKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGFsZXJ0KCfsoIDsnqXsl5Ag7Iuk7Yyo7ZaI7Iq164uI64ukLicpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgaGFuZGxlRGVsZXRlKGUpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgIGNvbnN0IGNvbmZpcm1SZXN1bHQgPSB3aW5kb3cuY29uZmlybSgn7KCV66eQIOyCreygnO2VmOyLnOqyoOyKteuLiOq5jD8nKTtcclxuICAgICAgaWYgKCFjb25maXJtUmVzdWx0KSByZXR1cm47XHJcblxyXG4gICAgICBhd2FpdCBzYW5kYm94REIuZGVsZXRlRGF0YSgnbm90ZXBhZCcsIHRoaXMuaWQpO1xyXG5cclxuICAgICAgYWxlcnQoJ+yCreygnOuQmOyXiOyKteuLiOuLpC4nKTtcclxuICAgICAgY29uc3QgaWNvbkRlbGV0ZUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdpY29uRGVsZXRlJywge1xyXG4gICAgICAgIGRldGFpbDoge1xyXG4gICAgICAgICAgcGF0aDogYC9ub3RlcGFkLyR7dGhpcy5pZH1gLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdteS1pY29ucycpLmRpc3BhdGNoRXZlbnQoaWNvbkRlbGV0ZUV2ZW50KTtcclxuICAgICAgcm91dGVyLnJlcGxhY2VUbygnL25vdGVwYWQnKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBhbGVydCgn7IKt7KCc7JeQIOyLpO2MqO2WiOyKteuLiOuLpC4nKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldE5vdGVQYWREYXRhKCkge1xyXG4gICAgY29uc3QgY29udGVudEVsID0gdGhpcy5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYScpO1xyXG4gICAgY29uc3QgY29udGVudCA9IGNvbnRlbnRFbC52YWx1ZS50cmltKCk7XHJcbiAgICBpZiAoIWNvbnRlbnQpIHtcclxuICAgICAgYWxlcnQoJ+uCtOyaqeydtCDsl4bsirXri4jri6QuJyk7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCB0aXRsZTtcclxuICAgIHdoaWxlICghdGl0bGUpIHtcclxuICAgICAgdGl0bGUgPSBwcm9tcHQoJ+2MjOydvOuqheydhCDsnoXroKXtlZjshLjsmpQuJywgdGhpcy5kYXRhLnRpdGxlLnJlcGxhY2UoLyZuYnNwOy9nLCAnICcpKTtcclxuICAgICAgaWYgKCF0aXRsZSkge1xyXG4gICAgICAgIGNvbnN0IGNvbmZpcm1SZXN1bHQgPSB3aW5kb3cuY29uZmlybSgn7KCc66qp7J2AIO2VhOyImOyeheuLiOuLpC4nKTtcclxuICAgICAgICBpZiAoIWNvbmZpcm1SZXN1bHQpIHJldHVybiBudWxsO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaWQ6IHRoaXMuaWQsXHJcbiAgICAgIHRpdGxlOiB0aXRsZS50cmltKCkucmVwbGFjZSgvIC9nLCAnJm5ic3A7JyksXHJcbiAgICAgIGNvbnRlbnQ6IGNvbnRlbnQucmVwbGFjZSgvIC9nLCAnJm5ic3A7JyksXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgZ2V0IGlkKCkge1xyXG4gICAgcmV0dXJuIE51bWJlcih0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpKTtcclxuICB9XHJcblxyXG4gIHNldCB0aXRsZSh0aXRsZSkge1xyXG4gICAgdGhpcy5xdWVyeVNlbGVjdG9yKCdteS1ub3RlcGFkLWhlYWRlcicpLnNldEF0dHJpYnV0ZSgndGl0bGUnLCB0aXRsZSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCByb3V0ZXIgZnJvbSAnLi4vLi4vLi4vY29yZS9Sb3V0ZXInO1xyXG5cclxuY29uc3QgZGlzYWJsZSA9IHRydWU7XHJcblxyXG5jb25zdCBidXR0b25zID0gW1xyXG4gIHtcclxuICAgIGlkOiAnZmlsZScsXHJcbiAgICB0aXRsZTogJ+2MjOydvCcsXHJcbiAgICBrZXk6ICdGJyxcclxuICAgIHNsb3RzOiBbXHJcbiAgICAgIHsgaWQ6IDEsIHRleHQ6ICfsg4jroZwg66eM65Ok6riwKE4pJywga2V5OiBbJ0N0cmwnLCAnTiddLCBvbkNsaWNrOiBoYW5kbGVOZXdDbGljayB9LFxyXG4gICAgICB7IGlkOiAyLCB0ZXh0OiAn64K0IOy7tO2TqO2EsOyXkCDsoIDsnqUoVyknLCBrZXk6IFsnQ3RybCcsICdTaGlmdCcsICdOJ10sIG9uQ2xpY2s6IGhhbmRsZUxvY2FsU2F2ZUNsaWNrIH0sXHJcbiAgICAgIHsgaWQ6IDMsIHRleHQ6ICfsoIDsnqUoUyknLCBrZXk6IFsnQ3RybCcsICdTJ10sIG9uQ2xpY2s6IGhhbmRsZVNhdmVDbGljayB9LFxyXG4gICAgICB7IGlkOiA0LCB0ZXh0OiAn7IKt7KCcKEQpJywga2V5OiBbJ0N0cmwnLCAnU2hpZnQnLCAnUyddLCBvbkNsaWNrOiBoYW5kbGVEZWxldGVDbGljayB9LFxyXG4gICAgICB7IGlkOiA1LCB0ZXh0OiAn7Y6Y7J207KeAIOyEpOyglShVKS4uLicsIGtleTogW10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogNiwgdGV4dDogJ+yduOyHhChQKS4uLicsIGtleTogWydDdHJsJywgJ1AnXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiA3LCB0ZXh0OiAn64Gd64K06riwKFgpJywga2V5OiBbXSwgZGlzYWJsZSB9LFxyXG4gICAgXSxcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiAnZWRpdCcsXHJcbiAgICB0aXRsZTogJ+2OuOynkScsXHJcbiAgICBrZXk6ICdFJyxcclxuICAgIHNsb3RzOiBbXHJcbiAgICAgIHsgaWQ6IDgsIHRleHQ6ICfsi6Ttlokg7Leo7IaMKFUpJywga2V5OiBbJ0N0cmwnLCAnWiddLCBkaXNhYmxlIH0sXHJcbiAgICAgIHsgaWQ6IDksIHRleHQ6ICfsnpjrnbzrgrTquLAoVCknLCBrZXk6IFsnQ3RybCcsICdYJ10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogMTAsIHRleHQ6ICfrs7XsgqwoQyknLCBrZXk6IFsnQ3RybCcsICdDJ10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogMTEsIHRleHQ6ICfrtpnsl6zrhKPquLAoUCknLCBrZXk6IFsnQ3RybCcsICdWJ10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogMTIsIHRleHQ6ICfsgq3soJwoRCknLCBrZXk6IFsnRGVsJ10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogMTMsIHRleHQ6ICdCaW5n7Jy866GcIOqygOyDiShTKS4uLicsIGtleTogWydDdHJsJywgJ0UnXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiAxNCwgdGV4dDogJ+ywvuq4sChGKS4uLicsIGtleTogWydDdHJsJywgJ0YnXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiAxNSwgdGV4dDogJ+uLpOydjCDssL7quLAoTiknLCBrZXk6IFsnRjMnXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiAxNiwgdGV4dDogJ+ydtOyghCDssL7quLAoViknLCBrZXk6IFsnU2hpZnQnLCAnRjMnXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiAxNywgdGV4dDogJ+uwlOq+uOq4sChSKS4uLicsIGtleTogWydDdHJsJywgJ0gnXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiAxOCwgdGV4dDogJ+ydtOuPmShHKS4uLicsIGtleTogWydDdHJsJywgJ0cnXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiAxOSwgdGV4dDogJ+uqqOuRkCDshKDtg50oQSknLCBrZXk6IFsnQ3RybCcsICdBJ10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogMjAsIHRleHQ6ICfsi5zqsIQv64Kg7KecKEQpJywga2V5OiBbJ0Y1J10sIGRpc2FibGUgfSxcclxuICAgIF0sXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogJ2Zvcm1hdCcsXHJcbiAgICB0aXRsZTogJ+yEnOyLnScsXHJcbiAgICBrZXk6ICdPJyxcclxuICAgIHNsb3RzOiBbXHJcbiAgICAgIHsgaWQ6IDIxLCB0ZXh0OiAn7J6Q64+ZIOykhCDrsJTqv4goVyknLCBrZXk6IFtdLCBkaXNhYmxlIH0sXHJcbiAgICAgIHsgaWQ6IDIyLCB0ZXh0OiAn6riA6ry0KEYpLi4uJywga2V5OiBbXSwgZGlzYWJsZSB9LFxyXG4gICAgXSxcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiAndmlldycsXHJcbiAgICB0aXRsZTogJ+uztOq4sCcsXHJcbiAgICBrZXk6ICdWJyxcclxuICAgIHNsb3RzOiBbXHJcbiAgICAgIHsgaWQ6IDIzLCB0ZXh0OiAn7ZmV64yA7ZWY6riwKFopJywga2V5OiBbJ0N0cmwnLCAnKyddLCBkaXNhYmxlIH0sXHJcbiAgICAgIHsgaWQ6IDI0LCB0ZXh0OiAn7LaV7IaM7ZWY6riwKFgpJywga2V5OiBbJ0N0cmwnLCAnLSddLCBkaXNhYmxlIH0sXHJcbiAgICAgIHsgaWQ6IDI1LCB0ZXh0OiAn7IOB7YOcIO2RnOyLnOykhChTKScsIGtleTogW10sIGRpc2FibGUgfSxcclxuICAgIF0sXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogJ2hlbHAnLFxyXG4gICAgdGl0bGU6ICfrj4Tsm4Drp5AnLFxyXG4gICAga2V5OiAnSCcsXHJcbiAgICBzbG90czogW1xyXG4gICAgICB7IGlkOiAyNiwgdGV4dDogJ+uPhOybgOunkCDrs7TquLAoSCknLCBrZXk6IFtdLCBkaXNhYmxlIH0sXHJcbiAgICAgIHsgaWQ6IDI3LCB0ZXh0OiAn7ZS865Oc67CxIOuztOuCtOq4sChGKScsIGtleTogW10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogMjgsIHRleHQ6ICfrqZTrqqjsnqUg7KCV67O0KEEpJywga2V5OiBbXSwgZGlzYWJsZSB9LFxyXG4gICAgXSxcclxuICB9LFxyXG5dO1xyXG5cclxuY29uc3Qgc2xvdHMgPSBidXR0b25zLnJlZHVjZSgoYWNjLCBjdXIpID0+IHtcclxuICByZXR1cm4gWy4uLmFjYywgLi4uY3VyLnNsb3RzXTtcclxufSwgW10pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYnV0dG9ucztcclxuZXhwb3J0IHsgc2xvdHMgfTtcclxuXHJcbmZ1bmN0aW9uIGhhbmRsZVNhdmVDbGljaygpIHtcclxuICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdzYXZlJywgeyBidWJibGVzOiB0cnVlIH0pKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlTG9jYWxTYXZlQ2xpY2soKSB7XHJcbiAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnbG9jYWxTYXZlJywgeyBidWJibGVzOiB0cnVlIH0pKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlQ2xpY2soKSB7XHJcbiAgY29uc3Qgbm90ZXBhZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ215LW5vdGVwYWQnKTtcclxuICBpZiAoIW5vdGVwYWQuZ2V0QXR0cmlidXRlKCdkYXRhLWlkJykpIHJldHVybjtcclxuICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdkZWxldGUnLCB7IGJ1YmJsZXM6IHRydWUgfSkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVOZXdDbGljaygpIHtcclxuICBjb25zdCBub3RlcGFkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbXktbm90ZXBhZCcpO1xyXG4gIGlmICghbm90ZXBhZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKSkge1xyXG4gICAgbm90ZXBhZC5yZW5kZXIoKTtcclxuICAgIHJldHVybjtcclxuICB9XHJcbiAgcm91dGVyLm5hdmlnYXRlVG8oJy9ub3RlcGFkJyk7XHJcbn1cclxuIiwiaW1wb3J0IHsgaHRtbCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3V0aWxzJztcclxuaW1wb3J0IFdlYkNvbXBvbmVudCBmcm9tICcuLi8uLi8uLi9jb3JlL1dlYkNvbXBvbmVudCc7XHJcbmltcG9ydCBidXR0b25zLCB7IHNsb3RzIH0gZnJvbSAnLi4vY29uc3QvYnV0dG9ucyc7XHJcbmltcG9ydCBOb3RlUGFkSWNvbiBmcm9tICcuLi8uLi8uLi8uLi9wdWJsaWMvbm90ZXBhZC5wbmcnO1xyXG5pbXBvcnQgcm91dGVyIGZyb20gJy4uLy4uLy4uL2NvcmUvUm91dGVyJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5vdGVQYWRIZWFkZXIgZXh0ZW5kcyBXZWJDb21wb25lbnQge1xyXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xyXG4gICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcclxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNsaWNrKTtcclxuICB9XHJcblxyXG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xyXG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2spO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7XHJcbiAgICByZXR1cm4gWyd0aXRsZSddO1xyXG4gIH1cclxuXHJcbiAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKG5hbWUsIG9sZFZhbHVlLCBuZXdWYWx1ZSkge1xyXG4gICAgaWYgKG5hbWUgPT09ICd0aXRsZScgJiYgb2xkVmFsdWUpIHtcclxuICAgICAgdGhpcy5xdWVyeVNlbGVjdG9yKCcjdGl0bGUnKS5pbm5lclRleHQgPSBuZXdWYWx1ZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGluamVjdEhUTUwoKSB7XHJcbiAgICByZXR1cm4gaHRtbGBcclxuICAgICAgPGhlYWRlcj5cclxuICAgICAgICA8c3Bhbj5cclxuICAgICAgICAgIDxpbWcgYWx0PVwibm90ZXBhZF9pY29uXCIgc3JjPSR7Tm90ZVBhZEljb259IC8+XHJcbiAgICAgICAgICA8c3BhbiBpZD1cInRpdGxlXCI+JHt0aGlzLnRpdGxlfTwvc3Bhbj4gLSBXaW5kb3dzIOuplOuqqOyepVxyXG4gICAgICAgIDwvc3Bhbj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwidmlld19idXR0b25zXCI+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwidmlld19idXR0b25cIiBpZD1cIm1pbmlcIj7wn5eVPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwidmlld19idXR0b25cIiBpZD1cImZ1bGxcIj7wn5eWPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwidmlld19idXR0b25cIiBpZD1cImNsb3NlXCI+4oWpPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvaGVhZGVyPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiZWRpdF9idXR0b25zXCI+XHJcbiAgICAgICAgJHtidXR0b25zXHJcbiAgICAgICAgICAubWFwKFxyXG4gICAgICAgICAgICAoYnV0dG9uKSA9PiBodG1sYFxyXG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJlZGl0X2J1dHRvblwiPlxyXG4gICAgICAgICAgICAgICAgJHtidXR0b24udGl0bGV9KDx1PiR7YnV0dG9uLmtleX08L3U+KVxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBvcHVwXCI+XHJcbiAgICAgICAgICAgICAgICAgICR7YnV0dG9uLnNsb3RzXHJcbiAgICAgICAgICAgICAgICAgICAgLm1hcChcclxuICAgICAgICAgICAgICAgICAgICAgIChzbG90KSA9PiBodG1sYFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3ViXCIgZGF0YS1pZD1cIiR7c2xvdC5pZH1cIiBkYXRhLWRpc2FibGU9XCIkeyEhc2xvdC5kaXNhYmxlfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+JHtzbG90LnRleHR9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJHtzbG90LmtleS5sZW5ndGggPiAwID8gYDxkaXY+JHtzbG90LmtleS5qb2luKCcgKyAnKX08L2Rpdj5gIDogJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgYFxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAuam9pbignJyl9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgYFxyXG4gICAgICAgICAgKVxyXG4gICAgICAgICAgLmpvaW4oJycpfVxyXG4gICAgICA8L2Rpdj5cclxuICAgIGA7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVDbGljayhlKSB7XHJcbiAgICBjb25zdCB2aWV3QnV0dG9uID0gZS50YXJnZXQuY2xvc2VzdCgnLnZpZXdfYnV0dG9uJyk7XHJcbiAgICBjb25zdCBlZGl0QnV0dG9uID0gZS50YXJnZXQuY2xvc2VzdCgnLmVkaXRfYnV0dG9uJyk7XHJcbiAgICBjb25zdCBzdWIgPSBlLnRhcmdldC5jbG9zZXN0KCcuc3ViJyk7XHJcblxyXG4gICAgaWYgKHZpZXdCdXR0b24pIHtcclxuICAgICAgdGhpcy5jbGlja1ZpZXdCdXR0b24odmlld0J1dHRvbik7XHJcbiAgICB9IGVsc2UgaWYgKGVkaXRCdXR0b24pIHtcclxuICAgICAgdGhpcy5jbGlja0VkaXRCdXR0b24oZWRpdEJ1dHRvbiwgc3ViKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuY2xvc2VQb3B1cCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY2xpY2tWaWV3QnV0dG9uKHZpZXdCdXR0b24pIHtcclxuICAgIHN3aXRjaCAodmlld0J1dHRvbi5pZCkge1xyXG4gICAgICBjYXNlICdmdWxsJzpcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgnZnVsbHNjcmVlbicpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdtaW5pJzpcclxuICAgICAgY2FzZSAnY2xvc2UnOlxyXG4gICAgICAgIHJvdXRlci5iYWNrKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjbGlja0VkaXRCdXR0b24oZWRpdEJ1dHRvbiwgc3ViKSB7XHJcbiAgICBpZiAoc3ViKSB7XHJcbiAgICAgIGNvbnN0IHNsb3RJZCA9IE51bWJlcihzdWIuZGF0YXNldC5pZCk7XHJcbiAgICAgIGNvbnN0IHsgb25DbGljayB9ID0gc2xvdHMuZmluZCgoc2xvdCkgPT4gc2xvdC5pZCA9PT0gc2xvdElkKSB8fCB7fTtcclxuICAgICAgaWYgKG9uQ2xpY2spIHtcclxuICAgICAgICBvbkNsaWNrLmNhbGwodGhpcyk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMudG9nZ2xlUG9wdXAoZWRpdEJ1dHRvbik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB0b2dnbGVQb3B1cChlZGl0QnV0dG9uKSB7XHJcbiAgICBjb25zdCBwb3B1cCA9IGVkaXRCdXR0b24ucXVlcnlTZWxlY3RvcignLnBvcHVwJyk7XHJcbiAgICBpZiAocG9wdXAuY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93JykpIHtcclxuICAgICAgcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5jbG9zZVBvcHVwKCk7XHJcbiAgICAgIHBvcHVwLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNsb3NlUG9wdXAoKSB7XHJcbiAgICBjb25zdCBwb3B1cCA9IHRoaXMucXVlcnlTZWxlY3RvcignLnBvcHVwLnNob3cnKTtcclxuICAgIHBvcHVwPy5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7XHJcbiAgfVxyXG5cclxuICBnZXQgdGl0bGUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoJ3RpdGxlJyk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCAnLi9zdHlsZS5zY3NzJztcbmltcG9ydCBzYW5kYm94REIgZnJvbSAnLi9jb3JlL0luZGV4ZWREQic7XG5pbXBvcnQgQXBwIGZyb20gJy4vQXBwJztcbmltcG9ydCBGb290ZXIgZnJvbSAnLi92aWV3L0NvbW1vbi9Gb290ZXInO1xuaW1wb3J0IEhvbWUgZnJvbSAnLi92aWV3L0hvbWUnO1xuaW1wb3J0IFRldHJpcyBmcm9tICcuL3ZpZXcvVGV0cmlzJztcbmltcG9ydCBGbGFwcHlCaXJkIGZyb20gJy4vdmlldy9GbGFwcHlCaXJkJztcbmltcG9ydCBJY29ucyBmcm9tICcuL3ZpZXcvQ29tbW9uL0ljb25zJztcbmltcG9ydCBJY29uIGZyb20gJy4vdmlldy9Db21tb24vSWNvbic7XG5pbXBvcnQgTm90ZVBhZCBmcm9tICcuL3ZpZXcvTm90ZVBhZCc7XG5pbXBvcnQgTm90ZVBhZEhlYWRlciBmcm9tICcuL3ZpZXcvTm90ZVBhZC9jb21wb25lbnRzL05vdGVQYWRIZWFkZXInO1xuaW1wb3J0IHJvdXRlciBmcm9tICcuL2NvcmUvUm91dGVyJztcblxuKGFzeW5jICgpID0+IHtcbiAgdHJ5IHtcbiAgICBhd2FpdCBzYW5kYm94REIub3BlbkRCKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBxdWV1ZU1pY3JvdGFzaygoKSA9PiBhbGVydCgnSW5kZXhlZERC66W8IOyCrOyaqe2VoCDsiJgg7JeG7Iq164uI64ukLicpKTtcbiAgfVxuXG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbXktYXBwJywgQXBwKTtcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdteS1mb290ZXInLCBGb290ZXIpO1xuICBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ215LWhvbWUnLCBIb21lKTtcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdteS10ZXRyaXMnLCBUZXRyaXMpO1xuICBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ215LWZsYXBweWJpcmQnLCBGbGFwcHlCaXJkKTtcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdteS1pY29ucycsIEljb25zKTtcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdteS1pY29uJywgSWNvbik7XG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbXktbm90ZXBhZCcsIE5vdGVQYWQpO1xuICBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ215LW5vdGVwYWQtaGVhZGVyJywgTm90ZVBhZEhlYWRlcik7XG59KSgpO1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHJvdXRlci5yZW5kZXIoKSk7XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCAoKSA9PiByb3V0ZXIucmVuZGVyKCkpO1xuIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJkYiIsImNvbnN0cnVjdG9yIiwiZGJOYW1lIiwiZGJWZXJzaW9uIiwic3RvcmVzIiwidGhpcyIsImFzeW5jIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJyZXF1ZXN0Iiwid2luZG93IiwiaW5kZXhlZERCIiwib3BlbiIsIm9uc3VjY2VzcyIsInJlc3VsdCIsIm9uZXJyb3IiLCJlIiwib251cGdyYWRlbmVlZGVkIiwiZm9yRWFjaCIsInN0b3JlIiwib2JqZWN0U3RvcmVOYW1lcyIsImNvbnRhaW5zIiwiZGVsZXRlT2JqZWN0U3RvcmUiLCJjcmVhdGVPYmplY3RTdG9yZSIsImtleVBhdGgiLCJzdG9yZU5hbWUiLCJpZCIsInRyYW5zYWN0aW9uIiwib2JqZWN0U3RvcmUiLCJnZXQiLCJnZXRBbGwiLCJkYXRhIiwibW9kaWZpZWREYXRhIiwiRGF0ZSIsImdldFRpbWUiLCJwdXQiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJkZWxldGUiLCJyZW5kZXJSYXciLCJzdHJpbmciLCJ2YWx1ZXMiLCJTdHJpbmciLCJyYXciLCJXZWJDb21wb25lbnQiLCJIVE1MRWxlbWVudCIsImNvbm5lY3RlZENhbGxiYWNrIiwicmVuZGVyIiwiaW5uZXJIVE1MIiwiaW5qZWN0SFRNTCIsIkFwcCIsIkJBU0VfVVJMIiwicm91dGVzIiwicGF0aCIsImh0bWwiLCJsYWJlbCIsImljb25TcmMiLCJtYWluSWNvbnMiLCJyZWR1Y2UiLCJwcmV2Iiwicm91dGVyIiwiZ2V0TG9jYWxJY29ucyIsImljb24iLCJ0aXRsZSIsInJvdXRlIiwicGF0aFRvUmVnZXhwIiwiUmVnRXhwIiwicmVwbGFjZSIsImN1cnJlbnRQYXRoIiwibG9jYXRpb24iLCJwYXRobmFtZSIsImZpbmQiLCJ2YWx1ZSIsImdldFVybEZyb20iLCJ0ZXN0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZ2V0SWRGcm9tUGF0aCIsInJlcGxhY2VUbyIsIm1hdGNoIiwibmF2aWdhdGVUbyIsInVybCIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJyZXBsYWNlU3RhdGUiLCJiYWNrIiwiRm9vdGVyIiwic3VwZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlQ2xpY2siLCJiaW5kIiwiam9pbiIsInRhcmdldCIsImNsb3Nlc3QiLCJkYXRhc2V0IiwiSG9tZSIsIkJMT0NLUyIsIkkiLCJKIiwiTCIsIk8iLCJTIiwiVCIsIloiLCJCTE9DS19DTEFTU0VTIiwiU0NPUkVTIiwiQk9BUkRfV0lEVEgiLCJUZXRyb21pbm8iLCJzdGF0aWMiLCJjcmVhdGVTaHVmZmxlQmxvY2tRdWV1ZSIsIk9iamVjdCIsInNvcnQiLCJNYXRoIiwicmFuZG9tIiwiYmxvY2tRdWV1ZSIsInNsaWNlIiwiJGJvYXJkIiwiY3JlYXRlQmxvY2siLCJjcmVhdGVOZXdCbG9jayIsImJsb2NrIiwic2hpZnQiLCJsZW5ndGgiLCJjb25jYXQiLCJpbml0aWFsQmxvY2tQb3MiLCJnZXRJbml0aWFsQmxvY2tQb3MiLCJ4IiwieSIsInJvdGF0ZSIsImJvYXJkIiwicm90YXRlZEJsb2NrIiwibWFwIiwiXyIsImkiLCJyb3ciLCJyZXZlcnNlIiwicm90YXRlZFdpZHRoIiwicm90YXRlZEhlaWdodCIsIm5ld1giLCJuZXdZIiwiY2FuTW92ZSIsIm1vdmVMZWZ0IiwibW92ZVJpZ2h0IiwibW92ZURvd24iLCJmcmVlemUiLCJzdG9wR2FtZSIsInNjb3JlVXAiLCJyZW1vdmVGdWxsUm93cyIsInNwZWVkVXAiLCJjb2wiLCJqIiwiZXZlcnkiLCJjZWxsIiwic3BsaWNlIiwidW5zaGlmdCIsIkFycmF5IiwiZmlsbCIsInRldHJvbWlub0NvdW50ZXIiLCJkcm9wSW50ZXJ2YWwiLCJjbGVhcmVkUm93cyIsInNjb3JlIiwibmV4dFgiLCJuZXh0WSIsIndpZHRoIiwiZmlyc3ROb25FbXB0eVJvd0luZGV4IiwiZmluZEluZGV4Iiwic29tZSIsImZsb29yIiwiY2xvbmUiLCJjbG9uZWQiLCJUZXRyaXMiLCJnZXRJbml0aWFsQm9hcmQiLCJzdGFydCIsInRldHJvbWlubyIsImxhc3RUaW1lIiwiYW5pbWF0aW9uSWQiLCJzdGFydEdhbWUiLCJrZXlkb3duSGFuZGxlciIsImRyb3BCbG9jayIsIm5leHRUZXRyb21pbm9zIiwiZ2V0TmV4dFRldHJvbWlub3MiLCJvYnNlcnZlZEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2siLCJuYW1lIiwiaGVpZ2h0IiwiZnJvbSIsInVwZGF0ZUJvYXJkIiwicGVyZm9ybWFuY2UiLCJub3ciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0aW1lc3RhbXAiLCJwcmV2VGV0cm9taW5vIiwibmV3Qm9hcmQiLCJrZXkiLCJyZW1vdmVPbGRCbG9jayIsInB1dE5ld0Jsb2NrIiwiSlNPTiIsInBhcnNlIiwiZ2V0QXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwic3RyaW5naWZ5IiwiRmxhcHB5QmlyZCIsIkljb25zIiwiaWNvbnMiLCJoYW5kbGVEb3VibGVDbGljayIsImhhbmRsZUtleURvd24iLCJoYW5kbGVJY29uQ2hhbmdlIiwiaGFuZGxlSWNvbkRlbGV0ZSIsIm9sZFZhbHVlIiwibmV3VmFsdWUiLCJ0b2dnbGVBdHRyaWJ1dGUiLCJxdWVyeVNlbGVjdG9yQWxsIiwibm9kZSIsInJlbW92ZUF0dHJpYnV0ZSIsImNoZWNrZWRFbCIsImRldGFpbCIsInByZXZJY29uSW5kZXgiLCJuZXdJY29ucyIsImZpbHRlciIsIkljb24iLCJpY29uc3JjIiwiTm90ZVBhZCIsImNvbnRlbnQiLCJoYW5kbGVTYXZlIiwiaGFuZGxlTG9jYWxTYXZlIiwiaGFuZGxlRGVsZXRlIiwiZGlzY29ubmVjdGVkQ2FsbGJhY2siLCJwcmV2ZW50RGVmYXVsdCIsIm5vdGVQYWREYXRhIiwiZ2V0Tm90ZVBhZERhdGEiLCJibG9iIiwiQmxvYiIsInR5cGUiLCJsaW5rIiwiY3JlYXRlRWxlbWVudCIsImhyZWYiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJkb3dubG9hZCIsImNsaWNrIiwic3RvcFByb3BhZ2F0aW9uIiwiYWxlcnQiLCJpY29uQ2hhbmdlRXZlbnQiLCJDdXN0b21FdmVudCIsImRpc3BhdGNoRXZlbnQiLCJlcnIiLCJjb25maXJtIiwiaWNvbkRlbGV0ZUV2ZW50IiwidHJpbSIsInByb21wdCIsIk51bWJlciIsImRpc2FibGUiLCJidXR0b25zIiwic2xvdHMiLCJ0ZXh0Iiwib25DbGljayIsIm5vdGVwYWQiLCJidWJibGVzIiwiYWNjIiwiY3VyIiwiTm90ZVBhZEhlYWRlciIsImlubmVyVGV4dCIsImJ1dHRvbiIsInNsb3QiLCJ2aWV3QnV0dG9uIiwiZWRpdEJ1dHRvbiIsInN1YiIsImNsaWNrVmlld0J1dHRvbiIsImNsaWNrRWRpdEJ1dHRvbiIsImNsb3NlUG9wdXAiLCJwYXJlbnRFbGVtZW50IiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwic2xvdElkIiwiY2FsbCIsInRvZ2dsZVBvcHVwIiwicG9wdXAiLCJyZW1vdmUiLCJhZGQiLCJxdWV1ZU1pY3JvdGFzayIsImN1c3RvbUVsZW1lbnRzIiwiZGVmaW5lIl0sInNvdXJjZVJvb3QiOiIifQ==