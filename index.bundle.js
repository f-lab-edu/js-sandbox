(()=>{"use strict";var t="/js-sandbox/";const e=new class{db;constructor(t,e,i){this.dbName=t,this.dbVersion=e,this.stores=i}async openDB(){return new Promise(((t,e)=>{const i=window.indexedDB.open(this.dbName,this.dbVersion);i.onsuccess=()=>{this.db=i.result,t()},i.onerror=t=>{e(t)},i.onupgradeneeded=()=>{this.db=i.result,this.stores.forEach((t=>{this.db.objectStoreNames.contains(t)&&this.db.deleteObjectStore(t),this.db.createObjectStore(t,{keyPath:"id"})}))}}))}async getData(t,e){return new Promise(((i,s)=>{const n=this.db.transaction(t,"readonly").objectStore(t).get(e);n.onsuccess=()=>{i(n.result)},n.onerror=t=>{s(t)}}))}async getAllData(t){return new Promise(((e,i)=>{const s=this.db.transaction(t,"readonly").objectStore(t).getAll();s.onsuccess=()=>{e(s.result)},s.onerror=t=>{i(t)}}))}async upsertData(t,e){return new Promise(((i,s)=>{const n=this.db.transaction(t,"readwrite").objectStore(t),a={...e,id:e.id||(new Date).getTime()},o=n.put(a);o.onsuccess=()=>{i(o.result)},o.onerror=()=>{console.log(o.error),s(o.error)}}))}async deleteData(t,e){return new Promise(((i,s)=>{const n=this.db.transaction(t,"readwrite").objectStore(t).delete(e);n.onsuccess=()=>{i(!0)},n.onerror=t=>{s(t)}}))}}("sandboxDB",2,["notepad"]),i=(t,...e)=>String.raw(t,...e),s=(t,e)=>new Array(t).fill("").map(e).join("");class n extends HTMLElement{connectedCallback(){this.render()}render(){this.innerHTML=this.injectHTML()}injectHTML(){return""}}class a extends n{injectHTML(){return i`
      <div id="page"></div>
      <my-icons tabindex="-1"></my-icons>
      <my-footer></my-footer>
    `}}const o=t+"2a583f97b153f7da7d41.png",r="/js-sandbox",c=[{path:"/",html:i`<my-home></my-home>`,label:"Home",iconSrc:null},{path:"/tetris",html:i`<my-tetris></my-tetris>`,label:"Tetris",iconSrc:t+"71c0bea6462001116fcf.png"},{path:"/flappybird",html:i`<my-flappybird></my-flappybird>`,label:"Flappy&nbsp;Bird",iconSrc:t+"39b884119b49599495ed.png"},{path:"/notepad",html:i`<my-notepad></my-notepad>`,label:"Note&nbsp;Pad",iconSrc:o},{path:"/notepad/:id",html:i`<my-notepad id=":id"></my-notepad>`,label:"Note&nbsp;Pad",iconSrc:null}],l=c.reduce(((t,e)=>{const{path:i,label:s,iconSrc:n}=e;return e.iconSrc?[...t,{path:i,label:s,iconSrc:n}]:t}),[]),d=async()=>[...(await e.getAllData("notepad")).reduce(((t,e)=>{const{id:i,title:s}=e;return[...t,{path:`/notepad/${i}`,label:s,iconSrc:o}]}),[])],h=c,p=new class{constructor(t){this.routes=t}pathToRegexp(t){return new RegExp(`^${t.replace(/\//g,"\\/").replace(/:\w+/g,"(.+)")}$`)}render(){const t=window.location.pathname,e=this.routes.find((e=>this.pathToRegexp(this.getUrlFrom(e.path)).test(t)));e?document.querySelector("#page").innerHTML=e.html.replace(":id",this.getIdFromPath(t)):this.replaceTo("/")}getIdFromPath(t){return t.match(/\d+/)?.[0]}navigateTo(t){this.getUrlFrom(t)!==window.location.pathname&&(window.history.pushState(null,null,r+t),this.render())}replaceTo(t){window.history.replaceState(null,null,r+t),this.render()}getUrlFrom(t){return`${r}${t}`}back(){window.history.back(),this.render()}}(h),b=t+"59cb65e4f8f2627d6c2c.png",u=t+"bc8d31a2338dd0b3f68a.png";class y extends n{connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.handleClick.bind(this))}injectHTML(){return i`
      <img alt="window_logo" src=${b} class="window_icon" />
      <div class="input_box">
        <img alt="search" src=${u} class="window_icon" /><input type="text" placeholder="찾기" />
      </div>
      ${l.map((t=>i` <my-icon data-path="${t.path}" data-iconSrc="${t.iconSrc}"></my-icon> `)).join("")}
    `}handleClick(t){if(!t.target.closest("my-icon"))return;const e=t.target.closest("my-icon");p.navigateTo(e.dataset.path)}}class m extends n{}const k={I:[[1,1,1,1],[0,0,0,0],[0,0,0,0]],J:[[1,0,0],[1,1,1],[0,0,0]],L:[[0,0,1],[1,1,1],[0,0,0]],O:[[1,1],[1,1]],S:[[0,1,1],[1,1,0],[0,0,0]],T:[[0,1,0],[1,1,1],[0,0,0]],Z:[[1,1,0],[0,1,1],[0,0,0]]};class g extends n{constructor(){super(),this.board=(10,Array(20).fill(0).map((()=>Array(10).fill(0))))}connectedCallback(){super.connectedCallback(),this.querySelector("#start-button").addEventListener("click",this.startGame.bind(this))}injectHTML(){return i`
      <button id="start-button">게임 시작</button>
      <div class="board">
        ${this.board.map(((t,e)=>i`
              <ul>
                ${t.map(((t,s)=>i`<li class="cell-${this.board[e][s]}"></li>`)).join("")}
              </ul>
            `)).join("")}
      </div>
      <div>추후 추가될 공간입니다.</div>
    `}static get observedAttributes(){return["board","block","block-pos"]}attributeChangedCallback(t,e,i){if("block-pos"===t){const t=JSON.parse(e),s=JSON.parse(i);this.board=this.getUpdatedBoard(s,t),this.render()}}getUpdatedBoard(t,e){const i=[...this.board];return e&&this.removePrevBlockFromBoard(i,e),this.putNextBlockOnBoard(i,t),i}removePrevBlockFromBoard(t,e){this.block.forEach(((i,s)=>{i.forEach(((i,n)=>{1===i&&(t[e.x+s][e.y+n]=0)}))}))}putNextBlockOnBoard(t,e){this.block.forEach(((i,s)=>{i.forEach(((i,n)=>{t[e.x+s][e.y+n]=i}))}))}startGame(){var t;this.block=(t=k,Object.values(t)[Math.floor(7*Math.random())]),this.blockPos=(10,{x:Math.floor(5),y:0}),document.addEventListener("keydown",this.keydownHandler.bind(this))}keydownHandler(t){"ArrowDown"===t.key?this.blockPos={x:this.blockPos.x+1,y:this.blockPos.y}:"ArrowUp"===t.key?this.blockPos={x:this.blockPos.x-1,y:this.blockPos.y}:"ArrowLeft"===t.key?this.blockPos={x:this.blockPos.x,y:this.blockPos.y-1}:"ArrowRight"===t.key&&(this.blockPos={x:this.blockPos.x,y:this.blockPos.y+1})}get board(){return JSON.parse(this.getAttribute("board"))}set board(t){this.setAttribute("board",JSON.stringify(t))}get block(){return JSON.parse(this.getAttribute("block"))}set block(t){this.setAttribute("block",JSON.stringify(t))}get blockPos(){return JSON.parse(this.getAttribute("block-pos"))}set blockPos(t){this.setAttribute("block-pos",JSON.stringify(t))}}class v extends n{injectHTML(){return i`
      <h1>Flappy Bird</h1>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
    `}}class w extends n{async connectedCallback(){this.icons=[...l,...await d()],super.connectedCallback(),this.addEventListener("click",this.handleClick),this.addEventListener("dblclick",this.handleDoubleClick),this.addEventListener("keydown",this.handleKeyDown),this.addEventListener("iconChange",this.handleIconChange),this.addEventListener("iconDelete",this.handleIconDelete)}static get observedAttributes(){return["icons"]}attributeChangedCallback(t,e,i){e!==i&&this.render()}injectHTML(){return i`
      ${this.icons.map((t=>i`
            <my-icon data-path=${t.path} data-label=${t.label} data-iconSrc=${t.iconSrc}></my-icon>
          `)).join("")}
    `}get icons(){return JSON.parse(this.getAttribute("icons"))}set icons(t){this.setAttribute("icons",JSON.stringify(t))}handleClick(t){if(!t.target.closest("my-icon"))return;const e=t.target.closest("my-icon");e.toggleAttribute("checked"),this.querySelectorAll("my-icon").forEach((t=>{t!==e&&t.removeAttribute("checked")}))}handleDoubleClick(t){if(!t.target.closest("my-icon"))return;const e=t.target.closest("my-icon");p.navigateTo(e.dataset.path)}handleKeyDown(t){const e=this.querySelectorAll("my-icon[checked]");if("Enter"===t.key){if(e.length>1)return;if(!e)return;p.navigateTo(e[0].dataset.path)}}handleIconChange(t){const{path:e,label:i,iconSrc:s}=t.detail,n=this.icons.findIndex((t=>t.path===e));if(-1===n)this.icons=[...this.icons,{path:e,label:i,iconSrc:s}];else{const t=[...this.icons];t[n]={path:e,label:i,iconSrc:s},this.icons=t}}handleIconDelete(t){const{path:e}=t.detail;this.icons=this.icons.filter((t=>t.path!==e))}}class f extends n{injectHTML(){const{label:t,iconsrc:e}=this.dataset;return i`
      <img alt="${t}_icon" src=${e} />
      ${t?`<span class="icon_name">${t}</span>`:""}
    `}}class x extends n{async connectedCallback(){this.data=await e.getData("notepad",this.id)??{title:"제목없음",content:""},super.connectedCallback(),this.addEventListener("save",this.handleSave),this.addEventListener("localSave",this.handleLocalSave),this.addEventListener("delete",this.handleDelete)}disconnectedCallback(){this.removeEventListener("save",this.handleSave),this.removeEventListener("localSave",this.handleLocalSave)}injectHTML(){const{title:t,content:e}=this.data;return i`
      <my-notepad-header title=${t}></my-notepad-header>
      <textarea>${e}</textarea>
    `}handleLocalSave(t){t.preventDefault();const e=this.getNotePadData();if(!e)return;const i=new Blob([e.content],{type:"text/plain"}),s=document.createElement("a");s.href=URL.createObjectURL(i),s.download=`${e.title}.txt`,s.click()}async handleSave(t){try{t.stopPropagation();const i=this.getNotePadData();if(!i)return;const s=await e.upsertData("notepad",i);if(!s)return;const n=`/notepad/${s}`;alert("저장되었습니다.");const a=new CustomEvent("iconChange",{detail:{path:n,label:i.title.replace(/ /g,"&nbsp;"),iconSrc:o}});document.querySelector("my-icons").dispatchEvent(a),router.navigateTo(n)}catch(t){alert("저장에 실패했습니다.")}}async handleDelete(t){try{if(t.stopPropagation(),!window.confirm("정말 삭제하시겠습니까?"))return;await e.deleteData("notepad",this.id),alert("삭제되었습니다.");const i=new CustomEvent("iconDelete",{detail:{path:`/notepad/${this.id}`}});document.querySelector("my-icons").dispatchEvent(i),router.replaceTo("/notepad")}catch(t){alert("삭제에 실패했습니다.")}}getNotePadData(){const t=this.querySelector("textarea").value.trim();if(!t)return alert("내용이 없습니다."),null;let e;for(;!e;)if(!(e=prompt("파일명을 입력하세요.",this.data.title.replace(/&nbsp;/g," ")),e||window.confirm("제목은 필수입니다.")))return null;return{id:this.id,title:e.trim().replace(/ /g,"&nbsp;"),content:t.replace(/ /g,"&nbsp;").replace(/\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;")}}get id(){return Number(this.getAttribute("id"))}}const S=!0,C=[{id:"file",title:"파일",key:"F",slots:[{id:1,text:"새로 만들기(N)",key:["Ctrl","N"],onClick:function(){const t=this.closest("my-notepad");0!==t.id?p.navigateTo("/notepad"):t.querySelector("textarea").value=""}},{id:2,text:"내 컴퓨터에 저장(W)",key:["Ctrl","Shift","N"],onClick:function(){this.dispatchEvent(new CustomEvent("localSave",{bubbles:!0}))}},{id:3,text:"저장(S)",key:["Ctrl","S"],onClick:function(){this.dispatchEvent(new CustomEvent("save",{bubbles:!0}))}},{id:4,text:"삭제(D)",key:["Ctrl","Shift","S"],onClick:function(){0!==this.closest("my-notepad").id&&this.dispatchEvent(new CustomEvent("delete",{bubbles:!0}))}},{id:5,text:"페이지 설정(U)...",key:[],disable:S},{id:6,text:"인쇄(P)...",key:["Ctrl","P"],disable:S},{id:7,text:"끝내기(X)",key:[],disable:S}]},{id:"edit",title:"편집",key:"E",slots:[{id:8,text:"실행 취소(U)",key:["Ctrl","Z"],disable:S},{id:9,text:"잘라내기(T)",key:["Ctrl","X"],disable:S},{id:10,text:"복사(C)",key:["Ctrl","C"],disable:S},{id:11,text:"붙여넣기(P)",key:["Ctrl","V"],disable:S},{id:12,text:"삭제(D)",key:["Del"],disable:S},{id:13,text:"Bing으로 검색(S)...",key:["Ctrl","E"],disable:S},{id:14,text:"찾기(F)...",key:["Ctrl","F"],disable:S},{id:15,text:"다음 찾기(N)",key:["F3"],disable:S},{id:16,text:"이전 찾기(V)",key:["Shift","F3"],disable:S},{id:17,text:"바꾸기(R)...",key:["Ctrl","H"],disable:S},{id:18,text:"이동(G)...",key:["Ctrl","G"],disable:S},{id:19,text:"모두 선택(A)",key:["Ctrl","A"],disable:S},{id:20,text:"시간/날짜(D)",key:["F5"],disable:S}]},{id:"format",title:"서식",key:"O",slots:[{id:21,text:"자동 줄 바꿈(W)",key:[],disable:S},{id:22,text:"글꼴(F)...",key:[],disable:S}]},{id:"view",title:"보기",key:"V",slots:[{id:23,text:"확대하기(Z)",key:["Ctrl","+"],disable:S},{id:24,text:"축소하기(X)",key:["Ctrl","-"],disable:S},{id:25,text:"상태 표시줄(S)",key:[],disable:S}]},{id:"help",title:"도움말",key:"H",slots:[{id:26,text:"도움말 보기(H)",key:[],disable:S},{id:27,text:"피드백 보내기(F)",key:[],disable:S},{id:28,text:"메모장 정보(A)",key:[],disable:S}]}],E=C.reduce(((t,e)=>[...t,...e.slots]),[]),L=C;class $ extends n{connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.handleClick)}disconnectedCallback(){this.removeEventListener("click",this.handleClick)}injectHTML(){return i`
      <header>
        <span>
          <img alt="notepad_icon" src=${o} />
          ${this.title} - Windows 메모장
        </span>
        <div class="view_buttons">
          <button class="view_button" id="mini">🗕</button>
          <button class="view_button" id="full">🗖</button>
          <button class="view_button" id="close">Ⅹ</button>
        </div>
      </header>
      <div class="edit_buttons">
        ${L.map((t=>i`
              <button class="edit_button">
                ${t.title}(<u>${t.key}</u>)
                <div class="popup">
                  ${t.slots.map((t=>i`
                        <div class="sub" data-id="${t.id}" data-disable="${!!t.disable}">
                          <div>${t.text}</div>
                          ${t.key.length>0?`<div>${t.key.join(" + ")}</div>`:""}
                        </div>
                      `)).join("")}
                </div>
              </button>
            `)).join("")}
      </div>
    `}handleClick(t){const e=t.target.closest(".view_button"),i=t.target.closest(".edit_button"),s=t.target.closest(".sub");e?this.clickViewButton(e):i?this.clickEditButton(i,s):this.closePopup()}clickViewButton(t){switch(t.id){case"full":this.parentElement.classList.toggle("fullscreen");break;case"mini":case"close":p.back()}}clickEditButton(t,e){if(e){const t=Number(e.dataset.id),{onClick:i}=E.find((e=>e.id===t))||{};i&&i.call(this)}else this.togglePopup(t)}togglePopup(t){const e=t.querySelector(".popup");e.classList.contains("show")?e.classList.remove("show"):(this.closePopup(),e.classList.add("show"))}closePopup(){const t=this.querySelector(".popup.show");t?.classList.remove("show")}get title(){return this.getAttribute("title")}get title(){return this.getAttribute("title")}}class P extends n{injectHTML(){return i`
      ${s(20,((t,e)=>i`
            <ul>
              ${s(10,((t,s)=>i`<li>${e}, ${s}</li>`))}
            </ul>
          `))}
    `}}class D extends n{injectHTML(){return i`
      <div>7종의 테트로미노(블록)가 한묶음으로 랜덤하게 등장합니다.</div>
      <div>필드는 20 x 10 입니다.</div>
      <div>X : 시계방향 회전(우회전)</div>
      <div>Z : 반시계방향 회전(좌회전)</div>
    `}}(async()=>{try{await e.openDB()}catch(t){queueMicrotask((()=>alert("IndexedDB를 사용할 수 없습니다.")))}customElements.define("my-app",a),customElements.define("my-footer",y),customElements.define("my-home",m),customElements.define("my-tetris",g),customElements.define("my-flappybird",v),customElements.define("my-icons",w),customElements.define("my-icon",f),customElements.define("my-notepad",x),customElements.define("my-notepad-header",$),customElements.define("my-tetris-board",P),customElements.define("my-tetris-info",D)})(),window.addEventListener("load",(()=>p.render())),window.addEventListener("popstate",(()=>p.render()))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixDQUVBVCxhQUdFLE1BQU1PLEVBQVF6TixLQUFLZ0YsY0FBYyxlQUNqQ3lJLEdBQU9MLFVBQVVNLE9BQU8sT0FDMUIsQ0FFSXZKLFlBQ0YsT0FBT25FLEtBQUsySSxhQUFhLFFBQzNCLENBRUl4RSxZQUNGLE9BQU9uRSxLQUFLMkksYUFBYSxRQUMzQixFQ25IYSxNQUFNaUYsVUFBb0I1SyxFQUN2Q0ssYUFDRSxPQUFPLENBQUk7UUFDUFosRUFDQSxJQUNBLENBQUNvTCxFQUFHOUcsSUFDRixDQUFJOztnQkFFRXRFLEVBQU8sSUFBSSxDQUFDcUwsRUFBRzdHLElBQU0sQ0FBSSxPQUFPRixNQUFNRTs7O0tBS3BELEVDYmEsTUFBTThHLFVBQW1CL0ssRUFDdENLLGFBQ0UsT0FBTyxDQUFJOzs7OztLQU1iLEVDSUYsV0FDRSxVQUNRLFVBQ1IsQ0FBRSxNQUFPekMsR0FDUG9OLGdCQUFlLElBQU16QyxNQUFNLDJCQUM3QixDQUVBMEMsZUFBZUMsT0FBTyxTQUFVNUssR0FDaEMySyxlQUFlQyxPQUFPLFlBQWF4SSxHQUNuQ3VJLGVBQWVDLE9BQU8sVUFBV2hJLEdBQ2pDK0gsZUFBZUMsT0FBTyxZQUFhdkgsR0FDbkNzSCxlQUFlQyxPQUFPLGdCQUFpQnBGLEdBQ3ZDbUYsZUFBZUMsT0FBTyxXQUFZbkYsR0FDbENrRixlQUFlQyxPQUFPLFVBQVdsRSxHQUNqQ2lFLGVBQWVDLE9BQU8sYUFBY2hFLEdBQ3BDK0QsZUFBZUMsT0FBTyxvQkFBcUJ4QixHQUMzQ3VCLGVBQWVDLE9BQU8sa0JBQW1CTixHQUN6Q0ssZUFBZUMsT0FBTyxpQkFBa0JILEVBQ3pDLEVBbEJELEdBb0JBek4sT0FBT3NGLGlCQUFpQixRQUFRLElBQU0sYUFDdEN0RixPQUFPc0YsaUJBQWlCLFlBQVksSUFBTSxZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvY29yZS9JbmRleGVkREIuanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL3V0aWxzL3V0aWxzLmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy9jb3JlL1dlYkNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvQXBwLmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy91dGlscy9yb3V0ZXMuanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL2NvcmUvUm91dGVyLmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy92aWV3L0NvbW1vbi9Gb290ZXIuanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL3ZpZXcvSG9tZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvdmlldy9UZXRyaXMvY29uc3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL3ZpZXcvVGV0cmlzL2luZGV4LmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy92aWV3L1RldHJpcy91dGlscy9pbmRleC5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvdmlldy9GbGFwcHlCaXJkL2luZGV4LmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy92aWV3L0NvbW1vbi9JY29ucy5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvdmlldy9Db21tb24vSWNvbi5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvdmlldy9Ob3RlUGFkL2luZGV4LmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy92aWV3L05vdGVQYWQvY29uc3QvYnV0dG9ucy5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvdmlldy9Ob3RlUGFkL2NvbXBvbmVudHMvTm90ZVBhZEhlYWRlci5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvdmlldy9UZXRyaXMvY29tcG9uZW50cy9UZXRyaXNCb2FyZC5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvdmlldy9UZXRyaXMvY29tcG9uZW50cy9UZXRyaXNJbmZvLmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvanMtc2FuZGJveC9cIjsiLCJjbGFzcyBJbmRleGVkREIge1xyXG4gIGRiO1xyXG5cclxuICAvKipcclxuICAgKiDsg53shLHsnpBcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGJOYW1lXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGRiVmVyc2lvblxyXG4gICAqIEBwYXJhbSB7c3RyaW5nW119IHN0b3Jlc1xyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKGRiTmFtZSwgZGJWZXJzaW9uLCBzdG9yZXMpIHtcclxuICAgIHRoaXMuZGJOYW1lID0gZGJOYW1lO1xyXG4gICAgdGhpcy5kYlZlcnNpb24gPSBkYlZlcnNpb247XHJcbiAgICB0aGlzLnN0b3JlcyA9IHN0b3JlcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERCIOyYpO2UiCDrqZTshJzrk5xcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cclxuICAgKi9cclxuICBhc3luYyBvcGVuREIoKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBjb25zdCByZXF1ZXN0ID0gd2luZG93LmluZGV4ZWREQi5vcGVuKHRoaXMuZGJOYW1lLCB0aGlzLmRiVmVyc2lvbik7XHJcblxyXG4gICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmRiID0gcmVxdWVzdC5yZXN1bHQ7XHJcbiAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgcmVxdWVzdC5vbmVycm9yID0gKGUpID0+IHtcclxuICAgICAgICByZWplY3QoZSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZXF1ZXN0Lm9udXBncmFkZW5lZWRlZCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmRiID0gcmVxdWVzdC5yZXN1bHQ7XHJcblxyXG4gICAgICAgIHRoaXMuc3RvcmVzLmZvckVhY2goKHN0b3JlKSA9PiB7XHJcbiAgICAgICAgICBpZiAodGhpcy5kYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKHN0b3JlKSkge1xyXG4gICAgICAgICAgICB0aGlzLmRiLmRlbGV0ZU9iamVjdFN0b3JlKHN0b3JlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRoaXMuZGIuY3JlYXRlT2JqZWN0U3RvcmUoc3RvcmUsIHsga2V5UGF0aDogJ2lkJyB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog642w7J207YSwIOyhsO2ajCDrqZTshJzrk5xcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RvcmVOYW1lXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGlkXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8b2JqZWN0Pn1cclxuICAgKi9cclxuICBhc3luYyBnZXREYXRhKHN0b3JlTmFtZSwgaWQpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSB0aGlzLmRiLnRyYW5zYWN0aW9uKHN0b3JlTmFtZSwgJ3JlYWRvbmx5Jykub2JqZWN0U3RvcmUoc3RvcmVOYW1lKS5nZXQoaWQpO1xyXG5cclxuICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XHJcbiAgICAgICAgcmVzb2x2ZShyZXF1ZXN0LnJlc3VsdCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoZSkgPT4ge1xyXG4gICAgICAgIHJlamVjdChlKTtcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog642w7J207YSwIOyghOyytCDsobDtmowg66mU7ISc65OcXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0b3JlTmFtZVxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPG9iamVjdFtdPn1cclxuICAgKi9cclxuICBhc3luYyBnZXRBbGxEYXRhKHN0b3JlTmFtZSkge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgY29uc3QgcmVxdWVzdCA9IHRoaXMuZGIudHJhbnNhY3Rpb24oc3RvcmVOYW1lLCAncmVhZG9ubHknKS5vYmplY3RTdG9yZShzdG9yZU5hbWUpLmdldEFsbCgpO1xyXG5cclxuICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XHJcbiAgICAgICAgcmVzb2x2ZShyZXF1ZXN0LnJlc3VsdCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoZSkgPT4ge1xyXG4gICAgICAgIHJlamVjdChlKTtcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog642w7J207YSwIOy2lOqwgCDrqZTshJzrk5xcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RvcmVOYW1lXHJcbiAgICogQHBhcmFtIHtvYmplY3R9IGRhdGFcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxvYmplY3Q+fVxyXG4gICAqL1xyXG4gIGFzeW5jIHVwc2VydERhdGEoc3RvcmVOYW1lLCBkYXRhKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBjb25zdCBvYmplY3RTdG9yZSA9IHRoaXMuZGIudHJhbnNhY3Rpb24oc3RvcmVOYW1lLCAncmVhZHdyaXRlJykub2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcclxuICAgICAgY29uc3QgbW9kaWZpZWREYXRhID0geyAuLi5kYXRhLCBpZDogZGF0YS5pZCB8fCBuZXcgRGF0ZSgpLmdldFRpbWUoKSB9O1xyXG4gICAgICBjb25zdCByZXF1ZXN0ID0gb2JqZWN0U3RvcmUucHV0KG1vZGlmaWVkRGF0YSk7XHJcblxyXG4gICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcclxuICAgICAgICByZXNvbHZlKHJlcXVlc3QucmVzdWx0KTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhyZXF1ZXN0LmVycm9yKTtcclxuICAgICAgICByZWplY3QocmVxdWVzdC5lcnJvcik7XHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOuNsOydtO2EsCDsgq3soJwg66mU7ISc65OcXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0b3JlTmFtZVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpZFxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPG9iamVjdD59XHJcbiAgICovXHJcbiAgYXN5bmMgZGVsZXRlRGF0YShzdG9yZU5hbWUsIGlkKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5kYi50cmFuc2FjdGlvbihzdG9yZU5hbWUsICdyZWFkd3JpdGUnKS5vYmplY3RTdG9yZShzdG9yZU5hbWUpLmRlbGV0ZShpZCk7XHJcblxyXG4gICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcclxuICAgICAgICByZXNvbHZlKHRydWUpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgcmVxdWVzdC5vbmVycm9yID0gKGUpID0+IHtcclxuICAgICAgICByZWplY3QoZSk7XHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IHNhbmRib3hEQiA9IG5ldyBJbmRleGVkREIoJ3NhbmRib3hEQicsIDIsIFsnbm90ZXBhZCddKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHNhbmRib3hEQjtcclxuIiwiY29uc3QgcmVuZGVyUmF3ID0gKHN0cmluZywgLi4udmFsdWVzKSA9PiB7XHJcbiAgcmV0dXJuIFN0cmluZy5yYXcoc3RyaW5nLCAuLi52YWx1ZXMpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lc1xyXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xyXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gKi9cclxuY29uc3QgcmVwZWF0ID0gKHRpbWVzLCBjYWxsYmFjaykgPT4ge1xyXG4gIHJldHVybiBuZXcgQXJyYXkodGltZXMpLmZpbGwoJycpLm1hcChjYWxsYmFjaykuam9pbignJyk7XHJcbn07XHJcblxyXG5leHBvcnQgeyByZW5kZXJSYXcgYXMgaHRtbCwgcmVuZGVyUmF3IGFzIGNzcywgcmVwZWF0IH07XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFdlYkNvbXBvbmVudCBleHRlbmRzIEhUTUxFbGVtZW50IHtcclxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcclxuICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgfVxyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICB0aGlzLmlubmVySFRNTCA9IHRoaXMuaW5qZWN0SFRNTCgpO1xyXG4gIH1cclxuXHJcbiAgaW5qZWN0SFRNTCgpIHtcclxuICAgIHJldHVybiBgYDtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgaHRtbCB9IGZyb20gJy4vdXRpbHMvdXRpbHMnO1xyXG5pbXBvcnQgV2ViQ29tcG9uZW50IGZyb20gJy4vY29yZS9XZWJDb21wb25lbnQnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBwIGV4dGVuZHMgV2ViQ29tcG9uZW50IHtcclxuICBpbmplY3RIVE1MKCkge1xyXG4gICAgcmV0dXJuIGh0bWxgXHJcbiAgICAgIDxkaXYgaWQ9XCJwYWdlXCI+PC9kaXY+XHJcbiAgICAgIDxteS1pY29ucyB0YWJpbmRleD1cIi0xXCI+PC9teS1pY29ucz5cclxuICAgICAgPG15LWZvb3Rlcj48L215LWZvb3Rlcj5cclxuICAgIGA7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IGh0bWwgfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB0ZXRyaXMgZnJvbSAnLi4vLi4vcHVibGljL3RldHJpcy5wbmcnO1xuaW1wb3J0IGZsYXBweUJpcmQgZnJvbSAnLi4vLi4vcHVibGljL2ZsYXBweUJpcmQucG5nJztcbmltcG9ydCBub3RlcGFkIGZyb20gJy4uLy4uL3B1YmxpYy9ub3RlcGFkLnBuZyc7XG5pbXBvcnQgc2FuZGJveERCIGZyb20gJy4uL2NvcmUvSW5kZXhlZERCJztcblxuY29uc3QgQkFTRV9VUkwgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/ICcnIDogJy9qcy1zYW5kYm94JztcblxuY29uc3Qgcm91dGVzID0gW1xuICB7XG4gICAgcGF0aDogYC9gLFxuICAgIGh0bWw6IGh0bWxgPG15LWhvbWU+PC9teS1ob21lPmAsXG4gICAgbGFiZWw6ICdIb21lJyxcbiAgICBpY29uU3JjOiBudWxsLFxuICB9LFxuICB7XG4gICAgcGF0aDogYC90ZXRyaXNgLFxuICAgIGh0bWw6IGh0bWxgPG15LXRldHJpcz48L215LXRldHJpcz5gLFxuICAgIGxhYmVsOiAnVGV0cmlzJyxcbiAgICBpY29uU3JjOiB0ZXRyaXMsXG4gIH0sXG4gIHtcbiAgICBwYXRoOiBgL2ZsYXBweWJpcmRgLFxuICAgIGh0bWw6IGh0bWxgPG15LWZsYXBweWJpcmQ+PC9teS1mbGFwcHliaXJkPmAsXG4gICAgbGFiZWw6ICdGbGFwcHkmbmJzcDtCaXJkJyxcbiAgICBpY29uU3JjOiBmbGFwcHlCaXJkLFxuICB9LFxuICB7XG4gICAgcGF0aDogYC9ub3RlcGFkYCxcbiAgICBodG1sOiBodG1sYDxteS1ub3RlcGFkPjwvbXktbm90ZXBhZD5gLFxuICAgIGxhYmVsOiAnTm90ZSZuYnNwO1BhZCcsXG4gICAgaWNvblNyYzogbm90ZXBhZCxcbiAgfSxcbiAge1xuICAgIHBhdGg6IGAvbm90ZXBhZC86aWRgLFxuICAgIGh0bWw6IGh0bWxgPG15LW5vdGVwYWQgaWQ9XCI6aWRcIj48L215LW5vdGVwYWQ+YCxcbiAgICBsYWJlbDogJ05vdGUmbmJzcDtQYWQnLFxuICAgIGljb25TcmM6IG51bGwsXG4gIH0sXG5dO1xuXG5jb25zdCBtYWluSWNvbnMgPSByb3V0ZXMucmVkdWNlKChwcmV2LCByb3V0ZXIpID0+IHtcbiAgY29uc3QgeyBwYXRoLCBsYWJlbCwgaWNvblNyYyB9ID0gcm91dGVyO1xuICBpZiAoIXJvdXRlci5pY29uU3JjKSByZXR1cm4gcHJldjtcbiAgcmV0dXJuIFsuLi5wcmV2LCB7IHBhdGgsIGxhYmVsLCBpY29uU3JjIH1dO1xufSwgW10pO1xuXG5jb25zdCBnZXRMb2NhbEljb25zID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCBub3RlcGFkRGF0YSA9IGF3YWl0IHNhbmRib3hEQi5nZXRBbGxEYXRhKCdub3RlcGFkJyk7XG4gIGNvbnN0IG5vdGVwYWRJY29ucyA9IG5vdGVwYWREYXRhLnJlZHVjZSgocHJldiwgaWNvbikgPT4ge1xuICAgIGNvbnN0IHsgaWQsIHRpdGxlIH0gPSBpY29uO1xuICAgIHJldHVybiBbLi4ucHJldiwgeyBwYXRoOiBgL25vdGVwYWQvJHtpZH1gLCBsYWJlbDogdGl0bGUsIGljb25TcmM6IG5vdGVwYWQgfV07XG4gIH0sIFtdKTtcblxuICByZXR1cm4gWy4uLm5vdGVwYWRJY29uc107XG59O1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXM7XG5leHBvcnQgeyBtYWluSWNvbnMsIGdldExvY2FsSWNvbnMsIEJBU0VfVVJMIH07XG4iLCJpbXBvcnQgcm91dGVzLCB7IEJBU0VfVVJMIH0gZnJvbSAnLi4vdXRpbHMvcm91dGVzJztcblxuY2xhc3MgUm91dGVyIHtcbiAgY29uc3RydWN0b3Iocm91dGUpIHtcbiAgICB0aGlzLnJvdXRlcyA9IHJvdXRlO1xuICB9XG5cbiAgcGF0aFRvUmVnZXhwKHBhdGgpIHtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChgXiR7cGF0aC5yZXBsYWNlKC9cXC8vZywgJ1xcXFwvJykucmVwbGFjZSgvOlxcdysvZywgJyguKyknKX0kYCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgY3VycmVudFBhdGggPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWU7XG4gICAgY29uc3Qgcm91dGUgPSB0aGlzLnJvdXRlcy5maW5kKCh2YWx1ZSkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMucGF0aFRvUmVnZXhwKHRoaXMuZ2V0VXJsRnJvbSh2YWx1ZS5wYXRoKSkudGVzdChjdXJyZW50UGF0aCk7XG4gICAgfSk7XG5cbiAgICBpZiAoIXJvdXRlKSB7XG4gICAgICB0aGlzLnJlcGxhY2VUbygnLycpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwYWdlJykuaW5uZXJIVE1MID0gcm91dGUuaHRtbC5yZXBsYWNlKCc6aWQnLCB0aGlzLmdldElkRnJvbVBhdGgoY3VycmVudFBhdGgpKTtcbiAgfVxuXG4gIGdldElkRnJvbVBhdGgocGF0aCkge1xuICAgIHJldHVybiBwYXRoLm1hdGNoKC9cXGQrLyk/LlswXTtcbiAgfVxuXG4gIG5hdmlnYXRlVG8odXJsKSB7XG4gICAgaWYgKHRoaXMuZ2V0VXJsRnJvbSh1cmwpID09PSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpIHJldHVybjtcbiAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUobnVsbCwgbnVsbCwgQkFTRV9VUkwgKyB1cmwpO1xuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cblxuICByZXBsYWNlVG8odXJsKSB7XG4gICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsIG51bGwsIEJBU0VfVVJMICsgdXJsKTtcbiAgICB0aGlzLnJlbmRlcigpO1xuICB9XG5cbiAgZ2V0VXJsRnJvbSh1cmwpIHtcbiAgICByZXR1cm4gYCR7QkFTRV9VUkx9JHt1cmx9YDtcbiAgfVxuXG4gIGJhY2soKSB7XG4gICAgd2luZG93Lmhpc3RvcnkuYmFjaygpO1xuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cbn1cblxuY29uc3Qgcm91dGVyID0gbmV3IFJvdXRlcihyb3V0ZXMpO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XG4iLCJpbXBvcnQgV2ViQ29tcG9uZW50IGZyb20gJy4uLy4uL2NvcmUvV2ViQ29tcG9uZW50JztcclxuaW1wb3J0IHsgaHRtbCB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJztcclxuaW1wb3J0IHsgbWFpbkljb25zIH0gZnJvbSAnLi4vLi4vdXRpbHMvcm91dGVzJztcclxuaW1wb3J0IHJvdXRlciBmcm9tICcuLi8uLi9jb3JlL1JvdXRlcic7XHJcbmltcG9ydCB3aW5kb3dMb2dvIGZyb20gJy4uLy4uLy4uL3B1YmxpYy93aW5kb3dMb2dvLnBuZyc7XHJcbmltcG9ydCBzZWFyY2hJY29uIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9zZWFyY2hJY29uLnBuZyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGb290ZXIgZXh0ZW5kcyBXZWJDb21wb25lbnQge1xyXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xyXG4gICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcclxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNsaWNrLmJpbmQodGhpcykpO1xyXG4gIH1cclxuXHJcbiAgaW5qZWN0SFRNTCgpIHtcclxuICAgIHJldHVybiBodG1sYFxyXG4gICAgICA8aW1nIGFsdD1cIndpbmRvd19sb2dvXCIgc3JjPSR7d2luZG93TG9nb30gY2xhc3M9XCJ3aW5kb3dfaWNvblwiIC8+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJpbnB1dF9ib3hcIj5cclxuICAgICAgICA8aW1nIGFsdD1cInNlYXJjaFwiIHNyYz0ke3NlYXJjaEljb259IGNsYXNzPVwid2luZG93X2ljb25cIiAvPjxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwi7LC+6riwXCIgLz5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgICR7bWFpbkljb25zXHJcbiAgICAgICAgLm1hcCgoaWNvbikgPT4ge1xyXG4gICAgICAgICAgcmV0dXJuIGh0bWxgIDxteS1pY29uIGRhdGEtcGF0aD1cIiR7aWNvbi5wYXRofVwiIGRhdGEtaWNvblNyYz1cIiR7aWNvbi5pY29uU3JjfVwiPjwvbXktaWNvbj4gYDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5qb2luKCcnKX1cclxuICAgIGA7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVDbGljayhlKSB7XHJcbiAgICBpZiAoIWUudGFyZ2V0LmNsb3Nlc3QoJ215LWljb24nKSkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGljb24gPSBlLnRhcmdldC5jbG9zZXN0KCdteS1pY29uJyk7XHJcbiAgICByb3V0ZXIubmF2aWdhdGVUbyhpY29uLmRhdGFzZXQucGF0aCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBXZWJDb21wb25lbnQgZnJvbSAnLi4vLi4vY29yZS9XZWJDb21wb25lbnQnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSG9tZSBleHRlbmRzIFdlYkNvbXBvbmVudCB7fVxyXG4iLCJjb25zdCBCTE9DS1MgPSB7XHJcbiAgSTogW1xyXG4gICAgWzEsIDEsIDEsIDFdLFxyXG4gICAgWzAsIDAsIDAsIDBdLFxyXG4gICAgWzAsIDAsIDAsIDBdLFxyXG4gIF0sXHJcbiAgSjogW1xyXG4gICAgWzEsIDAsIDBdLFxyXG4gICAgWzEsIDEsIDFdLFxyXG4gICAgWzAsIDAsIDBdLFxyXG4gIF0sXHJcbiAgTDogW1xyXG4gICAgWzAsIDAsIDFdLFxyXG4gICAgWzEsIDEsIDFdLFxyXG4gICAgWzAsIDAsIDBdLFxyXG4gIF0sXHJcbiAgTzogW1xyXG4gICAgWzEsIDFdLFxyXG4gICAgWzEsIDFdLFxyXG4gIF0sXHJcbiAgUzogW1xyXG4gICAgWzAsIDEsIDFdLFxyXG4gICAgWzEsIDEsIDBdLFxyXG4gICAgWzAsIDAsIDBdLFxyXG4gIF0sXHJcbiAgVDogW1xyXG4gICAgWzAsIDEsIDBdLFxyXG4gICAgWzEsIDEsIDFdLFxyXG4gICAgWzAsIDAsIDBdLFxyXG4gIF0sXHJcbiAgWjogW1xyXG4gICAgWzEsIDEsIDBdLFxyXG4gICAgWzAsIDEsIDFdLFxyXG4gICAgWzAsIDAsIDBdLFxyXG4gIF0sXHJcbn07XHJcblxyXG5jb25zdCBCT0FSRF9XSURUSCA9IDEwO1xyXG5jb25zdCBCT0FSRF9IRUlHSFQgPSAyMDtcclxuXHJcbmV4cG9ydCB7IEJMT0NLUywgQk9BUkRfSEVJR0hULCBCT0FSRF9XSURUSCB9O1xyXG4iLCJpbXBvcnQgV2ViQ29tcG9uZW50IGZyb20gJy4uLy4uL2NvcmUvV2ViQ29tcG9uZW50JztcclxuaW1wb3J0IHsgaHRtbCB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJztcclxuaW1wb3J0ICcuL3N0eWxlcy5zY3NzJztcclxuaW1wb3J0IHsgQkxPQ0tTLCBCT0FSRF9IRUlHSFQsIEJPQVJEX1dJRFRIIH0gZnJvbSAnLi9jb25zdCc7XHJcbmltcG9ydCB7IGdldEJsb2NrLCBnZXRJbml0aWFsQmxvY2tQb3MsIGdldEluaXRpYWxCb2FyZCB9IGZyb20gJy4vdXRpbHMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV0cmlzIGV4dGVuZHMgV2ViQ29tcG9uZW50IHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHN1cGVyKCk7XHJcbiAgICB0aGlzLmJvYXJkID0gZ2V0SW5pdGlhbEJvYXJkKEJPQVJEX1dJRFRILCBCT0FSRF9IRUlHSFQpO1xyXG4gIH1cclxuXHJcbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XHJcbiAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xyXG4gICAgdGhpcy5xdWVyeVNlbGVjdG9yKCcjc3RhcnQtYnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnN0YXJ0R2FtZS5iaW5kKHRoaXMpKTtcclxuICB9XHJcblxyXG4gIGluamVjdEhUTUwoKSB7XHJcbiAgICByZXR1cm4gaHRtbGBcclxuICAgICAgPGJ1dHRvbiBpZD1cInN0YXJ0LWJ1dHRvblwiPuqyjOyehCDsi5zsnpE8L2J1dHRvbj5cclxuICAgICAgPGRpdiBjbGFzcz1cImJvYXJkXCI+XHJcbiAgICAgICAgJHt0aGlzLmJvYXJkXHJcbiAgICAgICAgICAubWFwKFxyXG4gICAgICAgICAgICAocm93LCBpKSA9PiBodG1sYFxyXG4gICAgICAgICAgICAgIDx1bD5cclxuICAgICAgICAgICAgICAgICR7cm93Lm1hcCgoY29sLCBqKSA9PiBodG1sYDxsaSBjbGFzcz1cImNlbGwtJHt0aGlzLmJvYXJkW2ldW2pdfVwiPjwvbGk+YCkuam9pbignJyl9XHJcbiAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgYFxyXG4gICAgICAgICAgKVxyXG4gICAgICAgICAgLmpvaW4oJycpfVxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGRpdj7stpTtm4Qg7LaU6rCA65CgIOqzteqwhOyeheuLiOuLpC48L2Rpdj5cclxuICAgIGA7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpIHtcclxuICAgIHJldHVybiBbJ2JvYXJkJywgJ2Jsb2NrJywgJ2Jsb2NrLXBvcyddO1xyXG4gIH1cclxuXHJcbiAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKG5hbWUsIG9sZFZhbHVlLCBuZXdWYWx1ZSkge1xyXG4gICAgaWYgKG5hbWUgPT09ICdibG9jay1wb3MnKSB7XHJcbiAgICAgIGNvbnN0IG9sZFBvcyA9IEpTT04ucGFyc2Uob2xkVmFsdWUpO1xyXG4gICAgICBjb25zdCBuZXdQb3MgPSBKU09OLnBhcnNlKG5ld1ZhbHVlKTtcclxuXHJcbiAgICAgIHRoaXMuYm9hcmQgPSB0aGlzLmdldFVwZGF0ZWRCb2FyZChuZXdQb3MsIG9sZFBvcyk7XHJcbiAgICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRVcGRhdGVkQm9hcmQobmV3UG9zLCBvbGRQb3MpIHtcclxuICAgIGNvbnN0IG5ld0JvYXJkID0gWy4uLnRoaXMuYm9hcmRdO1xyXG5cclxuICAgIGlmIChvbGRQb3MpIHtcclxuICAgICAgdGhpcy5yZW1vdmVQcmV2QmxvY2tGcm9tQm9hcmQobmV3Qm9hcmQsIG9sZFBvcyk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnB1dE5leHRCbG9ja09uQm9hcmQobmV3Qm9hcmQsIG5ld1Bvcyk7XHJcbiAgICByZXR1cm4gbmV3Qm9hcmQ7XHJcbiAgfVxyXG5cclxuICByZW1vdmVQcmV2QmxvY2tGcm9tQm9hcmQobmV3Qm9hcmQsIG9sZFBvcykge1xyXG4gICAgdGhpcy5ibG9jay5mb3JFYWNoKChyb3csIGkpID0+IHtcclxuICAgICAgcm93LmZvckVhY2goKGNvbCwgaikgPT4ge1xyXG4gICAgICAgIGlmIChjb2wgPT09IDEpIHtcclxuICAgICAgICAgIG5ld0JvYXJkW29sZFBvcy54ICsgaV1bb2xkUG9zLnkgKyBqXSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHV0TmV4dEJsb2NrT25Cb2FyZChuZXdCb2FyZCwgbmV3UG9zKSB7XHJcbiAgICB0aGlzLmJsb2NrLmZvckVhY2goKHJvdywgaSkgPT4ge1xyXG4gICAgICByb3cuZm9yRWFjaCgoY29sLCBqKSA9PiB7XHJcbiAgICAgICAgbmV3Qm9hcmRbbmV3UG9zLnggKyBpXVtuZXdQb3MueSArIGpdID0gY29sO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc3RhcnRHYW1lKCkge1xyXG4gICAgdGhpcy5ibG9jayA9IGdldEJsb2NrKEJMT0NLUyk7XHJcbiAgICB0aGlzLmJsb2NrUG9zID0gZ2V0SW5pdGlhbEJsb2NrUG9zKEJPQVJEX1dJRFRIKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleWRvd25IYW5kbGVyLmJpbmQodGhpcykpO1xyXG4gIH1cclxuXHJcbiAga2V5ZG93bkhhbmRsZXIoZSkge1xyXG4gICAgaWYgKGUua2V5ID09PSAnQXJyb3dEb3duJykge1xyXG4gICAgICB0aGlzLmJsb2NrUG9zID0geyB4OiB0aGlzLmJsb2NrUG9zLnggKyAxLCB5OiB0aGlzLmJsb2NrUG9zLnkgfTtcclxuICAgIH0gZWxzZSBpZiAoZS5rZXkgPT09ICdBcnJvd1VwJykge1xyXG4gICAgICB0aGlzLmJsb2NrUG9zID0geyB4OiB0aGlzLmJsb2NrUG9zLnggLSAxLCB5OiB0aGlzLmJsb2NrUG9zLnkgfTtcclxuICAgIH0gZWxzZSBpZiAoZS5rZXkgPT09ICdBcnJvd0xlZnQnKSB7XHJcbiAgICAgIHRoaXMuYmxvY2tQb3MgPSB7IHg6IHRoaXMuYmxvY2tQb3MueCwgeTogdGhpcy5ibG9ja1Bvcy55IC0gMSB9O1xyXG4gICAgfSBlbHNlIGlmIChlLmtleSA9PT0gJ0Fycm93UmlnaHQnKSB7XHJcbiAgICAgIHRoaXMuYmxvY2tQb3MgPSB7IHg6IHRoaXMuYmxvY2tQb3MueCwgeTogdGhpcy5ibG9ja1Bvcy55ICsgMSB9O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0IGJvYXJkKCkge1xyXG4gICAgcmV0dXJuIEpTT04ucGFyc2UodGhpcy5nZXRBdHRyaWJ1dGUoJ2JvYXJkJykpO1xyXG4gIH1cclxuXHJcbiAgc2V0IGJvYXJkKHZhbHVlKSB7XHJcbiAgICB0aGlzLnNldEF0dHJpYnV0ZSgnYm9hcmQnLCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGJsb2NrKCkge1xyXG4gICAgcmV0dXJuIEpTT04ucGFyc2UodGhpcy5nZXRBdHRyaWJ1dGUoJ2Jsb2NrJykpO1xyXG4gIH1cclxuXHJcbiAgc2V0IGJsb2NrKHZhbHVlKSB7XHJcbiAgICB0aGlzLnNldEF0dHJpYnV0ZSgnYmxvY2snLCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGJsb2NrUG9zKCkge1xyXG4gICAgcmV0dXJuIEpTT04ucGFyc2UodGhpcy5nZXRBdHRyaWJ1dGUoJ2Jsb2NrLXBvcycpKTtcclxuICB9XHJcblxyXG4gIHNldCBibG9ja1Bvcyh2YWx1ZSkge1xyXG4gICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ2Jsb2NrLXBvcycsIEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XHJcbiAgfVxyXG59XHJcbiIsImNvbnN0IGdldEluaXRpYWxCb2FyZCA9ICh3aWR0aCwgaGVpZ2h0KSA9PiB7XHJcbiAgcmV0dXJuIEFycmF5KGhlaWdodClcclxuICAgIC5maWxsKDApXHJcbiAgICAubWFwKCgpID0+IEFycmF5KHdpZHRoKS5maWxsKDApKTtcclxufTtcclxuXHJcbmNvbnN0IGdldEluaXRpYWxCbG9ja1BvcyA9ICh3aWR0aCkgPT4ge1xyXG4gIHJldHVybiB7IHg6IE1hdGguZmxvb3Iod2lkdGggLyAyKSwgeTogMCB9O1xyXG59O1xyXG5cclxuY29uc3QgZ2V0QmxvY2sgPSAoYmxvY2tzKSA9PiB7XHJcbiAgcmV0dXJuIE9iamVjdC52YWx1ZXMoYmxvY2tzKVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA3KV07XHJcbn07XHJcblxyXG5leHBvcnQgeyBnZXRJbml0aWFsQm9hcmQsIGdldEluaXRpYWxCbG9ja1BvcywgZ2V0QmxvY2sgfTtcclxuIiwiaW1wb3J0IFdlYkNvbXBvbmVudCBmcm9tICcuLi8uLi9jb3JlL1dlYkNvbXBvbmVudCc7XHJcbmltcG9ydCB7IGh0bWwgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGbGFwcHlCaXJkIGV4dGVuZHMgV2ViQ29tcG9uZW50IHtcclxuICBpbmplY3RIVE1MKCkge1xyXG4gICAgcmV0dXJuIGh0bWxgXHJcbiAgICAgIDxoMT5GbGFwcHkgQmlyZDwvaDE+XHJcbiAgICAgIDxwPllvdSBhcmUgdmlld2luZyB0aGUgRmxhcHB5IEJpcmQgY29tcG9uZW50ITwvcD5cclxuICAgICAgPHA+WW91IGFyZSB2aWV3aW5nIHRoZSBGbGFwcHkgQmlyZCBjb21wb25lbnQhPC9wPlxyXG4gICAgICA8cD5Zb3UgYXJlIHZpZXdpbmcgdGhlIEZsYXBweSBCaXJkIGNvbXBvbmVudCE8L3A+XHJcbiAgICAgIDxwPllvdSBhcmUgdmlld2luZyB0aGUgRmxhcHB5IEJpcmQgY29tcG9uZW50ITwvcD5cclxuICAgICAgPHA+WW91IGFyZSB2aWV3aW5nIHRoZSBGbGFwcHkgQmlyZCBjb21wb25lbnQhPC9wPlxyXG4gICAgICA8cD5Zb3UgYXJlIHZpZXdpbmcgdGhlIEZsYXBweSBCaXJkIGNvbXBvbmVudCE8L3A+XHJcbiAgICBgO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBodG1sIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbHMnO1xyXG5pbXBvcnQgcm91dGVyIGZyb20gJy4uLy4uL2NvcmUvUm91dGVyJztcclxuaW1wb3J0IFdlYkNvbXBvbmVudCBmcm9tICcuLi8uLi9jb3JlL1dlYkNvbXBvbmVudCc7XHJcbmltcG9ydCB7IGdldExvY2FsSWNvbnMsIG1haW5JY29ucyB9IGZyb20gJy4uLy4uL3V0aWxzL3JvdXRlcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJY29ucyBleHRlbmRzIFdlYkNvbXBvbmVudCB7XHJcbiAgYXN5bmMgY29ubmVjdGVkQ2FsbGJhY2soKSB7XHJcbiAgICB0aGlzLmljb25zID0gWy4uLm1haW5JY29ucywgLi4uKGF3YWl0IGdldExvY2FsSWNvbnMoKSldO1xyXG4gICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcclxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNsaWNrKTtcclxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCB0aGlzLmhhbmRsZURvdWJsZUNsaWNrKTtcclxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlS2V5RG93bik7XHJcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2ljb25DaGFuZ2UnLCB0aGlzLmhhbmRsZUljb25DaGFuZ2UpO1xyXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdpY29uRGVsZXRlJywgdGhpcy5oYW5kbGVJY29uRGVsZXRlKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCkge1xyXG4gICAgcmV0dXJuIFsnaWNvbnMnXTtcclxuICB9XHJcblxyXG4gIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lLCBvbGRWYWx1ZSwgbmV3VmFsdWUpIHtcclxuICAgIGlmIChvbGRWYWx1ZSA9PT0gbmV3VmFsdWUpIHJldHVybjtcclxuICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgfVxyXG5cclxuICBpbmplY3RIVE1MKCkge1xyXG4gICAgcmV0dXJuIGh0bWxgXHJcbiAgICAgICR7dGhpcy5pY29uc1xyXG4gICAgICAgIC5tYXAoKGljb24pID0+IHtcclxuICAgICAgICAgIHJldHVybiBodG1sYFxyXG4gICAgICAgICAgICA8bXktaWNvbiBkYXRhLXBhdGg9JHtpY29uLnBhdGh9IGRhdGEtbGFiZWw9JHtpY29uLmxhYmVsfSBkYXRhLWljb25TcmM9JHtpY29uLmljb25TcmN9PjwvbXktaWNvbj5cclxuICAgICAgICAgIGA7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuam9pbignJyl9XHJcbiAgICBgO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGljb25zKCkge1xyXG4gICAgcmV0dXJuIEpTT04ucGFyc2UodGhpcy5nZXRBdHRyaWJ1dGUoJ2ljb25zJykpO1xyXG4gIH1cclxuXHJcbiAgc2V0IGljb25zKHZhbHVlKSB7XHJcbiAgICB0aGlzLnNldEF0dHJpYnV0ZSgnaWNvbnMnLCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlQ2xpY2soZSkge1xyXG4gICAgaWYgKCFlLnRhcmdldC5jbG9zZXN0KCdteS1pY29uJykpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBpY29uID0gZS50YXJnZXQuY2xvc2VzdCgnbXktaWNvbicpO1xyXG4gICAgaWNvbi50b2dnbGVBdHRyaWJ1dGUoJ2NoZWNrZWQnKTtcclxuICAgIHRoaXMucXVlcnlTZWxlY3RvckFsbCgnbXktaWNvbicpLmZvckVhY2goKG5vZGUpID0+IHtcclxuICAgICAgaWYgKG5vZGUgIT09IGljb24pIHtcclxuICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZSgnY2hlY2tlZCcpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGhhbmRsZURvdWJsZUNsaWNrKGUpIHtcclxuICAgIGlmICghZS50YXJnZXQuY2xvc2VzdCgnbXktaWNvbicpKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgaWNvbiA9IGUudGFyZ2V0LmNsb3Nlc3QoJ215LWljb24nKTtcclxuICAgIHJvdXRlci5uYXZpZ2F0ZVRvKGljb24uZGF0YXNldC5wYXRoKTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUtleURvd24oZSkge1xyXG4gICAgY29uc3QgY2hlY2tlZEVsID0gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKCdteS1pY29uW2NoZWNrZWRdJyk7XHJcbiAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHtcclxuICAgICAgaWYgKGNoZWNrZWRFbC5sZW5ndGggPiAxKSByZXR1cm47XHJcbiAgICAgIGlmICghY2hlY2tlZEVsKSByZXR1cm47XHJcbiAgICAgIHJvdXRlci5uYXZpZ2F0ZVRvKGNoZWNrZWRFbFswXS5kYXRhc2V0LnBhdGgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlSWNvbkNoYW5nZShlKSB7XHJcbiAgICBjb25zdCB7IHBhdGgsIGxhYmVsLCBpY29uU3JjIH0gPSBlLmRldGFpbDtcclxuICAgIGNvbnN0IHByZXZJY29uSW5kZXggPSB0aGlzLmljb25zLmZpbmRJbmRleCgoaWNvbikgPT4gaWNvbi5wYXRoID09PSBwYXRoKTtcclxuXHJcbiAgICBpZiAocHJldkljb25JbmRleCA9PT0gLTEpIHtcclxuICAgICAgdGhpcy5pY29ucyA9IFsuLi50aGlzLmljb25zLCB7IHBhdGgsIGxhYmVsLCBpY29uU3JjIH1dO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgbmV3SWNvbnMgPSBbLi4udGhpcy5pY29uc107XHJcbiAgICAgIG5ld0ljb25zW3ByZXZJY29uSW5kZXhdID0geyBwYXRoLCBsYWJlbCwgaWNvblNyYyB9O1xyXG4gICAgICB0aGlzLmljb25zID0gbmV3SWNvbnM7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVJY29uRGVsZXRlKGUpIHtcclxuICAgIGNvbnN0IHsgcGF0aCB9ID0gZS5kZXRhaWw7XHJcbiAgICB0aGlzLmljb25zID0gdGhpcy5pY29ucy5maWx0ZXIoKGljb24pID0+IGljb24ucGF0aCAhPT0gcGF0aCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IGh0bWwgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XHJcbmltcG9ydCBXZWJDb21wb25lbnQgZnJvbSAnLi4vLi4vY29yZS9XZWJDb21wb25lbnQnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSWNvbiBleHRlbmRzIFdlYkNvbXBvbmVudCB7XHJcbiAgaW5qZWN0SFRNTCgpIHtcclxuICAgIGNvbnN0IHsgbGFiZWwsIGljb25zcmMgfSA9IHRoaXMuZGF0YXNldDtcclxuICAgIHJldHVybiBodG1sYFxyXG4gICAgICA8aW1nIGFsdD1cIiR7bGFiZWx9X2ljb25cIiBzcmM9JHtpY29uc3JjfSAvPlxyXG4gICAgICAke2xhYmVsID8gYDxzcGFuIGNsYXNzPVwiaWNvbl9uYW1lXCI+JHtsYWJlbH08L3NwYW4+YCA6ICcnfVxyXG4gICAgYDtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFdlYkNvbXBvbmVudCBmcm9tICcuLi8uLi9jb3JlL1dlYkNvbXBvbmVudCc7XHJcbmltcG9ydCB7IGh0bWwgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XHJcbmltcG9ydCAnLi9zdHlsZXMuc2Nzcyc7XHJcbmltcG9ydCBzYW5kYm94REIgZnJvbSAnLi4vLi4vY29yZS9JbmRleGVkREInO1xyXG5pbXBvcnQgTm90ZVBhZEljb24gZnJvbSAnLi4vLi4vLi4vcHVibGljL25vdGVwYWQucG5nJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5vdGVQYWQgZXh0ZW5kcyBXZWJDb21wb25lbnQge1xyXG4gIGFzeW5jIGNvbm5lY3RlZENhbGxiYWNrKCkge1xyXG4gICAgdGhpcy5kYXRhID0gKGF3YWl0IHNhbmRib3hEQi5nZXREYXRhKCdub3RlcGFkJywgdGhpcy5pZCkpID8/IHtcclxuICAgICAgdGl0bGU6ICfsoJzrqqnsl4bsnYwnLFxyXG4gICAgICBjb250ZW50OiAnJyxcclxuICAgIH07XHJcbiAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xyXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdzYXZlJywgdGhpcy5oYW5kbGVTYXZlKTtcclxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignbG9jYWxTYXZlJywgdGhpcy5oYW5kbGVMb2NhbFNhdmUpO1xyXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdkZWxldGUnLCB0aGlzLmhhbmRsZURlbGV0ZSk7XHJcbiAgfVxyXG5cclxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcclxuICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2F2ZScsIHRoaXMuaGFuZGxlU2F2ZSk7XHJcbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvY2FsU2F2ZScsIHRoaXMuaGFuZGxlTG9jYWxTYXZlKTtcclxuICB9XHJcblxyXG4gIGluamVjdEhUTUwoKSB7XHJcbiAgICBjb25zdCB7IHRpdGxlLCBjb250ZW50IH0gPSB0aGlzLmRhdGE7XHJcbiAgICByZXR1cm4gaHRtbGBcclxuICAgICAgPG15LW5vdGVwYWQtaGVhZGVyIHRpdGxlPSR7dGl0bGV9PjwvbXktbm90ZXBhZC1oZWFkZXI+XHJcbiAgICAgIDx0ZXh0YXJlYT4ke2NvbnRlbnR9PC90ZXh0YXJlYT5cclxuICAgIGA7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVMb2NhbFNhdmUoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgY29uc3Qgbm90ZVBhZERhdGEgPSB0aGlzLmdldE5vdGVQYWREYXRhKCk7XHJcbiAgICBpZiAoIW5vdGVQYWREYXRhKSByZXR1cm47XHJcbiAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW25vdGVQYWREYXRhLmNvbnRlbnRdLCB7IHR5cGU6ICd0ZXh0L3BsYWluJyB9KTtcclxuICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICBsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xyXG4gICAgbGluay5kb3dubG9hZCA9IGAke25vdGVQYWREYXRhLnRpdGxlfS50eHRgO1xyXG4gICAgbGluay5jbGljaygpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgaGFuZGxlU2F2ZShlKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICBjb25zdCBub3RlUGFkRGF0YSA9IHRoaXMuZ2V0Tm90ZVBhZERhdGEoKTtcclxuICAgICAgaWYgKCFub3RlUGFkRGF0YSkgcmV0dXJuO1xyXG5cclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2FuZGJveERCLnVwc2VydERhdGEoJ25vdGVwYWQnLCBub3RlUGFkRGF0YSk7XHJcbiAgICAgIGlmICghcmVzdWx0KSByZXR1cm47XHJcblxyXG4gICAgICBjb25zdCBwYXRoID0gYC9ub3RlcGFkLyR7cmVzdWx0fWA7XHJcblxyXG4gICAgICBhbGVydCgn7KCA7J6l65CY7JeI7Iq164uI64ukLicpO1xyXG4gICAgICBjb25zdCBpY29uQ2hhbmdlRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2ljb25DaGFuZ2UnLCB7XHJcbiAgICAgICAgZGV0YWlsOiB7XHJcbiAgICAgICAgICBwYXRoLFxyXG4gICAgICAgICAgbGFiZWw6IG5vdGVQYWREYXRhLnRpdGxlLnJlcGxhY2UoLyAvZywgJyZuYnNwOycpLFxyXG4gICAgICAgICAgaWNvblNyYzogTm90ZVBhZEljb24sXHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ215LWljb25zJykuZGlzcGF0Y2hFdmVudChpY29uQ2hhbmdlRXZlbnQpO1xyXG4gICAgICByb3V0ZXIubmF2aWdhdGVUbyhwYXRoKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBhbGVydCgn7KCA7J6l7JeQIOyLpO2MqO2WiOyKteuLiOuLpC4nKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGhhbmRsZURlbGV0ZShlKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICBjb25zdCBjb25maXJtUmVzdWx0ID0gd2luZG93LmNvbmZpcm0oJ+ygleunkCDsgq3soJztlZjsi5zqsqDsirXri4jquYw/Jyk7XHJcbiAgICAgIGlmICghY29uZmlybVJlc3VsdCkgcmV0dXJuO1xyXG5cclxuICAgICAgYXdhaXQgc2FuZGJveERCLmRlbGV0ZURhdGEoJ25vdGVwYWQnLCB0aGlzLmlkKTtcclxuXHJcbiAgICAgIGFsZXJ0KCfsgq3soJzrkJjsl4jsirXri4jri6QuJyk7XHJcbiAgICAgIGNvbnN0IGljb25EZWxldGVFdmVudCA9IG5ldyBDdXN0b21FdmVudCgnaWNvbkRlbGV0ZScsIHtcclxuICAgICAgICBkZXRhaWw6IHtcclxuICAgICAgICAgIHBhdGg6IGAvbm90ZXBhZC8ke3RoaXMuaWR9YCxcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbXktaWNvbnMnKS5kaXNwYXRjaEV2ZW50KGljb25EZWxldGVFdmVudCk7XHJcbiAgICAgIHJvdXRlci5yZXBsYWNlVG8oJy9ub3RlcGFkJyk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgYWxlcnQoJ+yCreygnOyXkCDsi6TtjKjtlojsirXri4jri6QuJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXROb3RlUGFkRGF0YSgpIHtcclxuICAgIGNvbnN0IGNvbnRlbnRFbCA9IHRoaXMucXVlcnlTZWxlY3RvcigndGV4dGFyZWEnKTtcclxuICAgIGNvbnN0IGNvbnRlbnQgPSBjb250ZW50RWwudmFsdWUudHJpbSgpO1xyXG4gICAgaWYgKCFjb250ZW50KSB7XHJcbiAgICAgIGFsZXJ0KCfrgrTsmqnsnbQg7JeG7Iq164uI64ukLicpO1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgdGl0bGU7XHJcbiAgICB3aGlsZSAoIXRpdGxlKSB7XHJcbiAgICAgIHRpdGxlID0gcHJvbXB0KCftjIzsnbzrqoXsnYQg7J6F66Cl7ZWY7IS47JqULicsIHRoaXMuZGF0YS50aXRsZS5yZXBsYWNlKC8mbmJzcDsvZywgJyAnKSk7XHJcbiAgICAgIGlmICghdGl0bGUpIHtcclxuICAgICAgICBjb25zdCBjb25maXJtUmVzdWx0ID0gd2luZG93LmNvbmZpcm0oJ+ygnOuqqeydgCDtlYTsiJjsnoXri4jri6QuJyk7XHJcbiAgICAgICAgaWYgKCFjb25maXJtUmVzdWx0KSByZXR1cm4gbnVsbDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlkOiB0aGlzLmlkLFxyXG4gICAgICB0aXRsZTogdGl0bGUudHJpbSgpLnJlcGxhY2UoLyAvZywgJyZuYnNwOycpLFxyXG4gICAgICBjb250ZW50OiBjb250ZW50LnJlcGxhY2UoLyAvZywgJyZuYnNwOycpLnJlcGxhY2UoL1xcbi9nLCAnPGJyPicpLnJlcGxhY2UoL1xcdC9nLCAnJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7JyksXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgZ2V0IGlkKCkge1xyXG4gICAgcmV0dXJuIE51bWJlcih0aGlzLmdldEF0dHJpYnV0ZSgnaWQnKSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCByb3V0ZXIgZnJvbSAnLi4vLi4vLi4vY29yZS9Sb3V0ZXInO1xyXG5cclxuY29uc3QgZGlzYWJsZSA9IHRydWU7XHJcblxyXG5jb25zdCBidXR0b25zID0gW1xyXG4gIHtcclxuICAgIGlkOiAnZmlsZScsXHJcbiAgICB0aXRsZTogJ+2MjOydvCcsXHJcbiAgICBrZXk6ICdGJyxcclxuICAgIHNsb3RzOiBbXHJcbiAgICAgIHsgaWQ6IDEsIHRleHQ6ICfsg4jroZwg66eM65Ok6riwKE4pJywga2V5OiBbJ0N0cmwnLCAnTiddLCBvbkNsaWNrOiBoYW5kbGVOZXdDbGljayB9LFxyXG4gICAgICB7IGlkOiAyLCB0ZXh0OiAn64K0IOy7tO2TqO2EsOyXkCDsoIDsnqUoVyknLCBrZXk6IFsnQ3RybCcsICdTaGlmdCcsICdOJ10sIG9uQ2xpY2s6IGhhbmRsZUxvY2FsU2F2ZUNsaWNrIH0sXHJcbiAgICAgIHsgaWQ6IDMsIHRleHQ6ICfsoIDsnqUoUyknLCBrZXk6IFsnQ3RybCcsICdTJ10sIG9uQ2xpY2s6IGhhbmRsZVNhdmVDbGljayB9LFxyXG4gICAgICB7IGlkOiA0LCB0ZXh0OiAn7IKt7KCcKEQpJywga2V5OiBbJ0N0cmwnLCAnU2hpZnQnLCAnUyddLCBvbkNsaWNrOiBoYW5kbGVEZWxldGVDbGljayB9LFxyXG4gICAgICB7IGlkOiA1LCB0ZXh0OiAn7Y6Y7J207KeAIOyEpOyglShVKS4uLicsIGtleTogW10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogNiwgdGV4dDogJ+yduOyHhChQKS4uLicsIGtleTogWydDdHJsJywgJ1AnXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiA3LCB0ZXh0OiAn64Gd64K06riwKFgpJywga2V5OiBbXSwgZGlzYWJsZSB9LFxyXG4gICAgXSxcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiAnZWRpdCcsXHJcbiAgICB0aXRsZTogJ+2OuOynkScsXHJcbiAgICBrZXk6ICdFJyxcclxuICAgIHNsb3RzOiBbXHJcbiAgICAgIHsgaWQ6IDgsIHRleHQ6ICfsi6Ttlokg7Leo7IaMKFUpJywga2V5OiBbJ0N0cmwnLCAnWiddLCBkaXNhYmxlIH0sXHJcbiAgICAgIHsgaWQ6IDksIHRleHQ6ICfsnpjrnbzrgrTquLAoVCknLCBrZXk6IFsnQ3RybCcsICdYJ10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogMTAsIHRleHQ6ICfrs7XsgqwoQyknLCBrZXk6IFsnQ3RybCcsICdDJ10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogMTEsIHRleHQ6ICfrtpnsl6zrhKPquLAoUCknLCBrZXk6IFsnQ3RybCcsICdWJ10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogMTIsIHRleHQ6ICfsgq3soJwoRCknLCBrZXk6IFsnRGVsJ10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogMTMsIHRleHQ6ICdCaW5n7Jy866GcIOqygOyDiShTKS4uLicsIGtleTogWydDdHJsJywgJ0UnXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiAxNCwgdGV4dDogJ+ywvuq4sChGKS4uLicsIGtleTogWydDdHJsJywgJ0YnXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiAxNSwgdGV4dDogJ+uLpOydjCDssL7quLAoTiknLCBrZXk6IFsnRjMnXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiAxNiwgdGV4dDogJ+ydtOyghCDssL7quLAoViknLCBrZXk6IFsnU2hpZnQnLCAnRjMnXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiAxNywgdGV4dDogJ+uwlOq+uOq4sChSKS4uLicsIGtleTogWydDdHJsJywgJ0gnXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiAxOCwgdGV4dDogJ+ydtOuPmShHKS4uLicsIGtleTogWydDdHJsJywgJ0cnXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiAxOSwgdGV4dDogJ+uqqOuRkCDshKDtg50oQSknLCBrZXk6IFsnQ3RybCcsICdBJ10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogMjAsIHRleHQ6ICfsi5zqsIQv64Kg7KecKEQpJywga2V5OiBbJ0Y1J10sIGRpc2FibGUgfSxcclxuICAgIF0sXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogJ2Zvcm1hdCcsXHJcbiAgICB0aXRsZTogJ+yEnOyLnScsXHJcbiAgICBrZXk6ICdPJyxcclxuICAgIHNsb3RzOiBbXHJcbiAgICAgIHsgaWQ6IDIxLCB0ZXh0OiAn7J6Q64+ZIOykhCDrsJTqv4goVyknLCBrZXk6IFtdLCBkaXNhYmxlIH0sXHJcbiAgICAgIHsgaWQ6IDIyLCB0ZXh0OiAn6riA6ry0KEYpLi4uJywga2V5OiBbXSwgZGlzYWJsZSB9LFxyXG4gICAgXSxcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiAndmlldycsXHJcbiAgICB0aXRsZTogJ+uztOq4sCcsXHJcbiAgICBrZXk6ICdWJyxcclxuICAgIHNsb3RzOiBbXHJcbiAgICAgIHsgaWQ6IDIzLCB0ZXh0OiAn7ZmV64yA7ZWY6riwKFopJywga2V5OiBbJ0N0cmwnLCAnKyddLCBkaXNhYmxlIH0sXHJcbiAgICAgIHsgaWQ6IDI0LCB0ZXh0OiAn7LaV7IaM7ZWY6riwKFgpJywga2V5OiBbJ0N0cmwnLCAnLSddLCBkaXNhYmxlIH0sXHJcbiAgICAgIHsgaWQ6IDI1LCB0ZXh0OiAn7IOB7YOcIO2RnOyLnOykhChTKScsIGtleTogW10sIGRpc2FibGUgfSxcclxuICAgIF0sXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogJ2hlbHAnLFxyXG4gICAgdGl0bGU6ICfrj4Tsm4Drp5AnLFxyXG4gICAga2V5OiAnSCcsXHJcbiAgICBzbG90czogW1xyXG4gICAgICB7IGlkOiAyNiwgdGV4dDogJ+uPhOybgOunkCDrs7TquLAoSCknLCBrZXk6IFtdLCBkaXNhYmxlIH0sXHJcbiAgICAgIHsgaWQ6IDI3LCB0ZXh0OiAn7ZS865Oc67CxIOuztOuCtOq4sChGKScsIGtleTogW10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogMjgsIHRleHQ6ICfrqZTrqqjsnqUg7KCV67O0KEEpJywga2V5OiBbXSwgZGlzYWJsZSB9LFxyXG4gICAgXSxcclxuICB9LFxyXG5dO1xyXG5cclxuY29uc3Qgc2xvdHMgPSBidXR0b25zLnJlZHVjZSgoYWNjLCBjdXIpID0+IHtcclxuICByZXR1cm4gWy4uLmFjYywgLi4uY3VyLnNsb3RzXTtcclxufSwgW10pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYnV0dG9ucztcclxuZXhwb3J0IHsgc2xvdHMgfTtcclxuXHJcbmZ1bmN0aW9uIGhhbmRsZVNhdmVDbGljaygpIHtcclxuICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdzYXZlJywgeyBidWJibGVzOiB0cnVlIH0pKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlTG9jYWxTYXZlQ2xpY2soKSB7XHJcbiAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnbG9jYWxTYXZlJywgeyBidWJibGVzOiB0cnVlIH0pKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlQ2xpY2soKSB7XHJcbiAgY29uc3Qgbm90ZXBhZCA9IHRoaXMuY2xvc2VzdCgnbXktbm90ZXBhZCcpO1xyXG4gIGlmIChub3RlcGFkLmlkID09PSAwKSByZXR1cm47XHJcbiAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnZGVsZXRlJywgeyBidWJibGVzOiB0cnVlIH0pKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlTmV3Q2xpY2soKSB7XHJcbiAgY29uc3Qgbm90ZXBhZCA9IHRoaXMuY2xvc2VzdCgnbXktbm90ZXBhZCcpO1xyXG4gIGlmIChub3RlcGFkLmlkID09PSAwKSB7XHJcbiAgICBub3RlcGFkLnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhJykudmFsdWUgPSAnJztcclxuICAgIHJldHVybjtcclxuICB9XHJcbiAgcm91dGVyLm5hdmlnYXRlVG8oJy9ub3RlcGFkJyk7XHJcbn1cclxuIiwiaW1wb3J0IHsgaHRtbCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3V0aWxzJztcclxuaW1wb3J0IFdlYkNvbXBvbmVudCBmcm9tICcuLi8uLi8uLi9jb3JlL1dlYkNvbXBvbmVudCc7XHJcbmltcG9ydCBidXR0b25zLCB7IHNsb3RzIH0gZnJvbSAnLi4vY29uc3QvYnV0dG9ucyc7XHJcbmltcG9ydCBOb3RlUGFkSWNvbiBmcm9tICcuLi8uLi8uLi8uLi9wdWJsaWMvbm90ZXBhZC5wbmcnO1xyXG5pbXBvcnQgcm91dGVyIGZyb20gJy4uLy4uLy4uL2NvcmUvUm91dGVyJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5vdGVQYWRIZWFkZXIgZXh0ZW5kcyBXZWJDb21wb25lbnQge1xyXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xyXG4gICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcclxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNsaWNrKTtcclxuICB9XHJcblxyXG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xyXG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2spO1xyXG4gIH1cclxuXHJcbiAgaW5qZWN0SFRNTCgpIHtcclxuICAgIHJldHVybiBodG1sYFxyXG4gICAgICA8aGVhZGVyPlxyXG4gICAgICAgIDxzcGFuPlxyXG4gICAgICAgICAgPGltZyBhbHQ9XCJub3RlcGFkX2ljb25cIiBzcmM9JHtOb3RlUGFkSWNvbn0gLz5cclxuICAgICAgICAgICR7dGhpcy50aXRsZX0gLSBXaW5kb3dzIOuplOuqqOyepVxyXG4gICAgICAgIDwvc3Bhbj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwidmlld19idXR0b25zXCI+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwidmlld19idXR0b25cIiBpZD1cIm1pbmlcIj7wn5eVPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwidmlld19idXR0b25cIiBpZD1cImZ1bGxcIj7wn5eWPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwidmlld19idXR0b25cIiBpZD1cImNsb3NlXCI+4oWpPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvaGVhZGVyPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiZWRpdF9idXR0b25zXCI+XHJcbiAgICAgICAgJHtidXR0b25zXHJcbiAgICAgICAgICAubWFwKFxyXG4gICAgICAgICAgICAoYnV0dG9uKSA9PiBodG1sYFxyXG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJlZGl0X2J1dHRvblwiPlxyXG4gICAgICAgICAgICAgICAgJHtidXR0b24udGl0bGV9KDx1PiR7YnV0dG9uLmtleX08L3U+KVxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBvcHVwXCI+XHJcbiAgICAgICAgICAgICAgICAgICR7YnV0dG9uLnNsb3RzXHJcbiAgICAgICAgICAgICAgICAgICAgLm1hcChcclxuICAgICAgICAgICAgICAgICAgICAgIChzbG90KSA9PiBodG1sYFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3ViXCIgZGF0YS1pZD1cIiR7c2xvdC5pZH1cIiBkYXRhLWRpc2FibGU9XCIkeyEhc2xvdC5kaXNhYmxlfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+JHtzbG90LnRleHR9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJHtzbG90LmtleS5sZW5ndGggPiAwID8gYDxkaXY+JHtzbG90LmtleS5qb2luKCcgKyAnKX08L2Rpdj5gIDogJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgYFxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAuam9pbignJyl9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgYFxyXG4gICAgICAgICAgKVxyXG4gICAgICAgICAgLmpvaW4oJycpfVxyXG4gICAgICA8L2Rpdj5cclxuICAgIGA7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVDbGljayhlKSB7XHJcbiAgICBjb25zdCB2aWV3QnV0dG9uID0gZS50YXJnZXQuY2xvc2VzdCgnLnZpZXdfYnV0dG9uJyk7XHJcbiAgICBjb25zdCBlZGl0QnV0dG9uID0gZS50YXJnZXQuY2xvc2VzdCgnLmVkaXRfYnV0dG9uJyk7XHJcbiAgICBjb25zdCBzdWIgPSBlLnRhcmdldC5jbG9zZXN0KCcuc3ViJyk7XHJcblxyXG4gICAgaWYgKHZpZXdCdXR0b24pIHtcclxuICAgICAgdGhpcy5jbGlja1ZpZXdCdXR0b24odmlld0J1dHRvbik7XHJcbiAgICB9IGVsc2UgaWYgKGVkaXRCdXR0b24pIHtcclxuICAgICAgdGhpcy5jbGlja0VkaXRCdXR0b24oZWRpdEJ1dHRvbiwgc3ViKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuY2xvc2VQb3B1cCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY2xpY2tWaWV3QnV0dG9uKHZpZXdCdXR0b24pIHtcclxuICAgIHN3aXRjaCAodmlld0J1dHRvbi5pZCkge1xyXG4gICAgICBjYXNlICdmdWxsJzpcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgnZnVsbHNjcmVlbicpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdtaW5pJzpcclxuICAgICAgY2FzZSAnY2xvc2UnOlxyXG4gICAgICAgIHJvdXRlci5iYWNrKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjbGlja0VkaXRCdXR0b24oZWRpdEJ1dHRvbiwgc3ViKSB7XHJcbiAgICBpZiAoc3ViKSB7XHJcbiAgICAgIGNvbnN0IHNsb3RJZCA9IE51bWJlcihzdWIuZGF0YXNldC5pZCk7XHJcbiAgICAgIGNvbnN0IHsgb25DbGljayB9ID0gc2xvdHMuZmluZCgoc2xvdCkgPT4gc2xvdC5pZCA9PT0gc2xvdElkKSB8fCB7fTtcclxuICAgICAgaWYgKG9uQ2xpY2spIHtcclxuICAgICAgICBvbkNsaWNrLmNhbGwodGhpcyk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMudG9nZ2xlUG9wdXAoZWRpdEJ1dHRvbik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB0b2dnbGVQb3B1cChlZGl0QnV0dG9uKSB7XHJcbiAgICBjb25zdCBwb3B1cCA9IGVkaXRCdXR0b24ucXVlcnlTZWxlY3RvcignLnBvcHVwJyk7XHJcbiAgICBpZiAocG9wdXAuY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93JykpIHtcclxuICAgICAgcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5jbG9zZVBvcHVwKCk7XHJcbiAgICAgIHBvcHVwLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNsb3NlUG9wdXAoKSB7XHJcbiAgICAvLyBjb25zdCBwb3B1cHMgPSB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cC5zaG93Jyk7XHJcbiAgICAvLyBwb3B1cHMuZm9yRWFjaCgocG9wdXApID0+IHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKSk7XHJcbiAgICBjb25zdCBwb3B1cCA9IHRoaXMucXVlcnlTZWxlY3RvcignLnBvcHVwLnNob3cnKTtcclxuICAgIHBvcHVwPy5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7XHJcbiAgfVxyXG5cclxuICBnZXQgdGl0bGUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoJ3RpdGxlJyk7XHJcbiAgfVxyXG5cclxuICBnZXQgdGl0bGUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoJ3RpdGxlJyk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBXZWJDb21wb25lbnQgZnJvbSAnLi4vLi4vLi4vY29yZS9XZWJDb21wb25lbnQnO1xyXG5pbXBvcnQgeyBodG1sLCByZXBlYXQgfSBmcm9tICcuLi8uLi8uLi91dGlscy91dGlscyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXRyaXNCb2FyZCBleHRlbmRzIFdlYkNvbXBvbmVudCB7XHJcbiAgaW5qZWN0SFRNTCgpIHtcclxuICAgIHJldHVybiBodG1sYFxyXG4gICAgICAke3JlcGVhdChcclxuICAgICAgICAyMCxcclxuICAgICAgICAoYSwgaSkgPT5cclxuICAgICAgICAgIGh0bWxgXHJcbiAgICAgICAgICAgIDx1bD5cclxuICAgICAgICAgICAgICAke3JlcGVhdCgxMCwgKHYsIGopID0+IGh0bWxgPGxpPiR7aX0sICR7an08L2xpPmApfVxyXG4gICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgYFxyXG4gICAgICApfVxyXG4gICAgYDtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFdlYkNvbXBvbmVudCBmcm9tICcuLi8uLi8uLi9jb3JlL1dlYkNvbXBvbmVudCc7XHJcbmltcG9ydCB7IGh0bWwgfSBmcm9tICcuLi8uLi8uLi91dGlscy91dGlscyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXRyaXNJbmZvIGV4dGVuZHMgV2ViQ29tcG9uZW50IHtcclxuICBpbmplY3RIVE1MKCkge1xyXG4gICAgcmV0dXJuIGh0bWxgXHJcbiAgICAgIDxkaXY+N+yiheydmCDthYztirjroZzrr7jrhbgo67iU66GdKeqwgCDtlZzrrLbsnYzsnLzroZwg656c642k7ZWY6rKMIOuTseyepe2VqeuLiOuLpC48L2Rpdj5cclxuICAgICAgPGRpdj7tlYTrk5zripQgMjAgeCAxMCDsnoXri4jri6QuPC9kaXY+XHJcbiAgICAgIDxkaXY+WCA6IOyLnOqzhOuwqe2WpSDtmozsoIQo7Jqw7ZqM7KCEKTwvZGl2PlxyXG4gICAgICA8ZGl2PlogOiDrsJjsi5zqs4TrsKntlqUg7ZqM7KCEKOyijO2ajOyghCk8L2Rpdj5cclxuICAgIGA7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCAnLi9zdHlsZS5zY3NzJztcclxuaW1wb3J0IHNhbmRib3hEQiBmcm9tICcuL2NvcmUvSW5kZXhlZERCJztcclxuaW1wb3J0IEFwcCBmcm9tICcuL0FwcCc7XHJcbmltcG9ydCBGb290ZXIgZnJvbSAnLi92aWV3L0NvbW1vbi9Gb290ZXInO1xyXG5pbXBvcnQgSG9tZSBmcm9tICcuL3ZpZXcvSG9tZSc7XHJcbmltcG9ydCBUZXRyaXMgZnJvbSAnLi92aWV3L1RldHJpcyc7XHJcbmltcG9ydCBGbGFwcHlCaXJkIGZyb20gJy4vdmlldy9GbGFwcHlCaXJkJztcclxuaW1wb3J0IEljb25zIGZyb20gJy4vdmlldy9Db21tb24vSWNvbnMnO1xyXG5pbXBvcnQgSWNvbiBmcm9tICcuL3ZpZXcvQ29tbW9uL0ljb24nO1xyXG5pbXBvcnQgTm90ZVBhZCBmcm9tICcuL3ZpZXcvTm90ZVBhZCc7XHJcbmltcG9ydCBOb3RlUGFkSGVhZGVyIGZyb20gJy4vdmlldy9Ob3RlUGFkL2NvbXBvbmVudHMvTm90ZVBhZEhlYWRlcic7XHJcbmltcG9ydCByb3V0ZXIgZnJvbSAnLi9jb3JlL1JvdXRlcic7XHJcbmltcG9ydCBUZXRyaXNCb2FyZCBmcm9tICcuL3ZpZXcvVGV0cmlzL2NvbXBvbmVudHMvVGV0cmlzQm9hcmQnO1xyXG5pbXBvcnQgVGV0cmlzSW5mbyBmcm9tICcuL3ZpZXcvVGV0cmlzL2NvbXBvbmVudHMvVGV0cmlzSW5mbyc7XHJcblxyXG4oYXN5bmMgKCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBhd2FpdCBzYW5kYm94REIub3BlbkRCKCk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcXVldWVNaWNyb3Rhc2soKCkgPT4gYWxlcnQoJ0luZGV4ZWREQuulvCDsgqzsmqntlaAg7IiYIOyXhuyKteuLiOuLpC4nKSk7XHJcbiAgfVxyXG5cclxuICBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ215LWFwcCcsIEFwcCk7XHJcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdteS1mb290ZXInLCBGb290ZXIpO1xyXG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbXktaG9tZScsIEhvbWUpO1xyXG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbXktdGV0cmlzJywgVGV0cmlzKTtcclxuICBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ215LWZsYXBweWJpcmQnLCBGbGFwcHlCaXJkKTtcclxuICBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ215LWljb25zJywgSWNvbnMpO1xyXG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbXktaWNvbicsIEljb24pO1xyXG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbXktbm90ZXBhZCcsIE5vdGVQYWQpO1xyXG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbXktbm90ZXBhZC1oZWFkZXInLCBOb3RlUGFkSGVhZGVyKTtcclxuICBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ215LXRldHJpcy1ib2FyZCcsIFRldHJpc0JvYXJkKTtcclxuICBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ215LXRldHJpcy1pbmZvJywgVGV0cmlzSW5mbyk7XHJcbn0pKCk7XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHJvdXRlci5yZW5kZXIoKSk7XHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsICgpID0+IHJvdXRlci5yZW5kZXIoKSk7XHJcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZGIiLCJjb25zdHJ1Y3RvciIsImRiTmFtZSIsImRiVmVyc2lvbiIsInN0b3JlcyIsInRoaXMiLCJhc3luYyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVxdWVzdCIsIndpbmRvdyIsImluZGV4ZWREQiIsIm9wZW4iLCJvbnN1Y2Nlc3MiLCJyZXN1bHQiLCJvbmVycm9yIiwiZSIsIm9udXBncmFkZW5lZWRlZCIsImZvckVhY2giLCJzdG9yZSIsIm9iamVjdFN0b3JlTmFtZXMiLCJjb250YWlucyIsImRlbGV0ZU9iamVjdFN0b3JlIiwiY3JlYXRlT2JqZWN0U3RvcmUiLCJrZXlQYXRoIiwic3RvcmVOYW1lIiwiaWQiLCJ0cmFuc2FjdGlvbiIsIm9iamVjdFN0b3JlIiwiZ2V0IiwiZ2V0QWxsIiwiZGF0YSIsIm1vZGlmaWVkRGF0YSIsIkRhdGUiLCJnZXRUaW1lIiwicHV0IiwiY29uc29sZSIsImxvZyIsImVycm9yIiwiZGVsZXRlIiwicmVuZGVyUmF3Iiwic3RyaW5nIiwidmFsdWVzIiwiU3RyaW5nIiwicmF3IiwicmVwZWF0IiwidGltZXMiLCJjYWxsYmFjayIsIkFycmF5IiwiZmlsbCIsIm1hcCIsImpvaW4iLCJXZWJDb21wb25lbnQiLCJIVE1MRWxlbWVudCIsImNvbm5lY3RlZENhbGxiYWNrIiwicmVuZGVyIiwiaW5uZXJIVE1MIiwiaW5qZWN0SFRNTCIsIkFwcCIsIkJBU0VfVVJMIiwicm91dGVzIiwicGF0aCIsImh0bWwiLCJsYWJlbCIsImljb25TcmMiLCJtYWluSWNvbnMiLCJyZWR1Y2UiLCJwcmV2Iiwicm91dGVyIiwiZ2V0TG9jYWxJY29ucyIsImljb24iLCJ0aXRsZSIsInJvdXRlIiwicGF0aFRvUmVnZXhwIiwiUmVnRXhwIiwicmVwbGFjZSIsImN1cnJlbnRQYXRoIiwibG9jYXRpb24iLCJwYXRobmFtZSIsImZpbmQiLCJ2YWx1ZSIsImdldFVybEZyb20iLCJ0ZXN0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZ2V0SWRGcm9tUGF0aCIsInJlcGxhY2VUbyIsIm1hdGNoIiwibmF2aWdhdGVUbyIsInVybCIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJyZXBsYWNlU3RhdGUiLCJiYWNrIiwiRm9vdGVyIiwic3VwZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlQ2xpY2siLCJiaW5kIiwidGFyZ2V0IiwiY2xvc2VzdCIsImRhdGFzZXQiLCJIb21lIiwiQkxPQ0tTIiwiSSIsIkoiLCJMIiwiTyIsIlMiLCJUIiwiWiIsIlRldHJpcyIsImJvYXJkIiwic3RhcnRHYW1lIiwicm93IiwiaSIsImNvbCIsImoiLCJvYnNlcnZlZEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2siLCJuYW1lIiwib2xkVmFsdWUiLCJuZXdWYWx1ZSIsIm9sZFBvcyIsIkpTT04iLCJwYXJzZSIsIm5ld1BvcyIsImdldFVwZGF0ZWRCb2FyZCIsIm5ld0JvYXJkIiwicmVtb3ZlUHJldkJsb2NrRnJvbUJvYXJkIiwicHV0TmV4dEJsb2NrT25Cb2FyZCIsImJsb2NrIiwieCIsInkiLCJibG9ja3MiLCJPYmplY3QiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJibG9ja1BvcyIsIndpZHRoIiwia2V5ZG93bkhhbmRsZXIiLCJrZXkiLCJnZXRBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJzdHJpbmdpZnkiLCJGbGFwcHlCaXJkIiwiSWNvbnMiLCJpY29ucyIsImhhbmRsZURvdWJsZUNsaWNrIiwiaGFuZGxlS2V5RG93biIsImhhbmRsZUljb25DaGFuZ2UiLCJoYW5kbGVJY29uRGVsZXRlIiwidG9nZ2xlQXR0cmlidXRlIiwicXVlcnlTZWxlY3RvckFsbCIsIm5vZGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJjaGVja2VkRWwiLCJsZW5ndGgiLCJkZXRhaWwiLCJwcmV2SWNvbkluZGV4IiwiZmluZEluZGV4IiwibmV3SWNvbnMiLCJmaWx0ZXIiLCJJY29uIiwiaWNvbnNyYyIsIk5vdGVQYWQiLCJjb250ZW50IiwiaGFuZGxlU2F2ZSIsImhhbmRsZUxvY2FsU2F2ZSIsImhhbmRsZURlbGV0ZSIsImRpc2Nvbm5lY3RlZENhbGxiYWNrIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInByZXZlbnREZWZhdWx0Iiwibm90ZVBhZERhdGEiLCJnZXROb3RlUGFkRGF0YSIsImJsb2IiLCJCbG9iIiwidHlwZSIsImxpbmsiLCJjcmVhdGVFbGVtZW50IiwiaHJlZiIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsImRvd25sb2FkIiwiY2xpY2siLCJzdG9wUHJvcGFnYXRpb24iLCJhbGVydCIsImljb25DaGFuZ2VFdmVudCIsIkN1c3RvbUV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsImVyciIsImNvbmZpcm0iLCJpY29uRGVsZXRlRXZlbnQiLCJ0cmltIiwicHJvbXB0IiwiTnVtYmVyIiwiZGlzYWJsZSIsImJ1dHRvbnMiLCJzbG90cyIsInRleHQiLCJvbkNsaWNrIiwibm90ZXBhZCIsImJ1YmJsZXMiLCJhY2MiLCJjdXIiLCJOb3RlUGFkSGVhZGVyIiwiYnV0dG9uIiwic2xvdCIsInZpZXdCdXR0b24iLCJlZGl0QnV0dG9uIiwic3ViIiwiY2xpY2tWaWV3QnV0dG9uIiwiY2xpY2tFZGl0QnV0dG9uIiwiY2xvc2VQb3B1cCIsInBhcmVudEVsZW1lbnQiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJzbG90SWQiLCJjYWxsIiwidG9nZ2xlUG9wdXAiLCJwb3B1cCIsInJlbW92ZSIsImFkZCIsIlRldHJpc0JvYXJkIiwiYSIsInYiLCJUZXRyaXNJbmZvIiwicXVldWVNaWNyb3Rhc2siLCJjdXN0b21FbGVtZW50cyIsImRlZmluZSJdLCJzb3VyY2VSb290IjoiIn0=