(()=>{"use strict";var e="/js-sandbox/";const t=new class{db;constructor(e,t,i){this.dbName=e,this.dbVersion=t,this.stores=i}async openDB(){return new Promise(((e,t)=>{const i=window.indexedDB.open(this.dbName,this.dbVersion);i.onsuccess=()=>{this.db=i.result,e()},i.onerror=e=>{t(e)},i.onupgradeneeded=()=>{this.db=i.result,this.stores.forEach((e=>{this.db.objectStoreNames.contains(e)&&this.db.deleteObjectStore(e),this.db.createObjectStore(e,{keyPath:"id"})}))}}))}async getData(e,t){return new Promise(((i,n)=>{const s=this.db.transaction(e,"readonly").objectStore(e).get(t);s.onsuccess=()=>{i(s.result)},s.onerror=e=>{n(e)}}))}async getAllData(e){return new Promise(((t,i)=>{const n=this.db.transaction(e,"readonly").objectStore(e).getAll();n.onsuccess=()=>{t(n.result)},n.onerror=e=>{i(e)}}))}async upsertData(e,t){return new Promise(((i,n)=>{const s=this.db.transaction(e,"readwrite").objectStore(e),a={...t,id:t.id||(new Date).getTime()},o=s.put(a);o.onsuccess=()=>{i(o.result)},o.onerror=()=>{console.log(o.error),n(o.error)}}))}async deleteData(e,t){return new Promise(((i,n)=>{const s=this.db.transaction(e,"readwrite").objectStore(e).delete(t);s.onsuccess=()=>{i(!0)},s.onerror=e=>{n(e)}}))}}("sandboxDB",2,["notepad"]),i=(e,...t)=>String.raw(e,...t);class n extends HTMLElement{connectedCallback(){this.render()}render(){this.innerHTML=this.injectHTML()}injectHTML(){return""}}class s extends n{injectHTML(){return i`
      <div id="page"></div>
      <my-icons tabindex="-1"></my-icons>
      <my-footer></my-footer>
    `}}const a=e+"2a583f97b153f7da7d41.png",o="/js-sandbox",c=[{path:"/",html:i`<my-home></my-home>`,label:"Home",iconSrc:null},{path:"/tetris",html:i`<my-tetris></my-tetris>`,label:"Tetris",iconSrc:e+"71c0bea6462001116fcf.png"},{path:"/flappybird",html:i`<my-flappybird></my-flappybird>`,label:"Flappy&nbsp;Bird",iconSrc:e+"39b884119b49599495ed.png"},{path:"/notepad",html:i`<my-notepad></my-notepad>`,label:"Note&nbsp;Pad",iconSrc:a},{path:"/notepad/:id",html:i`<my-notepad data-id=":id"></my-notepad>`,label:"Note&nbsp;Pad",iconSrc:null}],l=c.reduce(((e,t)=>{const{path:i,label:n,iconSrc:s}=t;return t.iconSrc?[...e,{path:i,label:n,iconSrc:s}]:e}),[]),r=async()=>[...(await t.getAllData("notepad")).reduce(((e,t)=>{const{id:i,title:n}=t;return[...e,{path:`/notepad/${i}`,label:n,iconSrc:a}]}),[])],d=c,h=new class{constructor(e){this.routes=e}pathToRegexp(e){return new RegExp(`^${e.replace(/\//g,"\\/").replace(/:\w+/g,"(.+)")}$`)}render(){const e=window.location.pathname,t=this.routes.find((t=>this.pathToRegexp(this.getUrlFrom(t.path)).test(e)));t?document.querySelector("#page").innerHTML=t.html.replace(":id",this.getIdFromPath(e)):this.replaceTo("/")}getIdFromPath(e){return e.match(/\d+/)?.[0]}navigateTo(e){this.getUrlFrom(e)!==window.location.pathname&&(window.history.pushState(null,null,o+e),this.render())}replaceTo(e){window.history.replaceState(null,null,o+e),this.render()}getUrlFrom(e){return`${o}${e}`}back(){window.history.back(),this.render()}}(d),p=e+"59cb65e4f8f2627d6c2c.png",u=e+"bc8d31a2338dd0b3f68a.png";class b extends n{connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.handleClick.bind(this))}injectHTML(){return i`
      <img alt="window_logo" src=${p} class="window_icon" />
      <div class="input_box">
        <img alt="search" src=${u} class="window_icon" /><input type="text" placeholder="Ï∞æÍ∏∞" />
      </div>
      ${l.map((e=>i` <my-icon data-path="${e.path}" data-iconSrc="${e.iconSrc}"></my-icon> `)).join("")}
    `}handleClick(e){if(!e.target.closest("my-icon"))return;const t=e.target.closest("my-icon");h.navigateTo(t.dataset.path)}}class m extends n{}class y extends n{injectHTML(){return i`
      <h1>Tetris</h1>
      <p>You are viewing the Tetris component!</p>
    `}}class g extends n{injectHTML(){return i`
      <h1>Flappy Bird</h1>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
    `}}class v extends n{async connectedCallback(){this.icons=[...l,...await r()],super.connectedCallback(),this.addEventListener("click",this.handleClick),this.addEventListener("dblclick",this.handleDoubleClick),this.addEventListener("keydown",this.handleKeyDown),this.addEventListener("iconChange",this.handleIconChange),this.addEventListener("iconDelete",this.handleIconDelete)}static get observedAttributes(){return["icons"]}attributeChangedCallback(e,t,i){t!==i&&this.render()}injectHTML(){return i`
      ${this.icons.map((e=>i`
            <my-icon data-path=${e.path} data-label=${e.label} data-iconSrc=${e.iconSrc}></my-icon>
          `)).join("")}
    `}get icons(){return JSON.parse(this.getAttribute("icons"))}set icons(e){this.setAttribute("icons",JSON.stringify(e))}handleClick(e){if(!e.target.closest("my-icon"))return;const t=e.target.closest("my-icon");t.toggleAttribute("checked"),this.querySelectorAll("my-icon").forEach((e=>{e!==t&&e.removeAttribute("checked")}))}handleDoubleClick(e){if(!e.target.closest("my-icon"))return;const t=e.target.closest("my-icon");h.navigateTo(t.dataset.path)}handleKeyDown(e){const t=this.querySelectorAll("my-icon[checked]");if("Enter"===e.key){if(t.length>1)return;if(!t)return;h.navigateTo(t[0].dataset.path)}}handleIconChange(e){const{path:t,label:i,iconSrc:n}=e.detail,s=this.icons.findIndex((e=>e.path===t));if(-1===s)this.icons=[...this.icons,{path:t,label:i,iconSrc:n}];else{const e=[...this.icons];e[s]={path:t,label:i,iconSrc:n},this.icons=e}}handleIconDelete(e){const{path:t}=e.detail;this.icons=this.icons.filter((e=>e.path!==t))}}class k extends n{injectHTML(){const{label:e,iconsrc:t}=this.dataset;return i`
      <img alt="${e}_icon" src=${t} />
      ${e?`<span class="icon_name">${e}</span>`:""}
    `}}class w extends n{async connectedCallback(){this.data=await t.getData("notepad",this.id)??{title:"Ï†úÎ™©ÏóÜÏùå",content:""},super.connectedCallback(),this.addEventListener("save",this.handleSave),this.addEventListener("localSave",this.handleLocalSave),this.addEventListener("delete",this.handleDelete)}disconnectedCallback(){this.removeEventListener("save",this.handleSave),this.removeEventListener("localSave",this.handleLocalSave),this.removeEventListener("delete",this.handleDelete)}injectHTML(){const{title:e,content:t}=this.data;return i`
      <my-notepad-header title=${e}></my-notepad-header>
      <textarea>${t}</textarea>
    `}handleLocalSave(e){e.preventDefault();const t=this.getNotePadData();if(!t)return;const i=new Blob([t.content],{type:"text/plain"}),n=document.createElement("a");n.href=URL.createObjectURL(i),n.download=`${t.title}.txt`,n.click()}async handleSave(e){e.stopPropagation();const i=this.getNotePadData();if(i)try{const e=await t.upsertData("notepad",i),n=`/notepad/${e}`;alert("Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§.");const s=new CustomEvent("iconChange",{detail:{path:n,label:i.title,iconSrc:a}});document.querySelector("my-icons").dispatchEvent(s),this.id===e?this.title=i.title.replace(/&nbsp;/g," "):h.navigateTo(n)}catch(e){alert("Ï†ÄÏû•Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.")}}async handleDelete(e){try{if(e.stopPropagation(),!window.confirm("Ï†ïÎßê ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?"))return;await t.deleteData("notepad",this.id),alert("ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§.");const i=new CustomEvent("iconDelete",{detail:{path:`/notepad/${this.id}`}});document.querySelector("my-icons").dispatchEvent(i),h.replaceTo("/notepad")}catch(e){alert("ÏÇ≠Ï†úÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.")}}getNotePadData(){const e=this.querySelector("textarea").value.trim();if(!e)return alert("ÎÇ¥Ïö©Ïù¥ ÏóÜÏäµÎãàÎã§."),null;let t;for(;!t;)if(!(t=prompt("ÌååÏùºÎ™ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî.",this.data.title.replace(/&nbsp;/g," ")),t||window.confirm("Ï†úÎ™©ÏùÄ ÌïÑÏàòÏûÖÎãàÎã§.")))return null;return{id:this.id,title:t.trim().replace(/ /g,"&nbsp;"),content:e.replace(/ /g,"&nbsp;")}}get id(){return Number(this.getAttribute("data-id"))}set title(e){this.querySelector("my-notepad-header").setAttribute("title",e)}}const f=!0,S=[{id:"file",title:"ÌååÏùº",key:"F",slots:[{id:1,text:"ÏÉàÎ°ú ÎßåÎì§Í∏∞(N)",key:["Ctrl","N"],onClick:function(){const e=document.querySelector("my-notepad");e.getAttribute("data-id")?h.navigateTo("/notepad"):e.render()}},{id:2,text:"ÎÇ¥ Ïª¥Ìì®ÌÑ∞Ïóê Ï†ÄÏû•(W)",key:["Ctrl","Shift","N"],onClick:function(){this.dispatchEvent(new CustomEvent("localSave",{bubbles:!0}))}},{id:3,text:"Ï†ÄÏû•(S)",key:["Ctrl","S"],onClick:function(){this.dispatchEvent(new CustomEvent("save",{bubbles:!0}))}},{id:4,text:"ÏÇ≠Ï†ú(D)",key:["Ctrl","Shift","S"],onClick:function(){document.querySelector("my-notepad").getAttribute("data-id")&&this.dispatchEvent(new CustomEvent("delete",{bubbles:!0}))}},{id:5,text:"ÌéòÏù¥ÏßÄ ÏÑ§Ï†ï(U)...",key:[],disable:f},{id:6,text:"Ïù∏ÏáÑ(P)...",key:["Ctrl","P"],disable:f},{id:7,text:"ÎÅùÎÇ¥Í∏∞(X)",key:[],disable:f}]},{id:"edit",title:"Ìé∏Ïßë",key:"E",slots:[{id:8,text:"Ïã§Ìñâ Ï∑®ÏÜå(U)",key:["Ctrl","Z"],disable:f},{id:9,text:"ÏûòÎùºÎÇ¥Í∏∞(T)",key:["Ctrl","X"],disable:f},{id:10,text:"Î≥µÏÇ¨(C)",key:["Ctrl","C"],disable:f},{id:11,text:"Î∂ôÏó¨ÎÑ£Í∏∞(P)",key:["Ctrl","V"],disable:f},{id:12,text:"ÏÇ≠Ï†ú(D)",key:["Del"],disable:f},{id:13,text:"BingÏúºÎ°ú Í≤ÄÏÉâ(S)...",key:["Ctrl","E"],disable:f},{id:14,text:"Ï∞æÍ∏∞(F)...",key:["Ctrl","F"],disable:f},{id:15,text:"Îã§Ïùå Ï∞æÍ∏∞(N)",key:["F3"],disable:f},{id:16,text:"Ïù¥Ï†Ñ Ï∞æÍ∏∞(V)",key:["Shift","F3"],disable:f},{id:17,text:"Î∞îÍæ∏Í∏∞(R)...",key:["Ctrl","H"],disable:f},{id:18,text:"Ïù¥Îèô(G)...",key:["Ctrl","G"],disable:f},{id:19,text:"Î™®Îëê ÏÑ†ÌÉù(A)",key:["Ctrl","A"],disable:f},{id:20,text:"ÏãúÍ∞Ñ/ÎÇ†Ïßú(D)",key:["F5"],disable:f}]},{id:"format",title:"ÏÑúÏãù",key:"O",slots:[{id:21,text:"ÏûêÎèô Ï§Ñ Î∞îÍøà(W)",key:[],disable:f},{id:22,text:"Í∏ÄÍº¥(F)...",key:[],disable:f}]},{id:"view",title:"Î≥¥Í∏∞",key:"V",slots:[{id:23,text:"ÌôïÎåÄÌïòÍ∏∞(Z)",key:["Ctrl","+"],disable:f},{id:24,text:"Ï∂ïÏÜåÌïòÍ∏∞(X)",key:["Ctrl","-"],disable:f},{id:25,text:"ÏÉÅÌÉú ÌëúÏãúÏ§Ñ(S)",key:[],disable:f}]},{id:"help",title:"ÎèÑÏõÄÎßê",key:"H",slots:[{id:26,text:"ÎèÑÏõÄÎßê Î≥¥Í∏∞(H)",key:[],disable:f},{id:27,text:"ÌîºÎìúÎ∞± Î≥¥ÎÇ¥Í∏∞(F)",key:[],disable:f},{id:28,text:"Î©îÎ™®Ïû• Ï†ïÎ≥¥(A)",key:[],disable:f}]}],x=S.reduce(((e,t)=>[...e,...t.slots]),[]),C=S;class E extends n{connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.handleClick)}disconnectedCallback(){this.removeEventListener("click",this.handleClick)}static get observedAttributes(){return["title"]}attributeChangedCallback(e,t,i){"title"===e&&t&&(this.querySelector("#title").innerText=i)}injectHTML(){return i`
      <header>
        <span>
          <img alt="notepad_icon" src=${a} />
          <span id="title">${this.title}</span> - Windows Î©îÎ™®Ïû•
        </span>
        <div class="view_buttons">
          <button class="view_button" id="mini">üóï</button>
          <button class="view_button" id="full">üóñ</button>
          <button class="view_button" id="close">‚Ö©</button>
        </div>
      </header>
      <div class="edit_buttons">
        ${C.map((e=>i`
              <button class="edit_button">
                ${e.title}(<u>${e.key}</u>)
                <div class="popup">
                  ${e.slots.map((e=>i`
                        <div class="sub" data-id="${e.id}" data-disable="${!!e.disable}">
                          <div>${e.text}</div>
                          ${e.key.length>0?`<div>${e.key.join(" + ")}</div>`:""}
                        </div>
                      `)).join("")}
                </div>
              </button>
            `)).join("")}
      </div>
    `}handleClick(e){const t=e.target.closest(".view_button"),i=e.target.closest(".edit_button"),n=e.target.closest(".sub");t?this.clickViewButton(t):i?this.clickEditButton(i,n):this.closePopup()}clickViewButton(e){switch(e.id){case"full":this.parentElement.classList.toggle("fullscreen");break;case"mini":case"close":h.back()}}clickEditButton(e,t){if(t){const e=Number(t.dataset.id),{onClick:i}=x.find((t=>t.id===e))||{};i&&i.call(this)}else this.togglePopup(e)}togglePopup(e){const t=e.querySelector(".popup");t.classList.contains("show")?t.classList.remove("show"):(this.closePopup(),t.classList.add("show"))}closePopup(){const e=this.querySelector(".popup.show");e?.classList.remove("show")}get title(){return this.getAttribute("title")}}(async()=>{try{await t.openDB()}catch(e){queueMicrotask((()=>alert("IndexedDBÎ•º ÏÇ¨Ïö©Ìï† Ïàò ÏóÜÏäµÎãàÎã§.")))}customElements.define("my-app",s),customElements.define("my-footer",b),customElements.define("my-home",m),customElements.define("my-tetris",y),customElements.define("my-flappybird",g),customElements.define("my-icons",v),customElements.define("my-icon",k),customElements.define("my-notepad",w),customElements.define("my-notepad-header",E)})(),window.addEventListener("load",(()=>h.render())),window.addEventListener("popstate",(()=>h.render()))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguYnVuZGxlLmpzIiwibWFwcGluZ3MiOiJtQkFDQSxJQUFJQSxFQ0RvQixlQ2dJeEIsTUFFQSxFQUZrQixJQWhJbEIsTUFDRUMsR0FRQUMsWUFBWUMsRUFBUUMsRUFBV0MsR0FDN0JDLEtBQUtILE9BQVNBLEVBQ2RHLEtBQUtGLFVBQVlBLEVBQ2pCRSxLQUFLRCxPQUFTQSxDQUNoQixDQU1BRSxlQUNFLE9BQU8sSUFBSUMsU0FBUSxDQUFDQyxFQUFTQyxLQUMzQixNQUFNQyxFQUFVQyxPQUFPQyxVQUFVQyxLQUFLUixLQUFLSCxPQUFRRyxLQUFLRixXQUV4RE8sRUFBUUksVUFBWSxLQUNsQlQsS0FBS0wsR0FBS1UsRUFBUUssT0FDbEJQLEdBQVMsRUFHWEUsRUFBUU0sUUFBV0MsSUFDakJSLEVBQU9RLEVBQUUsRUFHWFAsRUFBUVEsZ0JBQWtCLEtBQ3hCYixLQUFLTCxHQUFLVSxFQUFRSyxPQUVsQlYsS0FBS0QsT0FBT2UsU0FBU0MsSUFDZmYsS0FBS0wsR0FBR3FCLGlCQUFpQkMsU0FBU0YsSUFDcENmLEtBQUtMLEdBQUd1QixrQkFBa0JILEdBRTVCZixLQUFLTCxHQUFHd0Isa0JBQWtCSixFQUFPLENBQUVLLFFBQVMsTUFBTyxHQUNuRCxDQUNILEdBRUwsQ0FRQW5CLGNBQWNvQixFQUFXQyxHQUN2QixPQUFPLElBQUlwQixTQUFRLENBQUNDLEVBQVNDLEtBQzNCLE1BQU1DLEVBQVVMLEtBQUtMLEdBQUc0QixZQUFZRixFQUFXLFlBQVlHLFlBQVlILEdBQVdJLElBQUlILEdBRXRGakIsRUFBUUksVUFBWSxLQUNsQk4sRUFBUUUsRUFBUUssT0FBTyxFQUd6QkwsRUFBUU0sUUFBV0MsSUFDakJSLEVBQU9RLEVBQUUsQ0FDVixHQUVMLENBT0FYLGlCQUFpQm9CLEdBQ2YsT0FBTyxJQUFJbkIsU0FBUSxDQUFDQyxFQUFTQyxLQUMzQixNQUFNQyxFQUFVTCxLQUFLTCxHQUFHNEIsWUFBWUYsRUFBVyxZQUFZRyxZQUFZSCxHQUFXSyxTQUVsRnJCLEVBQVFJLFVBQVksS0FDbEJOLEVBQVFFLEVBQVFLLE9BQU8sRUFHekJMLEVBQVFNLFFBQVdDLElBQ2pCUixFQUFPUSxFQUFFLENBQ1YsR0FFTCxDQVFBWCxpQkFBaUJvQixFQUFXTSxHQUMxQixPQUFPLElBQUl6QixTQUFRLENBQUNDLEVBQVNDLEtBQzNCLE1BQU1vQixFQUFjeEIsS0FBS0wsR0FBRzRCLFlBQVlGLEVBQVcsYUFBYUcsWUFBWUgsR0FDdEVPLEVBQWUsSUFBS0QsRUFBTUwsR0FBSUssRUFBS0wsS0FBTSxJQUFJTyxNQUFPQyxXQUNwRHpCLEVBQVVtQixFQUFZTyxJQUFJSCxHQUVoQ3ZCLEVBQVFJLFVBQVksS0FDbEJOLEVBQVFFLEVBQVFLLE9BQU8sRUFHekJMLEVBQVFNLFFBQVUsS0FDaEJxQixRQUFRQyxJQUFJNUIsRUFBUTZCLE9BQ3BCOUIsRUFBT0MsRUFBUTZCLE1BQU0sQ0FDdEIsR0FFTCxDQVFBakMsaUJBQWlCb0IsRUFBV0MsR0FDMUIsT0FBTyxJQUFJcEIsU0FBUSxDQUFDQyxFQUFTQyxLQUMzQixNQUFNQyxFQUFVTCxLQUFLTCxHQUFHNEIsWUFBWUYsRUFBVyxhQUFhRyxZQUFZSCxHQUFXYyxPQUFPYixHQUUxRmpCLEVBQVFJLFVBQVksS0FDbEJOLEdBQVEsRUFBSyxFQUdmRSxFQUFRTSxRQUFXQyxJQUNqQlIsRUFBT1EsRUFBRSxDQUNWLEdBRUwsR0FHOEIsWUFBYSxFQUFHLENBQUMsWUNoSTNDd0IsRUFBWSxDQUFDQyxLQUFXQyxJQUNyQkMsT0FBT0MsSUFBSUgsS0FBV0MsR0NEaEIsTUFBTUcsVUFBcUJDLFlBQ3hDQyxvQkFDRTNDLEtBQUs0QyxRQUNQLENBRUFBLFNBQ0U1QyxLQUFLNkMsVUFBWTdDLEtBQUs4QyxZQUN4QixDQUVBQSxhQUNFLE1BQU8sRUFDVCxFQ1JhLE1BQU1DLFVBQVlOLEVBQy9CSyxhQUNFLE9BQU8sQ0FBSTs7OztLQUtiLEUscUNDSklFLEVBQXlELGNBRXpEQyxFQUFTLENBQ2IsQ0FDRUMsS0FBTSxJQUNOQyxLQUFNLENBQUksc0JBQ1ZDLE1BQU8sT0FDUEMsUUFBUyxNQUVYLENBQ0VILEtBQU0sVUFDTkMsS0FBTSxDQUFJLDBCQUNWQyxNQUFPLFNBQ1BDLFEsOEJBRUYsQ0FDRUgsS0FBTSxjQUNOQyxLQUFNLENBQUksa0NBQ1ZDLE1BQU8sbUJBQ1BDLFEsOEJBRUYsQ0FDRUgsS0FBTSxXQUNOQyxLQUFNLENBQUksNEJBQ1ZDLE1BQU8sZ0JBQ1BDLFFBQVMsR0FFWCxDQUNFSCxLQUFNLGVBQ05DLEtBQU0sQ0FBSSwwQ0FDVkMsTUFBTyxnQkFDUEMsUUFBUyxPQUlQQyxFQUFZTCxFQUFPTSxRQUFPLENBQUNDLEVBQU1DLEtBQ3JDLE1BQU0sS0FBRVAsRUFBSSxNQUFFRSxFQUFLLFFBQUVDLEdBQVlJLEVBQ2pDLE9BQUtBLEVBQU9KLFFBQ0wsSUFBSUcsRUFBTSxDQUFFTixPQUFNRSxRQUFPQyxZQURKRyxDQUNjLEdBQ3pDLElBRUdFLEVBQWdCekQsU0FPYixXQU5tQixhQUFxQixZQUNkc0QsUUFBTyxDQUFDQyxFQUFNRyxLQUM3QyxNQUFNLEdBQUVyQyxFQUFFLE1BQUVzQyxHQUFVRCxFQUN0QixNQUFPLElBQUlILEVBQU0sQ0FBRU4sS0FBTSxZQUFZNUIsSUFBTThCLE1BQU9RLEVBQU9QLFFBQVMsR0FBVSxHQUMzRSxLQUtMLElDTEEsRUFGZSxJQWhEZixNQUNFekQsWUFBWWlFLEdBQ1Y3RCxLQUFLaUQsT0FBU1ksQ0FDaEIsQ0FFQUMsYUFBYVosR0FDWCxPQUFPLElBQUlhLE9BQU8sSUFBSWIsRUFBS2MsUUFBUSxNQUFPLE9BQU9BLFFBQVEsUUFBUyxXQUNwRSxDQUVBcEIsU0FDRSxNQUFNcUIsRUFBYzNELE9BQU80RCxTQUFTQyxTQUM5Qk4sRUFBUTdELEtBQUtpRCxPQUFPbUIsTUFBTUMsR0FDdkJyRSxLQUFLOEQsYUFBYTlELEtBQUtzRSxXQUFXRCxFQUFNbkIsT0FBT3FCLEtBQUtOLEtBR3hESixFQUtMVyxTQUFTQyxjQUFjLFNBQVM1QixVQUFZZ0IsRUFBTVYsS0FBS2EsUUFBUSxNQUFPaEUsS0FBSzBFLGNBQWNULElBSnZGakUsS0FBSzJFLFVBQVUsSUFLbkIsQ0FFQUQsY0FBY3hCLEdBQ1osT0FBT0EsRUFBSzBCLE1BQU0sU0FBUyxFQUM3QixDQUVBQyxXQUFXQyxHQUNMOUUsS0FBS3NFLFdBQVdRLEtBQVN4RSxPQUFPNEQsU0FBU0MsV0FDN0M3RCxPQUFPeUUsUUFBUUMsVUFBVSxLQUFNLEtBQU1oQyxFQUFXOEIsR0FDaEQ5RSxLQUFLNEMsU0FDUCxDQUVBK0IsVUFBVUcsR0FDUnhFLE9BQU95RSxRQUFRRSxhQUFhLEtBQU0sS0FBTWpDLEVBQVc4QixHQUNuRDlFLEtBQUs0QyxRQUNQLENBRUEwQixXQUFXUSxHQUNULE1BQU8sR0FBRzlCLElBQVc4QixHQUN2QixDQUVBSSxPQUNFNUUsT0FBT3lFLFFBQVFHLE9BQ2ZsRixLQUFLNEMsUUFDUCxHQUd3QixHLDhEQzNDWCxNQUFNdUMsVUFBZTFDLEVBQ2xDRSxvQkFDRXlDLE1BQU16QyxvQkFDTjNDLEtBQUtxRixpQkFBaUIsUUFBU3JGLEtBQUtzRixZQUFZQyxLQUFLdkYsTUFDdkQsQ0FFQThDLGFBQ0UsT0FBTyxDQUFJO21DQUNvQjs7Z0NBRUg7O1FBRXhCUSxFQUFBLEtBQ01LLEdBQ0csQ0FBSSx3QkFBd0JBLEVBQUtULHVCQUF1QlMsRUFBS04seUJBRXJFbUMsS0FBSztLQUVaLENBRUFGLFlBQVkxRSxHQUNWLElBQUtBLEVBQUU2RSxPQUFPQyxRQUFRLFdBQVksT0FFbEMsTUFBTS9CLEVBQU8vQyxFQUFFNkUsT0FBT0MsUUFBUSxXQUM5QixhQUFrQi9CLEVBQUtnQyxRQUFRekMsS0FDakMsRUM5QmEsTUFBTTBDLFVBQWFuRCxHQ0NuQixNQUFNb0QsVUFBZXBELEVBQ2xDSyxhQUNFLE9BQU8sQ0FBSTs7O0tBSWIsRUNOYSxNQUFNZ0QsVUFBbUJyRCxFQUN0Q0ssYUFDRSxPQUFPLENBQUk7Ozs7Ozs7O0tBU2IsRUNUYSxNQUFNaUQsVUFBY3RELEVBQ2pDeEMsMEJBQ0VELEtBQUtnRyxNQUFRLElBQUkxQyxXQUFxQkksS0FDdEMwQixNQUFNekMsb0JBQ04zQyxLQUFLcUYsaUJBQWlCLFFBQVNyRixLQUFLc0YsYUFDcEN0RixLQUFLcUYsaUJBQWlCLFdBQVlyRixLQUFLaUcsbUJBQ3ZDakcsS0FBS3FGLGlCQUFpQixVQUFXckYsS0FBS2tHLGVBQ3RDbEcsS0FBS3FGLGlCQUFpQixhQUFjckYsS0FBS21HLGtCQUN6Q25HLEtBQUtxRixpQkFBaUIsYUFBY3JGLEtBQUtvRyxpQkFDM0MsQ0FFV0MsZ0NBQ1QsTUFBTyxDQUFDLFFBQ1YsQ0FFQUMseUJBQXlCQyxFQUFNQyxFQUFVQyxHQUNuQ0QsSUFBYUMsR0FDakJ6RyxLQUFLNEMsUUFDUCxDQUVBRSxhQUNFLE9BQU8sQ0FBSTtRQUNQOUMsS0FBS2dHLE1BQ0pVLEtBQUsvQyxHQUNHLENBQUk7aUNBQ1lBLEVBQUtULG1CQUFtQlMsRUFBS1Asc0JBQXNCTyxFQUFLTjtjQUdoRm1DLEtBQUs7S0FFWixDQUVJUSxZQUNGLE9BQU9XLEtBQUtDLE1BQU01RyxLQUFLNkcsYUFBYSxTQUN0QyxDQUVJYixVQUFNM0IsR0FDUnJFLEtBQUs4RyxhQUFhLFFBQVNILEtBQUtJLFVBQVUxQyxHQUM1QyxDQUVBaUIsWUFBWTFFLEdBQ1YsSUFBS0EsRUFBRTZFLE9BQU9DLFFBQVEsV0FBWSxPQUVsQyxNQUFNL0IsRUFBTy9DLEVBQUU2RSxPQUFPQyxRQUFRLFdBQzlCL0IsRUFBS3FELGdCQUFnQixXQUNyQmhILEtBQUtpSCxpQkFBaUIsV0FBV25HLFNBQVNvRyxJQUNwQ0EsSUFBU3ZELEdBQ1h1RCxFQUFLQyxnQkFBZ0IsVUFDdkIsR0FFSixDQUVBbEIsa0JBQWtCckYsR0FDaEIsSUFBS0EsRUFBRTZFLE9BQU9DLFFBQVEsV0FBWSxPQUVsQyxNQUFNL0IsRUFBTy9DLEVBQUU2RSxPQUFPQyxRQUFRLFdBQzlCLGFBQWtCL0IsRUFBS2dDLFFBQVF6QyxLQUNqQyxDQUVBZ0QsY0FBY3RGLEdBQ1osTUFBTXdHLEVBQVlwSCxLQUFLaUgsaUJBQWlCLG9CQUN4QyxHQUFjLFVBQVZyRyxFQUFFeUcsSUFBaUIsQ0FDckIsR0FBSUQsRUFBVUUsT0FBUyxFQUFHLE9BQzFCLElBQUtGLEVBQVcsT0FDaEIsYUFBa0JBLEVBQVUsR0FBR3pCLFFBQVF6QyxLQUN6QyxDQUNGLENBRUFpRCxpQkFBaUJ2RixHQUNmLE1BQU0sS0FBRXNDLEVBQUksTUFBRUUsRUFBSyxRQUFFQyxHQUFZekMsRUFBRTJHLE9BQzdCQyxFQUFnQnhILEtBQUtnRyxNQUFNeUIsV0FBVzlELEdBQVNBLEVBQUtULE9BQVNBLElBRW5FLElBQXVCLElBQW5Cc0UsRUFDRnhILEtBQUtnRyxNQUFRLElBQUloRyxLQUFLZ0csTUFBTyxDQUFFOUMsT0FBTUUsUUFBT0MsZ0JBQ3ZDLENBQ0wsTUFBTXFFLEVBQVcsSUFBSTFILEtBQUtnRyxPQUMxQjBCLEVBQVNGLEdBQWlCLENBQUV0RSxPQUFNRSxRQUFPQyxXQUN6Q3JELEtBQUtnRyxNQUFRMEIsQ0FDZixDQUNGLENBRUF0QixpQkFBaUJ4RixHQUNmLE1BQU0sS0FBRXNDLEdBQVN0QyxFQUFFMkcsT0FDbkJ2SCxLQUFLZ0csTUFBUWhHLEtBQUtnRyxNQUFNMkIsUUFBUWhFLEdBQVNBLEVBQUtULE9BQVNBLEdBQ3pELEVDdEZhLE1BQU0wRSxVQUFhbkYsRUFDaENLLGFBQ0UsTUFBTSxNQUFFTSxFQUFLLFFBQUV5RSxHQUFZN0gsS0FBSzJGLFFBQ2hDLE9BQU8sQ0FBSTtrQkFDR3ZDLGVBQW1CeUU7UUFDN0J6RSxFQUFRLDJCQUEyQkEsV0FBaUI7S0FFMUQsRUNIYSxNQUFNMEUsVUFBZ0JyRixFQUNuQ3hDLDBCQUNFRCxLQUFLMkIsV0FBYyxVQUFrQixVQUFXM0IsS0FBS3NCLEtBQVEsQ0FDM0RzQyxNQUFPLE9BQ1BtRSxRQUFTLElBRVgzQyxNQUFNekMsb0JBQ04zQyxLQUFLcUYsaUJBQWlCLE9BQVFyRixLQUFLZ0ksWUFDbkNoSSxLQUFLcUYsaUJBQWlCLFlBQWFyRixLQUFLaUksaUJBQ3hDakksS0FBS3FGLGlCQUFpQixTQUFVckYsS0FBS2tJLGFBQ3ZDLENBRUFDLHVCQUNFbkksS0FBS29JLG9CQUFvQixPQUFRcEksS0FBS2dJLFlBQ3RDaEksS0FBS29JLG9CQUFvQixZQUFhcEksS0FBS2lJLGlCQUMzQ2pJLEtBQUtvSSxvQkFBb0IsU0FBVXBJLEtBQUtrSSxhQUMxQyxDQUVBcEYsYUFDRSxNQUFNLE1BQUVjLEVBQUssUUFBRW1FLEdBQVkvSCxLQUFLMkIsS0FDaEMsT0FBTyxDQUFJO2lDQUNrQmlDO2tCQUNmbUU7S0FFaEIsQ0FFQUUsZ0JBQWdCckgsR0FDZEEsRUFBRXlILGlCQUNGLE1BQU1DLEVBQWN0SSxLQUFLdUksaUJBQ3pCLElBQUtELEVBQWEsT0FDbEIsTUFBTUUsRUFBTyxJQUFJQyxLQUFLLENBQUNILEVBQVlQLFNBQVUsQ0FBRVcsS0FBTSxlQUMvQ0MsRUFBT25FLFNBQVNvRSxjQUFjLEtBQ3BDRCxFQUFLRSxLQUFPQyxJQUFJQyxnQkFBZ0JQLEdBQ2hDRyxFQUFLSyxTQUFXLEdBQUdWLEVBQVkxRSxZQUMvQitFLEVBQUtNLE9BQ1AsQ0FFQWhKLGlCQUFpQlcsR0FDZkEsRUFBRXNJLGtCQUNGLE1BQU1aLEVBQWN0SSxLQUFLdUksaUJBQ3pCLEdBQUtELEVBRUwsSUFDRSxNQUFNNUgsUUFBZSxhQUFxQixVQUFXNEgsR0FFL0NwRixFQUFPLFlBQVl4QyxJQUV6QnlJLE1BQU0sWUFDTixNQUFNQyxFQUFrQixJQUFJQyxZQUFZLGFBQWMsQ0FDcEQ5QixPQUFRLENBQ05yRSxPQUNBRSxNQUFPa0YsRUFBWTFFLE1BQ25CUCxRQUFTLEtBR2JtQixTQUFTQyxjQUFjLFlBQVk2RSxjQUFjRixHQUU3Q3BKLEtBQUtzQixLQUFPWixFQUNkVixLQUFLNEQsTUFBUTBFLEVBQVkxRSxNQUFNSSxRQUFRLFVBQVcsS0FFbEQsYUFBa0JkLEVBRXRCLENBQUUsTUFBT3FHLEdBQ1BKLE1BQU0sY0FDUixDQUNGLENBRUFsSixtQkFBbUJXLEdBQ2pCLElBR0UsR0FGQUEsRUFBRXNJLG1CQUNvQjVJLE9BQU9rSixRQUFRLGdCQUNqQixhQUVkLGFBQXFCLFVBQVd4SixLQUFLc0IsSUFFM0M2SCxNQUFNLFlBQ04sTUFBTU0sRUFBa0IsSUFBSUosWUFBWSxhQUFjLENBQ3BEOUIsT0FBUSxDQUNOckUsS0FBTSxZQUFZbEQsS0FBS3NCLFFBRzNCa0QsU0FBU0MsY0FBYyxZQUFZNkUsY0FBY0csR0FDakQsWUFBaUIsV0FDbkIsQ0FBRSxNQUFPRixHQUNQSixNQUFNLGNBQ1IsQ0FDRixDQUVBWixpQkFDRSxNQUNNUixFQURZL0gsS0FBS3lFLGNBQWMsWUFDWEosTUFBTXFGLE9BQ2hDLElBQUszQixFQUVILE9BREFvQixNQUFNLGFBQ0MsS0FHVCxJQUFJdkYsRUFDSixNQUFRQSxHQUVOLEtBREFBLEVBQVErRixPQUFPLGNBQWUzSixLQUFLMkIsS0FBS2lDLE1BQU1JLFFBQVEsVUFBVyxNQUM1REosR0FDbUJ0RCxPQUFPa0osUUFBUSxlQUNqQixPQUFPLEtBSS9CLE1BQU8sQ0FDTGxJLEdBQUl0QixLQUFLc0IsR0FDVHNDLE1BQU9BLEVBQU04RixPQUFPMUYsUUFBUSxLQUFNLFVBQ2xDK0QsUUFBU0EsRUFBUS9ELFFBQVEsS0FBTSxVQUVuQyxDQUVJMUMsU0FDRixPQUFPc0ksT0FBTzVKLEtBQUs2RyxhQUFhLFdBQ2xDLENBRUlqRCxVQUFNQSxHQUNSNUQsS0FBS3lFLGNBQWMscUJBQXFCcUMsYUFBYSxRQUFTbEQsRUFDaEUsRUMzSEYsTUFBTWlHLEdBQVUsRUFFVkMsRUFBVSxDQUNkLENBQ0V4SSxHQUFJLE9BQ0pzQyxNQUFPLEtBQ1B5RCxJQUFLLElBQ0wwQyxNQUFPLENBQ0wsQ0FBRXpJLEdBQUksRUFBRzBJLEtBQU0sWUFBYTNDLElBQUssQ0FBQyxPQUFRLEtBQU00QyxRQWlGdEQsV0FDRSxNQUFNQyxFQUFVMUYsU0FBU0MsY0FBYyxjQUNsQ3lGLEVBQVFyRCxhQUFhLFdBSTFCLGFBQWtCLFlBSGhCcUQsRUFBUXRILFFBSVosR0F2Rk0sQ0FBRXRCLEdBQUksRUFBRzBJLEtBQU0sZUFBZ0IzQyxJQUFLLENBQUMsT0FBUSxRQUFTLEtBQU00QyxRQXNFbEUsV0FDRWpLLEtBQUtzSixjQUFjLElBQUlELFlBQVksWUFBYSxDQUFFYyxTQUFTLElBQzdELEdBdkVNLENBQUU3SSxHQUFJLEVBQUcwSSxLQUFNLFFBQVMzQyxJQUFLLENBQUMsT0FBUSxLQUFNNEMsUUFpRWxELFdBQ0VqSyxLQUFLc0osY0FBYyxJQUFJRCxZQUFZLE9BQVEsQ0FBRWMsU0FBUyxJQUN4RCxHQWxFTSxDQUFFN0ksR0FBSSxFQUFHMEksS0FBTSxRQUFTM0MsSUFBSyxDQUFDLE9BQVEsUUFBUyxLQUFNNEMsUUF3RTNELFdBQ2tCekYsU0FBU0MsY0FBYyxjQUMxQm9DLGFBQWEsWUFDMUI3RyxLQUFLc0osY0FBYyxJQUFJRCxZQUFZLFNBQVUsQ0FBRWMsU0FBUyxJQUMxRCxHQTNFTSxDQUFFN0ksR0FBSSxFQUFHMEksS0FBTSxlQUFnQjNDLElBQUssR0FBSXdDLFdBQ3hDLENBQUV2SSxHQUFJLEVBQUcwSSxLQUFNLFdBQVkzQyxJQUFLLENBQUMsT0FBUSxLQUFNd0MsV0FDL0MsQ0FBRXZJLEdBQUksRUFBRzBJLEtBQU0sU0FBVTNDLElBQUssR0FBSXdDLGFBR3RDLENBQ0V2SSxHQUFJLE9BQ0pzQyxNQUFPLEtBQ1B5RCxJQUFLLElBQ0wwQyxNQUFPLENBQ0wsQ0FBRXpJLEdBQUksRUFBRzBJLEtBQU0sV0FBWTNDLElBQUssQ0FBQyxPQUFRLEtBQU13QyxXQUMvQyxDQUFFdkksR0FBSSxFQUFHMEksS0FBTSxVQUFXM0MsSUFBSyxDQUFDLE9BQVEsS0FBTXdDLFdBQzlDLENBQUV2SSxHQUFJLEdBQUkwSSxLQUFNLFFBQVMzQyxJQUFLLENBQUMsT0FBUSxLQUFNd0MsV0FDN0MsQ0FBRXZJLEdBQUksR0FBSTBJLEtBQU0sVUFBVzNDLElBQUssQ0FBQyxPQUFRLEtBQU13QyxXQUMvQyxDQUFFdkksR0FBSSxHQUFJMEksS0FBTSxRQUFTM0MsSUFBSyxDQUFDLE9BQVF3QyxXQUN2QyxDQUFFdkksR0FBSSxHQUFJMEksS0FBTSxrQkFBbUIzQyxJQUFLLENBQUMsT0FBUSxLQUFNd0MsV0FDdkQsQ0FBRXZJLEdBQUksR0FBSTBJLEtBQU0sV0FBWTNDLElBQUssQ0FBQyxPQUFRLEtBQU13QyxXQUNoRCxDQUFFdkksR0FBSSxHQUFJMEksS0FBTSxXQUFZM0MsSUFBSyxDQUFDLE1BQU93QyxXQUN6QyxDQUFFdkksR0FBSSxHQUFJMEksS0FBTSxXQUFZM0MsSUFBSyxDQUFDLFFBQVMsTUFBT3dDLFdBQ2xELENBQUV2SSxHQUFJLEdBQUkwSSxLQUFNLFlBQWEzQyxJQUFLLENBQUMsT0FBUSxLQUFNd0MsV0FDakQsQ0FBRXZJLEdBQUksR0FBSTBJLEtBQU0sV0FBWTNDLElBQUssQ0FBQyxPQUFRLEtBQU13QyxXQUNoRCxDQUFFdkksR0FBSSxHQUFJMEksS0FBTSxXQUFZM0MsSUFBSyxDQUFDLE9BQVEsS0FBTXdDLFdBQ2hELENBQUV2SSxHQUFJLEdBQUkwSSxLQUFNLFdBQVkzQyxJQUFLLENBQUMsTUFBT3dDLGFBRzdDLENBQ0V2SSxHQUFJLFNBQ0pzQyxNQUFPLEtBQ1B5RCxJQUFLLElBQ0wwQyxNQUFPLENBQ0wsQ0FBRXpJLEdBQUksR0FBSTBJLEtBQU0sYUFBYzNDLElBQUssR0FBSXdDLFdBQ3ZDLENBQUV2SSxHQUFJLEdBQUkwSSxLQUFNLFdBQVkzQyxJQUFLLEdBQUl3QyxhQUd6QyxDQUNFdkksR0FBSSxPQUNKc0MsTUFBTyxLQUNQeUQsSUFBSyxJQUNMMEMsTUFBTyxDQUNMLENBQUV6SSxHQUFJLEdBQUkwSSxLQUFNLFVBQVczQyxJQUFLLENBQUMsT0FBUSxLQUFNd0MsV0FDL0MsQ0FBRXZJLEdBQUksR0FBSTBJLEtBQU0sVUFBVzNDLElBQUssQ0FBQyxPQUFRLEtBQU13QyxXQUMvQyxDQUFFdkksR0FBSSxHQUFJMEksS0FBTSxZQUFhM0MsSUFBSyxHQUFJd0MsYUFHMUMsQ0FDRXZJLEdBQUksT0FDSnNDLE1BQU8sTUFDUHlELElBQUssSUFDTDBDLE1BQU8sQ0FDTCxDQUFFekksR0FBSSxHQUFJMEksS0FBTSxZQUFhM0MsSUFBSyxHQUFJd0MsV0FDdEMsQ0FBRXZJLEdBQUksR0FBSTBJLEtBQU0sYUFBYzNDLElBQUssR0FBSXdDLFdBQ3ZDLENBQUV2SSxHQUFJLEdBQUkwSSxLQUFNLFlBQWEzQyxJQUFLLEdBQUl3QyxjQUt0Q0UsRUFBUUQsRUFBUXZHLFFBQU8sQ0FBQzZHLEVBQUtDLElBQzFCLElBQUlELEtBQVFDLEVBQUlOLFFBQ3RCLElBRUgsSUNwRWUsTUFBTU8sVUFBc0I3SCxFQUN6Q0Usb0JBQ0V5QyxNQUFNekMsb0JBQ04zQyxLQUFLcUYsaUJBQWlCLFFBQVNyRixLQUFLc0YsWUFDdEMsQ0FFQTZDLHVCQUNFbkksS0FBS29JLG9CQUFvQixRQUFTcEksS0FBS3NGLFlBQ3pDLENBRVdlLGdDQUNULE1BQU8sQ0FBQyxRQUNWLENBRUFDLHlCQUF5QkMsRUFBTUMsRUFBVUMsR0FDMUIsVUFBVEYsR0FBb0JDLElBQ3RCeEcsS0FBS3lFLGNBQWMsVUFBVThGLFVBQVk5RCxFQUU3QyxDQUVBM0QsYUFDRSxPQUFPLENBQUk7Ozt3Q0FHeUI7NkJBQ1g5QyxLQUFLNEQ7Ozs7Ozs7OztVQVN4QixPQUVHNEcsR0FBVyxDQUFJOztrQkFFVkEsRUFBTzVHLFlBQVk0RyxFQUFPbkQ7O29CQUV4Qm1ELEVBQU9ULE1BQ05yRCxLQUNFK0QsR0FBUyxDQUFJO29EQUNnQkEsRUFBS25KLHVCQUF1Qm1KLEVBQUtaO2lDQUNwRFksRUFBS1Q7NEJBQ1ZTLEVBQUtwRCxJQUFJQyxPQUFTLEVBQUksUUFBUW1ELEVBQUtwRCxJQUFJN0IsS0FBSyxlQUFpQjs7MEJBSXBFQSxLQUFLOzs7Z0JBS2ZBLEtBQUs7O0tBR2QsQ0FFQUYsWUFBWTFFLEdBQ1YsTUFBTThKLEVBQWE5SixFQUFFNkUsT0FBT0MsUUFBUSxnQkFDOUJpRixFQUFhL0osRUFBRTZFLE9BQU9DLFFBQVEsZ0JBQzlCa0YsRUFBTWhLLEVBQUU2RSxPQUFPQyxRQUFRLFFBRXpCZ0YsRUFDRjFLLEtBQUs2SyxnQkFBZ0JILEdBQ1pDLEVBQ1QzSyxLQUFLOEssZ0JBQWdCSCxFQUFZQyxHQUVqQzVLLEtBQUsrSyxZQUVULENBRUFGLGdCQUFnQkgsR0FDZCxPQUFRQSxFQUFXcEosSUFDakIsSUFBSyxPQUNIdEIsS0FBS2dMLGNBQWNDLFVBQVVDLE9BQU8sY0FDcEMsTUFDRixJQUFLLE9BQ0wsSUFBSyxRQUNILFNBS04sQ0FFQUosZ0JBQWdCSCxFQUFZQyxHQUMxQixHQUFJQSxFQUFLLENBQ1AsTUFBTU8sRUFBU3ZCLE9BQU9nQixFQUFJakYsUUFBUXJFLEtBQzVCLFFBQUUySSxHQUFZRixFQUFNM0YsTUFBTXFHLEdBQVNBLEVBQUtuSixLQUFPNkosS0FBVyxDQUFDLEVBQzdEbEIsR0FDRkEsRUFBUW1CLEtBQUtwTCxLQUVqQixNQUNFQSxLQUFLcUwsWUFBWVYsRUFFckIsQ0FFQVUsWUFBWVYsR0FDVixNQUFNVyxFQUFRWCxFQUFXbEcsY0FBYyxVQUNuQzZHLEVBQU1MLFVBQVVoSyxTQUFTLFFBQzNCcUssRUFBTUwsVUFBVU0sT0FBTyxTQUV2QnZMLEtBQUsrSyxhQUNMTyxFQUFNTCxVQUFVTyxJQUFJLFFBRXhCLENBRUFULGFBQ0UsTUFBTU8sRUFBUXRMLEtBQUt5RSxjQUFjLGVBQ2pDNkcsR0FBT0wsVUFBVU0sT0FBTyxPQUMxQixDQUVJM0gsWUFDRixPQUFPNUQsS0FBSzZHLGFBQWEsUUFDM0IsRUM3R0YsV0FDRSxVQUNRLFVBQ1IsQ0FBRSxNQUFPakcsR0FDUDZLLGdCQUFlLElBQU10QyxNQUFNLDJCQUM3QixDQUVBdUMsZUFBZUMsT0FBTyxTQUFVNUksR0FDaEMySSxlQUFlQyxPQUFPLFlBQWF4RyxHQUNuQ3VHLGVBQWVDLE9BQU8sVUFBVy9GLEdBQ2pDOEYsZUFBZUMsT0FBTyxZQUFhOUYsR0FDbkM2RixlQUFlQyxPQUFPLGdCQUFpQjdGLEdBQ3ZDNEYsZUFBZUMsT0FBTyxXQUFZNUYsR0FDbEMyRixlQUFlQyxPQUFPLFVBQVcvRCxHQUNqQzhELGVBQWVDLE9BQU8sYUFBYzdELEdBQ3BDNEQsZUFBZUMsT0FBTyxvQkFBcUJyQixFQUM1QyxFQWhCRCxHQWtCQWhLLE9BQU8rRSxpQkFBaUIsUUFBUSxJQUFNLGFBQ3RDL0UsT0FBTytFLGlCQUFpQixZQUFZLElBQU0sWSIsInNvdXJjZXMiOlsid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL2NvcmUvSW5kZXhlZERCLmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy91dGlscy91dGlscy5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvY29yZS9XZWJDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL0FwcC5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvdXRpbHMvcm91dGVzLmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy9jb3JlL1JvdXRlci5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvdmlldy9Db21tb24vRm9vdGVyLmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy92aWV3L0hvbWUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL3ZpZXcvVGV0cmlzL2luZGV4LmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy92aWV3L0ZsYXBweUJpcmQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL3ZpZXcvQ29tbW9uL0ljb25zLmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy92aWV3L0NvbW1vbi9JY29uLmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy92aWV3L05vdGVQYWQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL3ZpZXcvTm90ZVBhZC9jb25zdC9idXR0b25zLmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy92aWV3L05vdGVQYWQvY29tcG9uZW50cy9Ob3RlUGFkSGVhZGVyLmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvanMtc2FuZGJveC9cIjsiLCJjbGFzcyBJbmRleGVkREIge1xyXG4gIGRiO1xyXG5cclxuICAvKipcclxuICAgKiDsg53shLHsnpBcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGJOYW1lXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGRiVmVyc2lvblxyXG4gICAqIEBwYXJhbSB7c3RyaW5nW119IHN0b3Jlc1xyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKGRiTmFtZSwgZGJWZXJzaW9uLCBzdG9yZXMpIHtcclxuICAgIHRoaXMuZGJOYW1lID0gZGJOYW1lO1xyXG4gICAgdGhpcy5kYlZlcnNpb24gPSBkYlZlcnNpb247XHJcbiAgICB0aGlzLnN0b3JlcyA9IHN0b3JlcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERCIOyYpO2UiCDrqZTshJzrk5xcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cclxuICAgKi9cclxuICBhc3luYyBvcGVuREIoKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBjb25zdCByZXF1ZXN0ID0gd2luZG93LmluZGV4ZWREQi5vcGVuKHRoaXMuZGJOYW1lLCB0aGlzLmRiVmVyc2lvbik7XHJcblxyXG4gICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmRiID0gcmVxdWVzdC5yZXN1bHQ7XHJcbiAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgcmVxdWVzdC5vbmVycm9yID0gKGUpID0+IHtcclxuICAgICAgICByZWplY3QoZSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZXF1ZXN0Lm9udXBncmFkZW5lZWRlZCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmRiID0gcmVxdWVzdC5yZXN1bHQ7XHJcblxyXG4gICAgICAgIHRoaXMuc3RvcmVzLmZvckVhY2goKHN0b3JlKSA9PiB7XHJcbiAgICAgICAgICBpZiAodGhpcy5kYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKHN0b3JlKSkge1xyXG4gICAgICAgICAgICB0aGlzLmRiLmRlbGV0ZU9iamVjdFN0b3JlKHN0b3JlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRoaXMuZGIuY3JlYXRlT2JqZWN0U3RvcmUoc3RvcmUsIHsga2V5UGF0aDogJ2lkJyB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog642w7J207YSwIOyhsO2ajCDrqZTshJzrk5xcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RvcmVOYW1lXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGlkXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8b2JqZWN0Pn1cclxuICAgKi9cclxuICBhc3luYyBnZXREYXRhKHN0b3JlTmFtZSwgaWQpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSB0aGlzLmRiLnRyYW5zYWN0aW9uKHN0b3JlTmFtZSwgJ3JlYWRvbmx5Jykub2JqZWN0U3RvcmUoc3RvcmVOYW1lKS5nZXQoaWQpO1xyXG5cclxuICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XHJcbiAgICAgICAgcmVzb2x2ZShyZXF1ZXN0LnJlc3VsdCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoZSkgPT4ge1xyXG4gICAgICAgIHJlamVjdChlKTtcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog642w7J207YSwIOyghOyytCDsobDtmowg66mU7ISc65OcXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0b3JlTmFtZVxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPG9iamVjdFtdPn1cclxuICAgKi9cclxuICBhc3luYyBnZXRBbGxEYXRhKHN0b3JlTmFtZSkge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgY29uc3QgcmVxdWVzdCA9IHRoaXMuZGIudHJhbnNhY3Rpb24oc3RvcmVOYW1lLCAncmVhZG9ubHknKS5vYmplY3RTdG9yZShzdG9yZU5hbWUpLmdldEFsbCgpO1xyXG5cclxuICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XHJcbiAgICAgICAgcmVzb2x2ZShyZXF1ZXN0LnJlc3VsdCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoZSkgPT4ge1xyXG4gICAgICAgIHJlamVjdChlKTtcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog642w7J207YSwIOy2lOqwgCDrqZTshJzrk5xcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RvcmVOYW1lXHJcbiAgICogQHBhcmFtIHtvYmplY3R9IGRhdGFcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxvYmplY3Q+fVxyXG4gICAqL1xyXG4gIGFzeW5jIHVwc2VydERhdGEoc3RvcmVOYW1lLCBkYXRhKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBjb25zdCBvYmplY3RTdG9yZSA9IHRoaXMuZGIudHJhbnNhY3Rpb24oc3RvcmVOYW1lLCAncmVhZHdyaXRlJykub2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcclxuICAgICAgY29uc3QgbW9kaWZpZWREYXRhID0geyAuLi5kYXRhLCBpZDogZGF0YS5pZCB8fCBuZXcgRGF0ZSgpLmdldFRpbWUoKSB9O1xyXG4gICAgICBjb25zdCByZXF1ZXN0ID0gb2JqZWN0U3RvcmUucHV0KG1vZGlmaWVkRGF0YSk7XHJcblxyXG4gICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcclxuICAgICAgICByZXNvbHZlKHJlcXVlc3QucmVzdWx0KTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhyZXF1ZXN0LmVycm9yKTtcclxuICAgICAgICByZWplY3QocmVxdWVzdC5lcnJvcik7XHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOuNsOydtO2EsCDsgq3soJwg66mU7ISc65OcXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0b3JlTmFtZVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpZFxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPG9iamVjdD59XHJcbiAgICovXHJcbiAgYXN5bmMgZGVsZXRlRGF0YShzdG9yZU5hbWUsIGlkKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5kYi50cmFuc2FjdGlvbihzdG9yZU5hbWUsICdyZWFkd3JpdGUnKS5vYmplY3RTdG9yZShzdG9yZU5hbWUpLmRlbGV0ZShpZCk7XHJcblxyXG4gICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcclxuICAgICAgICByZXNvbHZlKHRydWUpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgcmVxdWVzdC5vbmVycm9yID0gKGUpID0+IHtcclxuICAgICAgICByZWplY3QoZSk7XHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IHNhbmRib3hEQiA9IG5ldyBJbmRleGVkREIoJ3NhbmRib3hEQicsIDIsIFsnbm90ZXBhZCddKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHNhbmRib3hEQjtcclxuIiwiY29uc3QgcmVuZGVyUmF3ID0gKHN0cmluZywgLi4udmFsdWVzKSA9PiB7XHJcbiAgcmV0dXJuIFN0cmluZy5yYXcoc3RyaW5nLCAuLi52YWx1ZXMpO1xyXG59O1xyXG5cclxuZXhwb3J0IHsgcmVuZGVyUmF3IGFzIGh0bWwsIHJlbmRlclJhdyBhcyBjc3MgfTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2ViQ29tcG9uZW50IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xyXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xyXG4gICAgdGhpcy5yZW5kZXIoKTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIHRoaXMuaW5uZXJIVE1MID0gdGhpcy5pbmplY3RIVE1MKCk7XHJcbiAgfVxyXG5cclxuICBpbmplY3RIVE1MKCkge1xyXG4gICAgcmV0dXJuIGBgO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBodG1sIH0gZnJvbSAnLi91dGlscy91dGlscyc7XHJcbmltcG9ydCBXZWJDb21wb25lbnQgZnJvbSAnLi9jb3JlL1dlYkNvbXBvbmVudCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcHAgZXh0ZW5kcyBXZWJDb21wb25lbnQge1xyXG4gIGluamVjdEhUTUwoKSB7XHJcbiAgICByZXR1cm4gaHRtbGBcclxuICAgICAgPGRpdiBpZD1cInBhZ2VcIj48L2Rpdj5cclxuICAgICAgPG15LWljb25zIHRhYmluZGV4PVwiLTFcIj48L215LWljb25zPlxyXG4gICAgICA8bXktZm9vdGVyPjwvbXktZm9vdGVyPlxyXG4gICAgYDtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgaHRtbCB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHRldHJpcyBmcm9tICcuLi8uLi9wdWJsaWMvdGV0cmlzLnBuZyc7XG5pbXBvcnQgZmxhcHB5QmlyZCBmcm9tICcuLi8uLi9wdWJsaWMvZmxhcHB5QmlyZC5wbmcnO1xuaW1wb3J0IG5vdGVwYWQgZnJvbSAnLi4vLi4vcHVibGljL25vdGVwYWQucG5nJztcbmltcG9ydCBzYW5kYm94REIgZnJvbSAnLi4vY29yZS9JbmRleGVkREInO1xuXG5jb25zdCBCQVNFX1VSTCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnID8gJycgOiAnL2pzLXNhbmRib3gnO1xuXG5jb25zdCByb3V0ZXMgPSBbXG4gIHtcbiAgICBwYXRoOiBgL2AsXG4gICAgaHRtbDogaHRtbGA8bXktaG9tZT48L215LWhvbWU+YCxcbiAgICBsYWJlbDogJ0hvbWUnLFxuICAgIGljb25TcmM6IG51bGwsXG4gIH0sXG4gIHtcbiAgICBwYXRoOiBgL3RldHJpc2AsXG4gICAgaHRtbDogaHRtbGA8bXktdGV0cmlzPjwvbXktdGV0cmlzPmAsXG4gICAgbGFiZWw6ICdUZXRyaXMnLFxuICAgIGljb25TcmM6IHRldHJpcyxcbiAgfSxcbiAge1xuICAgIHBhdGg6IGAvZmxhcHB5YmlyZGAsXG4gICAgaHRtbDogaHRtbGA8bXktZmxhcHB5YmlyZD48L215LWZsYXBweWJpcmQ+YCxcbiAgICBsYWJlbDogJ0ZsYXBweSZuYnNwO0JpcmQnLFxuICAgIGljb25TcmM6IGZsYXBweUJpcmQsXG4gIH0sXG4gIHtcbiAgICBwYXRoOiBgL25vdGVwYWRgLFxuICAgIGh0bWw6IGh0bWxgPG15LW5vdGVwYWQ+PC9teS1ub3RlcGFkPmAsXG4gICAgbGFiZWw6ICdOb3RlJm5ic3A7UGFkJyxcbiAgICBpY29uU3JjOiBub3RlcGFkLFxuICB9LFxuICB7XG4gICAgcGF0aDogYC9ub3RlcGFkLzppZGAsXG4gICAgaHRtbDogaHRtbGA8bXktbm90ZXBhZCBkYXRhLWlkPVwiOmlkXCI+PC9teS1ub3RlcGFkPmAsXG4gICAgbGFiZWw6ICdOb3RlJm5ic3A7UGFkJyxcbiAgICBpY29uU3JjOiBudWxsLFxuICB9LFxuXTtcblxuY29uc3QgbWFpbkljb25zID0gcm91dGVzLnJlZHVjZSgocHJldiwgcm91dGVyKSA9PiB7XG4gIGNvbnN0IHsgcGF0aCwgbGFiZWwsIGljb25TcmMgfSA9IHJvdXRlcjtcbiAgaWYgKCFyb3V0ZXIuaWNvblNyYykgcmV0dXJuIHByZXY7XG4gIHJldHVybiBbLi4ucHJldiwgeyBwYXRoLCBsYWJlbCwgaWNvblNyYyB9XTtcbn0sIFtdKTtcblxuY29uc3QgZ2V0TG9jYWxJY29ucyA9IGFzeW5jICgpID0+IHtcbiAgY29uc3Qgbm90ZXBhZERhdGEgPSBhd2FpdCBzYW5kYm94REIuZ2V0QWxsRGF0YSgnbm90ZXBhZCcpO1xuICBjb25zdCBub3RlcGFkSWNvbnMgPSBub3RlcGFkRGF0YS5yZWR1Y2UoKHByZXYsIGljb24pID0+IHtcbiAgICBjb25zdCB7IGlkLCB0aXRsZSB9ID0gaWNvbjtcbiAgICByZXR1cm4gWy4uLnByZXYsIHsgcGF0aDogYC9ub3RlcGFkLyR7aWR9YCwgbGFiZWw6IHRpdGxlLCBpY29uU3JjOiBub3RlcGFkIH1dO1xuICB9LCBbXSk7XG5cbiAgcmV0dXJuIFsuLi5ub3RlcGFkSWNvbnNdO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVzO1xuZXhwb3J0IHsgbWFpbkljb25zLCBnZXRMb2NhbEljb25zLCBCQVNFX1VSTCB9O1xuIiwiaW1wb3J0IHJvdXRlcywgeyBCQVNFX1VSTCB9IGZyb20gJy4uL3V0aWxzL3JvdXRlcyc7XG5cbmNsYXNzIFJvdXRlciB7XG4gIGNvbnN0cnVjdG9yKHJvdXRlKSB7XG4gICAgdGhpcy5yb3V0ZXMgPSByb3V0ZTtcbiAgfVxuXG4gIHBhdGhUb1JlZ2V4cChwYXRoKSB7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoYF4ke3BhdGgucmVwbGFjZSgvXFwvL2csICdcXFxcLycpLnJlcGxhY2UoLzpcXHcrL2csICcoLispJyl9JGApO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGN1cnJlbnRQYXRoID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lO1xuICAgIGNvbnN0IHJvdXRlID0gdGhpcy5yb3V0ZXMuZmluZCgodmFsdWUpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLnBhdGhUb1JlZ2V4cCh0aGlzLmdldFVybEZyb20odmFsdWUucGF0aCkpLnRlc3QoY3VycmVudFBhdGgpO1xuICAgIH0pO1xuXG4gICAgaWYgKCFyb3V0ZSkge1xuICAgICAgdGhpcy5yZXBsYWNlVG8oJy8nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcGFnZScpLmlubmVySFRNTCA9IHJvdXRlLmh0bWwucmVwbGFjZSgnOmlkJywgdGhpcy5nZXRJZEZyb21QYXRoKGN1cnJlbnRQYXRoKSk7XG4gIH1cblxuICBnZXRJZEZyb21QYXRoKHBhdGgpIHtcbiAgICByZXR1cm4gcGF0aC5tYXRjaCgvXFxkKy8pPy5bMF07XG4gIH1cblxuICBuYXZpZ2F0ZVRvKHVybCkge1xuICAgIGlmICh0aGlzLmdldFVybEZyb20odXJsKSA9PT0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lKSByZXR1cm47XG4gICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKG51bGwsIG51bGwsIEJBU0VfVVJMICsgdXJsKTtcbiAgICB0aGlzLnJlbmRlcigpO1xuICB9XG5cbiAgcmVwbGFjZVRvKHVybCkge1xuICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCBudWxsLCBCQVNFX1VSTCArIHVybCk7XG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxuXG4gIGdldFVybEZyb20odXJsKSB7XG4gICAgcmV0dXJuIGAke0JBU0VfVVJMfSR7dXJsfWA7XG4gIH1cblxuICBiYWNrKCkge1xuICAgIHdpbmRvdy5oaXN0b3J5LmJhY2soKTtcbiAgICB0aGlzLnJlbmRlcigpO1xuICB9XG59XG5cbmNvbnN0IHJvdXRlciA9IG5ldyBSb3V0ZXIocm91dGVzKTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIiwiaW1wb3J0IFdlYkNvbXBvbmVudCBmcm9tICcuLi8uLi9jb3JlL1dlYkNvbXBvbmVudCc7XHJcbmltcG9ydCB7IGh0bWwgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XHJcbmltcG9ydCB7IG1haW5JY29ucyB9IGZyb20gJy4uLy4uL3V0aWxzL3JvdXRlcyc7XHJcbmltcG9ydCByb3V0ZXIgZnJvbSAnLi4vLi4vY29yZS9Sb3V0ZXInO1xyXG5pbXBvcnQgd2luZG93TG9nbyBmcm9tICcuLi8uLi8uLi9wdWJsaWMvd2luZG93TG9nby5wbmcnO1xyXG5pbXBvcnQgc2VhcmNoSWNvbiBmcm9tICcuLi8uLi8uLi9wdWJsaWMvc2VhcmNoSWNvbi5wbmcnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9vdGVyIGV4dGVuZHMgV2ViQ29tcG9uZW50IHtcclxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcclxuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XHJcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpKTtcclxuICB9XHJcblxyXG4gIGluamVjdEhUTUwoKSB7XHJcbiAgICByZXR1cm4gaHRtbGBcclxuICAgICAgPGltZyBhbHQ9XCJ3aW5kb3dfbG9nb1wiIHNyYz0ke3dpbmRvd0xvZ299IGNsYXNzPVwid2luZG93X2ljb25cIiAvPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiaW5wdXRfYm94XCI+XHJcbiAgICAgICAgPGltZyBhbHQ9XCJzZWFyY2hcIiBzcmM9JHtzZWFyY2hJY29ufSBjbGFzcz1cIndpbmRvd19pY29uXCIgLz48aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIuywvuq4sFwiIC8+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICAke21haW5JY29uc1xyXG4gICAgICAgIC5tYXAoKGljb24pID0+IHtcclxuICAgICAgICAgIHJldHVybiBodG1sYCA8bXktaWNvbiBkYXRhLXBhdGg9XCIke2ljb24ucGF0aH1cIiBkYXRhLWljb25TcmM9XCIke2ljb24uaWNvblNyY31cIj48L215LWljb24+IGA7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuam9pbignJyl9XHJcbiAgICBgO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlQ2xpY2soZSkge1xyXG4gICAgaWYgKCFlLnRhcmdldC5jbG9zZXN0KCdteS1pY29uJykpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBpY29uID0gZS50YXJnZXQuY2xvc2VzdCgnbXktaWNvbicpO1xyXG4gICAgcm91dGVyLm5hdmlnYXRlVG8oaWNvbi5kYXRhc2V0LnBhdGgpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgV2ViQ29tcG9uZW50IGZyb20gJy4uLy4uL2NvcmUvV2ViQ29tcG9uZW50JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhvbWUgZXh0ZW5kcyBXZWJDb21wb25lbnQge31cclxuIiwiaW1wb3J0IFdlYkNvbXBvbmVudCBmcm9tICcuLi8uLi9jb3JlL1dlYkNvbXBvbmVudCc7XHJcbmltcG9ydCB7IGh0bWwgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXRyaXMgZXh0ZW5kcyBXZWJDb21wb25lbnQge1xyXG4gIGluamVjdEhUTUwoKSB7XHJcbiAgICByZXR1cm4gaHRtbGBcclxuICAgICAgPGgxPlRldHJpczwvaDE+XHJcbiAgICAgIDxwPllvdSBhcmUgdmlld2luZyB0aGUgVGV0cmlzIGNvbXBvbmVudCE8L3A+XHJcbiAgICBgO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgV2ViQ29tcG9uZW50IGZyb20gJy4uLy4uL2NvcmUvV2ViQ29tcG9uZW50JztcclxuaW1wb3J0IHsgaHRtbCB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZsYXBweUJpcmQgZXh0ZW5kcyBXZWJDb21wb25lbnQge1xyXG4gIGluamVjdEhUTUwoKSB7XHJcbiAgICByZXR1cm4gaHRtbGBcclxuICAgICAgPGgxPkZsYXBweSBCaXJkPC9oMT5cclxuICAgICAgPHA+WW91IGFyZSB2aWV3aW5nIHRoZSBGbGFwcHkgQmlyZCBjb21wb25lbnQhPC9wPlxyXG4gICAgICA8cD5Zb3UgYXJlIHZpZXdpbmcgdGhlIEZsYXBweSBCaXJkIGNvbXBvbmVudCE8L3A+XHJcbiAgICAgIDxwPllvdSBhcmUgdmlld2luZyB0aGUgRmxhcHB5IEJpcmQgY29tcG9uZW50ITwvcD5cclxuICAgICAgPHA+WW91IGFyZSB2aWV3aW5nIHRoZSBGbGFwcHkgQmlyZCBjb21wb25lbnQhPC9wPlxyXG4gICAgICA8cD5Zb3UgYXJlIHZpZXdpbmcgdGhlIEZsYXBweSBCaXJkIGNvbXBvbmVudCE8L3A+XHJcbiAgICAgIDxwPllvdSBhcmUgdmlld2luZyB0aGUgRmxhcHB5IEJpcmQgY29tcG9uZW50ITwvcD5cclxuICAgIGA7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IGh0bWwgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XHJcbmltcG9ydCByb3V0ZXIgZnJvbSAnLi4vLi4vY29yZS9Sb3V0ZXInO1xyXG5pbXBvcnQgV2ViQ29tcG9uZW50IGZyb20gJy4uLy4uL2NvcmUvV2ViQ29tcG9uZW50JztcclxuaW1wb3J0IHsgZ2V0TG9jYWxJY29ucywgbWFpbkljb25zIH0gZnJvbSAnLi4vLi4vdXRpbHMvcm91dGVzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEljb25zIGV4dGVuZHMgV2ViQ29tcG9uZW50IHtcclxuICBhc3luYyBjb25uZWN0ZWRDYWxsYmFjaygpIHtcclxuICAgIHRoaXMuaWNvbnMgPSBbLi4ubWFpbkljb25zLCAuLi4oYXdhaXQgZ2V0TG9jYWxJY29ucygpKV07XHJcbiAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xyXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2spO1xyXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdkYmxjbGljaycsIHRoaXMuaGFuZGxlRG91YmxlQ2xpY2spO1xyXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5oYW5kbGVLZXlEb3duKTtcclxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignaWNvbkNoYW5nZScsIHRoaXMuaGFuZGxlSWNvbkNoYW5nZSk7XHJcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2ljb25EZWxldGUnLCB0aGlzLmhhbmRsZUljb25EZWxldGUpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7XHJcbiAgICByZXR1cm4gWydpY29ucyddO1xyXG4gIH1cclxuXHJcbiAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKG5hbWUsIG9sZFZhbHVlLCBuZXdWYWx1ZSkge1xyXG4gICAgaWYgKG9sZFZhbHVlID09PSBuZXdWYWx1ZSkgcmV0dXJuO1xyXG4gICAgdGhpcy5yZW5kZXIoKTtcclxuICB9XHJcblxyXG4gIGluamVjdEhUTUwoKSB7XHJcbiAgICByZXR1cm4gaHRtbGBcclxuICAgICAgJHt0aGlzLmljb25zXHJcbiAgICAgICAgLm1hcCgoaWNvbikgPT4ge1xyXG4gICAgICAgICAgcmV0dXJuIGh0bWxgXHJcbiAgICAgICAgICAgIDxteS1pY29uIGRhdGEtcGF0aD0ke2ljb24ucGF0aH0gZGF0YS1sYWJlbD0ke2ljb24ubGFiZWx9IGRhdGEtaWNvblNyYz0ke2ljb24uaWNvblNyY30+PC9teS1pY29uPlxyXG4gICAgICAgICAgYDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5qb2luKCcnKX1cclxuICAgIGA7XHJcbiAgfVxyXG5cclxuICBnZXQgaWNvbnMoKSB7XHJcbiAgICByZXR1cm4gSlNPTi5wYXJzZSh0aGlzLmdldEF0dHJpYnV0ZSgnaWNvbnMnKSk7XHJcbiAgfVxyXG5cclxuICBzZXQgaWNvbnModmFsdWUpIHtcclxuICAgIHRoaXMuc2V0QXR0cmlidXRlKCdpY29ucycsIEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVDbGljayhlKSB7XHJcbiAgICBpZiAoIWUudGFyZ2V0LmNsb3Nlc3QoJ215LWljb24nKSkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGljb24gPSBlLnRhcmdldC5jbG9zZXN0KCdteS1pY29uJyk7XHJcbiAgICBpY29uLnRvZ2dsZUF0dHJpYnV0ZSgnY2hlY2tlZCcpO1xyXG4gICAgdGhpcy5xdWVyeVNlbGVjdG9yQWxsKCdteS1pY29uJykuZm9yRWFjaCgobm9kZSkgPT4ge1xyXG4gICAgICBpZiAobm9kZSAhPT0gaWNvbikge1xyXG4gICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKCdjaGVja2VkJyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlRG91YmxlQ2xpY2soZSkge1xyXG4gICAgaWYgKCFlLnRhcmdldC5jbG9zZXN0KCdteS1pY29uJykpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBpY29uID0gZS50YXJnZXQuY2xvc2VzdCgnbXktaWNvbicpO1xyXG4gICAgcm91dGVyLm5hdmlnYXRlVG8oaWNvbi5kYXRhc2V0LnBhdGgpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlS2V5RG93bihlKSB7XHJcbiAgICBjb25zdCBjaGVja2VkRWwgPSB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoJ215LWljb25bY2hlY2tlZF0nKTtcclxuICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xyXG4gICAgICBpZiAoY2hlY2tlZEVsLmxlbmd0aCA+IDEpIHJldHVybjtcclxuICAgICAgaWYgKCFjaGVja2VkRWwpIHJldHVybjtcclxuICAgICAgcm91dGVyLm5hdmlnYXRlVG8oY2hlY2tlZEVsWzBdLmRhdGFzZXQucGF0aCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVJY29uQ2hhbmdlKGUpIHtcclxuICAgIGNvbnN0IHsgcGF0aCwgbGFiZWwsIGljb25TcmMgfSA9IGUuZGV0YWlsO1xyXG4gICAgY29uc3QgcHJldkljb25JbmRleCA9IHRoaXMuaWNvbnMuZmluZEluZGV4KChpY29uKSA9PiBpY29uLnBhdGggPT09IHBhdGgpO1xyXG5cclxuICAgIGlmIChwcmV2SWNvbkluZGV4ID09PSAtMSkge1xyXG4gICAgICB0aGlzLmljb25zID0gWy4uLnRoaXMuaWNvbnMsIHsgcGF0aCwgbGFiZWwsIGljb25TcmMgfV07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBuZXdJY29ucyA9IFsuLi50aGlzLmljb25zXTtcclxuICAgICAgbmV3SWNvbnNbcHJldkljb25JbmRleF0gPSB7IHBhdGgsIGxhYmVsLCBpY29uU3JjIH07XHJcbiAgICAgIHRoaXMuaWNvbnMgPSBuZXdJY29ucztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZUljb25EZWxldGUoZSkge1xyXG4gICAgY29uc3QgeyBwYXRoIH0gPSBlLmRldGFpbDtcclxuICAgIHRoaXMuaWNvbnMgPSB0aGlzLmljb25zLmZpbHRlcigoaWNvbikgPT4gaWNvbi5wYXRoICE9PSBwYXRoKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgaHRtbCB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJztcclxuaW1wb3J0IFdlYkNvbXBvbmVudCBmcm9tICcuLi8uLi9jb3JlL1dlYkNvbXBvbmVudCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJY29uIGV4dGVuZHMgV2ViQ29tcG9uZW50IHtcclxuICBpbmplY3RIVE1MKCkge1xyXG4gICAgY29uc3QgeyBsYWJlbCwgaWNvbnNyYyB9ID0gdGhpcy5kYXRhc2V0O1xyXG4gICAgcmV0dXJuIGh0bWxgXHJcbiAgICAgIDxpbWcgYWx0PVwiJHtsYWJlbH1faWNvblwiIHNyYz0ke2ljb25zcmN9IC8+XHJcbiAgICAgICR7bGFiZWwgPyBgPHNwYW4gY2xhc3M9XCJpY29uX25hbWVcIj4ke2xhYmVsfTwvc3Bhbj5gIDogJyd9XHJcbiAgICBgO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgV2ViQ29tcG9uZW50IGZyb20gJy4uLy4uL2NvcmUvV2ViQ29tcG9uZW50JztcbmltcG9ydCB7IGh0bWwgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XG5pbXBvcnQgJy4vc3R5bGVzLnNjc3MnO1xuaW1wb3J0IHNhbmRib3hEQiBmcm9tICcuLi8uLi9jb3JlL0luZGV4ZWREQic7XG5pbXBvcnQgTm90ZVBhZEljb24gZnJvbSAnLi4vLi4vLi4vcHVibGljL25vdGVwYWQucG5nJztcbmltcG9ydCByb3V0ZXIgZnJvbSAnLi4vLi4vY29yZS9Sb3V0ZXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOb3RlUGFkIGV4dGVuZHMgV2ViQ29tcG9uZW50IHtcbiAgYXN5bmMgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5kYXRhID0gKGF3YWl0IHNhbmRib3hEQi5nZXREYXRhKCdub3RlcGFkJywgdGhpcy5pZCkpID8/IHtcbiAgICAgIHRpdGxlOiAn7KCc66qp7JeG7J2MJyxcbiAgICAgIGNvbnRlbnQ6ICcnLFxuICAgIH07XG4gICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ3NhdmUnLCB0aGlzLmhhbmRsZVNhdmUpO1xuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignbG9jYWxTYXZlJywgdGhpcy5oYW5kbGVMb2NhbFNhdmUpO1xuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignZGVsZXRlJywgdGhpcy5oYW5kbGVEZWxldGUpO1xuICB9XG5cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCdzYXZlJywgdGhpcy5oYW5kbGVTYXZlKTtcbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvY2FsU2F2ZScsIHRoaXMuaGFuZGxlTG9jYWxTYXZlKTtcbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RlbGV0ZScsIHRoaXMuaGFuZGxlRGVsZXRlKTtcbiAgfVxuXG4gIGluamVjdEhUTUwoKSB7XG4gICAgY29uc3QgeyB0aXRsZSwgY29udGVudCB9ID0gdGhpcy5kYXRhO1xuICAgIHJldHVybiBodG1sYFxuICAgICAgPG15LW5vdGVwYWQtaGVhZGVyIHRpdGxlPSR7dGl0bGV9PjwvbXktbm90ZXBhZC1oZWFkZXI+XG4gICAgICA8dGV4dGFyZWE+JHtjb250ZW50fTwvdGV4dGFyZWE+XG4gICAgYDtcbiAgfVxuXG4gIGhhbmRsZUxvY2FsU2F2ZShlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IG5vdGVQYWREYXRhID0gdGhpcy5nZXROb3RlUGFkRGF0YSgpO1xuICAgIGlmICghbm90ZVBhZERhdGEpIHJldHVybjtcbiAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW25vdGVQYWREYXRhLmNvbnRlbnRdLCB7IHR5cGU6ICd0ZXh0L3BsYWluJyB9KTtcbiAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgbGluay5kb3dubG9hZCA9IGAke25vdGVQYWREYXRhLnRpdGxlfS50eHRgO1xuICAgIGxpbmsuY2xpY2soKTtcbiAgfVxuXG4gIGFzeW5jIGhhbmRsZVNhdmUoZSkge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgY29uc3Qgbm90ZVBhZERhdGEgPSB0aGlzLmdldE5vdGVQYWREYXRhKCk7XG4gICAgaWYgKCFub3RlUGFkRGF0YSkgcmV0dXJuO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNhbmRib3hEQi51cHNlcnREYXRhKCdub3RlcGFkJywgbm90ZVBhZERhdGEpO1xuXG4gICAgICBjb25zdCBwYXRoID0gYC9ub3RlcGFkLyR7cmVzdWx0fWA7XG5cbiAgICAgIGFsZXJ0KCfsoIDsnqXrkJjsl4jsirXri4jri6QuJyk7XG4gICAgICBjb25zdCBpY29uQ2hhbmdlRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2ljb25DaGFuZ2UnLCB7XG4gICAgICAgIGRldGFpbDoge1xuICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgbGFiZWw6IG5vdGVQYWREYXRhLnRpdGxlLFxuICAgICAgICAgIGljb25TcmM6IE5vdGVQYWRJY29uLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdteS1pY29ucycpLmRpc3BhdGNoRXZlbnQoaWNvbkNoYW5nZUV2ZW50KTtcblxuICAgICAgaWYgKHRoaXMuaWQgPT09IHJlc3VsdCkge1xuICAgICAgICB0aGlzLnRpdGxlID0gbm90ZVBhZERhdGEudGl0bGUucmVwbGFjZSgvJm5ic3A7L2csICcgJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByb3V0ZXIubmF2aWdhdGVUbyhwYXRoKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGFsZXJ0KCfsoIDsnqXsl5Ag7Iuk7Yyo7ZaI7Iq164uI64ukLicpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGhhbmRsZURlbGV0ZShlKSB7XG4gICAgdHJ5IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBjb25zdCBjb25maXJtUmVzdWx0ID0gd2luZG93LmNvbmZpcm0oJ+ygleunkCDsgq3soJztlZjsi5zqsqDsirXri4jquYw/Jyk7XG4gICAgICBpZiAoIWNvbmZpcm1SZXN1bHQpIHJldHVybjtcblxuICAgICAgYXdhaXQgc2FuZGJveERCLmRlbGV0ZURhdGEoJ25vdGVwYWQnLCB0aGlzLmlkKTtcblxuICAgICAgYWxlcnQoJ+yCreygnOuQmOyXiOyKteuLiOuLpC4nKTtcbiAgICAgIGNvbnN0IGljb25EZWxldGVFdmVudCA9IG5ldyBDdXN0b21FdmVudCgnaWNvbkRlbGV0ZScsIHtcbiAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgcGF0aDogYC9ub3RlcGFkLyR7dGhpcy5pZH1gLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdteS1pY29ucycpLmRpc3BhdGNoRXZlbnQoaWNvbkRlbGV0ZUV2ZW50KTtcbiAgICAgIHJvdXRlci5yZXBsYWNlVG8oJy9ub3RlcGFkJyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBhbGVydCgn7IKt7KCc7JeQIOyLpO2MqO2WiOyKteuLiOuLpC4nKTtcbiAgICB9XG4gIH1cblxuICBnZXROb3RlUGFkRGF0YSgpIHtcbiAgICBjb25zdCBjb250ZW50RWwgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhJyk7XG4gICAgY29uc3QgY29udGVudCA9IGNvbnRlbnRFbC52YWx1ZS50cmltKCk7XG4gICAgaWYgKCFjb250ZW50KSB7XG4gICAgICBhbGVydCgn64K07Jqp7J20IOyXhuyKteuLiOuLpC4nKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGxldCB0aXRsZTtcbiAgICB3aGlsZSAoIXRpdGxlKSB7XG4gICAgICB0aXRsZSA9IHByb21wdCgn7YyM7J2866qF7J2EIOyeheugpe2VmOyEuOyalC4nLCB0aGlzLmRhdGEudGl0bGUucmVwbGFjZSgvJm5ic3A7L2csICcgJykpO1xuICAgICAgaWYgKCF0aXRsZSkge1xuICAgICAgICBjb25zdCBjb25maXJtUmVzdWx0ID0gd2luZG93LmNvbmZpcm0oJ+ygnOuqqeydgCDtlYTsiJjsnoXri4jri6QuJyk7XG4gICAgICAgIGlmICghY29uZmlybVJlc3VsdCkgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgdGl0bGU6IHRpdGxlLnRyaW0oKS5yZXBsYWNlKC8gL2csICcmbmJzcDsnKSxcbiAgICAgIGNvbnRlbnQ6IGNvbnRlbnQucmVwbGFjZSgvIC9nLCAnJm5ic3A7JyksXG4gICAgfTtcbiAgfVxuXG4gIGdldCBpZCgpIHtcbiAgICByZXR1cm4gTnVtYmVyKHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLWlkJykpO1xuICB9XG5cbiAgc2V0IHRpdGxlKHRpdGxlKSB7XG4gICAgdGhpcy5xdWVyeVNlbGVjdG9yKCdteS1ub3RlcGFkLWhlYWRlcicpLnNldEF0dHJpYnV0ZSgndGl0bGUnLCB0aXRsZSk7XG4gIH1cbn1cbiIsImltcG9ydCByb3V0ZXIgZnJvbSAnLi4vLi4vLi4vY29yZS9Sb3V0ZXInO1xuXG5jb25zdCBkaXNhYmxlID0gdHJ1ZTtcblxuY29uc3QgYnV0dG9ucyA9IFtcbiAge1xuICAgIGlkOiAnZmlsZScsXG4gICAgdGl0bGU6ICftjIzsnbwnLFxuICAgIGtleTogJ0YnLFxuICAgIHNsb3RzOiBbXG4gICAgICB7IGlkOiAxLCB0ZXh0OiAn7IOI66GcIOunjOuTpOq4sChOKScsIGtleTogWydDdHJsJywgJ04nXSwgb25DbGljazogaGFuZGxlTmV3Q2xpY2sgfSxcbiAgICAgIHsgaWQ6IDIsIHRleHQ6ICfrgrQg7Lu07ZOo7YSw7JeQIOyggOyepShXKScsIGtleTogWydDdHJsJywgJ1NoaWZ0JywgJ04nXSwgb25DbGljazogaGFuZGxlTG9jYWxTYXZlQ2xpY2sgfSxcbiAgICAgIHsgaWQ6IDMsIHRleHQ6ICfsoIDsnqUoUyknLCBrZXk6IFsnQ3RybCcsICdTJ10sIG9uQ2xpY2s6IGhhbmRsZVNhdmVDbGljayB9LFxuICAgICAgeyBpZDogNCwgdGV4dDogJ+yCreygnChEKScsIGtleTogWydDdHJsJywgJ1NoaWZ0JywgJ1MnXSwgb25DbGljazogaGFuZGxlRGVsZXRlQ2xpY2sgfSxcbiAgICAgIHsgaWQ6IDUsIHRleHQ6ICftjpjsnbTsp4Ag7ISk7KCVKFUpLi4uJywga2V5OiBbXSwgZGlzYWJsZSB9LFxuICAgICAgeyBpZDogNiwgdGV4dDogJ+yduOyHhChQKS4uLicsIGtleTogWydDdHJsJywgJ1AnXSwgZGlzYWJsZSB9LFxuICAgICAgeyBpZDogNywgdGV4dDogJ+uBneuCtOq4sChYKScsIGtleTogW10sIGRpc2FibGUgfSxcbiAgICBdLFxuICB9LFxuICB7XG4gICAgaWQ6ICdlZGl0JyxcbiAgICB0aXRsZTogJ+2OuOynkScsXG4gICAga2V5OiAnRScsXG4gICAgc2xvdHM6IFtcbiAgICAgIHsgaWQ6IDgsIHRleHQ6ICfsi6Ttlokg7Leo7IaMKFUpJywga2V5OiBbJ0N0cmwnLCAnWiddLCBkaXNhYmxlIH0sXG4gICAgICB7IGlkOiA5LCB0ZXh0OiAn7J6Y652864K06riwKFQpJywga2V5OiBbJ0N0cmwnLCAnWCddLCBkaXNhYmxlIH0sXG4gICAgICB7IGlkOiAxMCwgdGV4dDogJ+uzteyCrChDKScsIGtleTogWydDdHJsJywgJ0MnXSwgZGlzYWJsZSB9LFxuICAgICAgeyBpZDogMTEsIHRleHQ6ICfrtpnsl6zrhKPquLAoUCknLCBrZXk6IFsnQ3RybCcsICdWJ10sIGRpc2FibGUgfSxcbiAgICAgIHsgaWQ6IDEyLCB0ZXh0OiAn7IKt7KCcKEQpJywga2V5OiBbJ0RlbCddLCBkaXNhYmxlIH0sXG4gICAgICB7IGlkOiAxMywgdGV4dDogJ0JpbmfsnLzroZwg6rKA7IOJKFMpLi4uJywga2V5OiBbJ0N0cmwnLCAnRSddLCBkaXNhYmxlIH0sXG4gICAgICB7IGlkOiAxNCwgdGV4dDogJ+ywvuq4sChGKS4uLicsIGtleTogWydDdHJsJywgJ0YnXSwgZGlzYWJsZSB9LFxuICAgICAgeyBpZDogMTUsIHRleHQ6ICfri6TsnYwg7LC+6riwKE4pJywga2V5OiBbJ0YzJ10sIGRpc2FibGUgfSxcbiAgICAgIHsgaWQ6IDE2LCB0ZXh0OiAn7J207KCEIOywvuq4sChWKScsIGtleTogWydTaGlmdCcsICdGMyddLCBkaXNhYmxlIH0sXG4gICAgICB7IGlkOiAxNywgdGV4dDogJ+uwlOq+uOq4sChSKS4uLicsIGtleTogWydDdHJsJywgJ0gnXSwgZGlzYWJsZSB9LFxuICAgICAgeyBpZDogMTgsIHRleHQ6ICfsnbTrj5koRykuLi4nLCBrZXk6IFsnQ3RybCcsICdHJ10sIGRpc2FibGUgfSxcbiAgICAgIHsgaWQ6IDE5LCB0ZXh0OiAn66qo65GQIOyEoO2DnShBKScsIGtleTogWydDdHJsJywgJ0EnXSwgZGlzYWJsZSB9LFxuICAgICAgeyBpZDogMjAsIHRleHQ6ICfsi5zqsIQv64Kg7KecKEQpJywga2V5OiBbJ0Y1J10sIGRpc2FibGUgfSxcbiAgICBdLFxuICB9LFxuICB7XG4gICAgaWQ6ICdmb3JtYXQnLFxuICAgIHRpdGxlOiAn7ISc7IudJyxcbiAgICBrZXk6ICdPJyxcbiAgICBzbG90czogW1xuICAgICAgeyBpZDogMjEsIHRleHQ6ICfsnpDrj5kg7KSEIOuwlOq/iChXKScsIGtleTogW10sIGRpc2FibGUgfSxcbiAgICAgIHsgaWQ6IDIyLCB0ZXh0OiAn6riA6ry0KEYpLi4uJywga2V5OiBbXSwgZGlzYWJsZSB9LFxuICAgIF0sXG4gIH0sXG4gIHtcbiAgICBpZDogJ3ZpZXcnLFxuICAgIHRpdGxlOiAn67O06riwJyxcbiAgICBrZXk6ICdWJyxcbiAgICBzbG90czogW1xuICAgICAgeyBpZDogMjMsIHRleHQ6ICftmZXrjIDtlZjquLAoWiknLCBrZXk6IFsnQ3RybCcsICcrJ10sIGRpc2FibGUgfSxcbiAgICAgIHsgaWQ6IDI0LCB0ZXh0OiAn7LaV7IaM7ZWY6riwKFgpJywga2V5OiBbJ0N0cmwnLCAnLSddLCBkaXNhYmxlIH0sXG4gICAgICB7IGlkOiAyNSwgdGV4dDogJ+yDge2DnCDtkZzsi5zspIQoUyknLCBrZXk6IFtdLCBkaXNhYmxlIH0sXG4gICAgXSxcbiAgfSxcbiAge1xuICAgIGlkOiAnaGVscCcsXG4gICAgdGl0bGU6ICfrj4Tsm4Drp5AnLFxuICAgIGtleTogJ0gnLFxuICAgIHNsb3RzOiBbXG4gICAgICB7IGlkOiAyNiwgdGV4dDogJ+uPhOybgOunkCDrs7TquLAoSCknLCBrZXk6IFtdLCBkaXNhYmxlIH0sXG4gICAgICB7IGlkOiAyNywgdGV4dDogJ+2UvOuTnOuwsSDrs7TrgrTquLAoRiknLCBrZXk6IFtdLCBkaXNhYmxlIH0sXG4gICAgICB7IGlkOiAyOCwgdGV4dDogJ+uplOuqqOyepSDsoJXrs7QoQSknLCBrZXk6IFtdLCBkaXNhYmxlIH0sXG4gICAgXSxcbiAgfSxcbl07XG5cbmNvbnN0IHNsb3RzID0gYnV0dG9ucy5yZWR1Y2UoKGFjYywgY3VyKSA9PiB7XG4gIHJldHVybiBbLi4uYWNjLCAuLi5jdXIuc2xvdHNdO1xufSwgW10pO1xuXG5leHBvcnQgZGVmYXVsdCBidXR0b25zO1xuZXhwb3J0IHsgc2xvdHMgfTtcblxuZnVuY3Rpb24gaGFuZGxlU2F2ZUNsaWNrKCkge1xuICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdzYXZlJywgeyBidWJibGVzOiB0cnVlIH0pKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlTG9jYWxTYXZlQ2xpY2soKSB7XG4gIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2xvY2FsU2F2ZScsIHsgYnViYmxlczogdHJ1ZSB9KSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNsaWNrKCkge1xuICBjb25zdCBub3RlcGFkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbXktbm90ZXBhZCcpO1xuICBpZiAoIW5vdGVwYWQuZ2V0QXR0cmlidXRlKCdkYXRhLWlkJykpIHJldHVybjtcbiAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnZGVsZXRlJywgeyBidWJibGVzOiB0cnVlIH0pKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlTmV3Q2xpY2soKSB7XG4gIGNvbnN0IG5vdGVwYWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdteS1ub3RlcGFkJyk7XG4gIGlmICghbm90ZXBhZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKSkge1xuICAgIG5vdGVwYWQucmVuZGVyKCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHJvdXRlci5uYXZpZ2F0ZVRvKCcvbm90ZXBhZCcpO1xufVxuIiwiaW1wb3J0IHsgaHRtbCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3V0aWxzJztcclxuaW1wb3J0IFdlYkNvbXBvbmVudCBmcm9tICcuLi8uLi8uLi9jb3JlL1dlYkNvbXBvbmVudCc7XHJcbmltcG9ydCBidXR0b25zLCB7IHNsb3RzIH0gZnJvbSAnLi4vY29uc3QvYnV0dG9ucyc7XHJcbmltcG9ydCBOb3RlUGFkSWNvbiBmcm9tICcuLi8uLi8uLi8uLi9wdWJsaWMvbm90ZXBhZC5wbmcnO1xyXG5pbXBvcnQgcm91dGVyIGZyb20gJy4uLy4uLy4uL2NvcmUvUm91dGVyJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5vdGVQYWRIZWFkZXIgZXh0ZW5kcyBXZWJDb21wb25lbnQge1xyXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xyXG4gICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcclxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNsaWNrKTtcclxuICB9XHJcblxyXG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xyXG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2spO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7XHJcbiAgICByZXR1cm4gWyd0aXRsZSddO1xyXG4gIH1cclxuXHJcbiAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKG5hbWUsIG9sZFZhbHVlLCBuZXdWYWx1ZSkge1xyXG4gICAgaWYgKG5hbWUgPT09ICd0aXRsZScgJiYgb2xkVmFsdWUpIHtcclxuICAgICAgdGhpcy5xdWVyeVNlbGVjdG9yKCcjdGl0bGUnKS5pbm5lclRleHQgPSBuZXdWYWx1ZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGluamVjdEhUTUwoKSB7XHJcbiAgICByZXR1cm4gaHRtbGBcclxuICAgICAgPGhlYWRlcj5cclxuICAgICAgICA8c3Bhbj5cclxuICAgICAgICAgIDxpbWcgYWx0PVwibm90ZXBhZF9pY29uXCIgc3JjPSR7Tm90ZVBhZEljb259IC8+XHJcbiAgICAgICAgICA8c3BhbiBpZD1cInRpdGxlXCI+JHt0aGlzLnRpdGxlfTwvc3Bhbj4gLSBXaW5kb3dzIOuplOuqqOyepVxyXG4gICAgICAgIDwvc3Bhbj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwidmlld19idXR0b25zXCI+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwidmlld19idXR0b25cIiBpZD1cIm1pbmlcIj7wn5eVPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwidmlld19idXR0b25cIiBpZD1cImZ1bGxcIj7wn5eWPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwidmlld19idXR0b25cIiBpZD1cImNsb3NlXCI+4oWpPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvaGVhZGVyPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiZWRpdF9idXR0b25zXCI+XHJcbiAgICAgICAgJHtidXR0b25zXHJcbiAgICAgICAgICAubWFwKFxyXG4gICAgICAgICAgICAoYnV0dG9uKSA9PiBodG1sYFxyXG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJlZGl0X2J1dHRvblwiPlxyXG4gICAgICAgICAgICAgICAgJHtidXR0b24udGl0bGV9KDx1PiR7YnV0dG9uLmtleX08L3U+KVxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBvcHVwXCI+XHJcbiAgICAgICAgICAgICAgICAgICR7YnV0dG9uLnNsb3RzXHJcbiAgICAgICAgICAgICAgICAgICAgLm1hcChcclxuICAgICAgICAgICAgICAgICAgICAgIChzbG90KSA9PiBodG1sYFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3ViXCIgZGF0YS1pZD1cIiR7c2xvdC5pZH1cIiBkYXRhLWRpc2FibGU9XCIkeyEhc2xvdC5kaXNhYmxlfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+JHtzbG90LnRleHR9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJHtzbG90LmtleS5sZW5ndGggPiAwID8gYDxkaXY+JHtzbG90LmtleS5qb2luKCcgKyAnKX08L2Rpdj5gIDogJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgYFxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAuam9pbignJyl9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgYFxyXG4gICAgICAgICAgKVxyXG4gICAgICAgICAgLmpvaW4oJycpfVxyXG4gICAgICA8L2Rpdj5cclxuICAgIGA7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVDbGljayhlKSB7XHJcbiAgICBjb25zdCB2aWV3QnV0dG9uID0gZS50YXJnZXQuY2xvc2VzdCgnLnZpZXdfYnV0dG9uJyk7XHJcbiAgICBjb25zdCBlZGl0QnV0dG9uID0gZS50YXJnZXQuY2xvc2VzdCgnLmVkaXRfYnV0dG9uJyk7XHJcbiAgICBjb25zdCBzdWIgPSBlLnRhcmdldC5jbG9zZXN0KCcuc3ViJyk7XHJcblxyXG4gICAgaWYgKHZpZXdCdXR0b24pIHtcclxuICAgICAgdGhpcy5jbGlja1ZpZXdCdXR0b24odmlld0J1dHRvbik7XHJcbiAgICB9IGVsc2UgaWYgKGVkaXRCdXR0b24pIHtcclxuICAgICAgdGhpcy5jbGlja0VkaXRCdXR0b24oZWRpdEJ1dHRvbiwgc3ViKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuY2xvc2VQb3B1cCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY2xpY2tWaWV3QnV0dG9uKHZpZXdCdXR0b24pIHtcclxuICAgIHN3aXRjaCAodmlld0J1dHRvbi5pZCkge1xyXG4gICAgICBjYXNlICdmdWxsJzpcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgnZnVsbHNjcmVlbicpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdtaW5pJzpcclxuICAgICAgY2FzZSAnY2xvc2UnOlxyXG4gICAgICAgIHJvdXRlci5iYWNrKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjbGlja0VkaXRCdXR0b24oZWRpdEJ1dHRvbiwgc3ViKSB7XHJcbiAgICBpZiAoc3ViKSB7XHJcbiAgICAgIGNvbnN0IHNsb3RJZCA9IE51bWJlcihzdWIuZGF0YXNldC5pZCk7XHJcbiAgICAgIGNvbnN0IHsgb25DbGljayB9ID0gc2xvdHMuZmluZCgoc2xvdCkgPT4gc2xvdC5pZCA9PT0gc2xvdElkKSB8fCB7fTtcclxuICAgICAgaWYgKG9uQ2xpY2spIHtcclxuICAgICAgICBvbkNsaWNrLmNhbGwodGhpcyk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMudG9nZ2xlUG9wdXAoZWRpdEJ1dHRvbik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB0b2dnbGVQb3B1cChlZGl0QnV0dG9uKSB7XHJcbiAgICBjb25zdCBwb3B1cCA9IGVkaXRCdXR0b24ucXVlcnlTZWxlY3RvcignLnBvcHVwJyk7XHJcbiAgICBpZiAocG9wdXAuY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93JykpIHtcclxuICAgICAgcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5jbG9zZVBvcHVwKCk7XHJcbiAgICAgIHBvcHVwLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNsb3NlUG9wdXAoKSB7XHJcbiAgICBjb25zdCBwb3B1cCA9IHRoaXMucXVlcnlTZWxlY3RvcignLnBvcHVwLnNob3cnKTtcclxuICAgIHBvcHVwPy5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7XHJcbiAgfVxyXG5cclxuICBnZXQgdGl0bGUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoJ3RpdGxlJyk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCAnLi9zdHlsZS5zY3NzJztcclxuaW1wb3J0IHNhbmRib3hEQiBmcm9tICcuL2NvcmUvSW5kZXhlZERCJztcclxuaW1wb3J0IEFwcCBmcm9tICcuL0FwcCc7XHJcbmltcG9ydCBGb290ZXIgZnJvbSAnLi92aWV3L0NvbW1vbi9Gb290ZXInO1xyXG5pbXBvcnQgSG9tZSBmcm9tICcuL3ZpZXcvSG9tZSc7XHJcbmltcG9ydCBUZXRyaXMgZnJvbSAnLi92aWV3L1RldHJpcyc7XHJcbmltcG9ydCBGbGFwcHlCaXJkIGZyb20gJy4vdmlldy9GbGFwcHlCaXJkJztcclxuaW1wb3J0IEljb25zIGZyb20gJy4vdmlldy9Db21tb24vSWNvbnMnO1xyXG5pbXBvcnQgSWNvbiBmcm9tICcuL3ZpZXcvQ29tbW9uL0ljb24nO1xyXG5pbXBvcnQgTm90ZVBhZCBmcm9tICcuL3ZpZXcvTm90ZVBhZCc7XHJcbmltcG9ydCBOb3RlUGFkSGVhZGVyIGZyb20gJy4vdmlldy9Ob3RlUGFkL2NvbXBvbmVudHMvTm90ZVBhZEhlYWRlcic7XHJcbmltcG9ydCByb3V0ZXIgZnJvbSAnLi9jb3JlL1JvdXRlcic7XHJcblxyXG4oYXN5bmMgKCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBhd2FpdCBzYW5kYm94REIub3BlbkRCKCk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcXVldWVNaWNyb3Rhc2soKCkgPT4gYWxlcnQoJ0luZGV4ZWREQuulvCDsgqzsmqntlaAg7IiYIOyXhuyKteuLiOuLpC4nKSk7XHJcbiAgfVxyXG5cclxuICBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ215LWFwcCcsIEFwcCk7XHJcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdteS1mb290ZXInLCBGb290ZXIpO1xyXG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbXktaG9tZScsIEhvbWUpO1xyXG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbXktdGV0cmlzJywgVGV0cmlzKTtcclxuICBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ215LWZsYXBweWJpcmQnLCBGbGFwcHlCaXJkKTtcclxuICBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ215LWljb25zJywgSWNvbnMpO1xyXG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbXktaWNvbicsIEljb24pO1xyXG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbXktbm90ZXBhZCcsIE5vdGVQYWQpO1xyXG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbXktbm90ZXBhZC1oZWFkZXInLCBOb3RlUGFkSGVhZGVyKTtcclxufSkoKTtcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4gcm91dGVyLnJlbmRlcigpKTtcclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgKCkgPT4gcm91dGVyLnJlbmRlcigpKTtcclxuIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJkYiIsImNvbnN0cnVjdG9yIiwiZGJOYW1lIiwiZGJWZXJzaW9uIiwic3RvcmVzIiwidGhpcyIsImFzeW5jIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJyZXF1ZXN0Iiwid2luZG93IiwiaW5kZXhlZERCIiwib3BlbiIsIm9uc3VjY2VzcyIsInJlc3VsdCIsIm9uZXJyb3IiLCJlIiwib251cGdyYWRlbmVlZGVkIiwiZm9yRWFjaCIsInN0b3JlIiwib2JqZWN0U3RvcmVOYW1lcyIsImNvbnRhaW5zIiwiZGVsZXRlT2JqZWN0U3RvcmUiLCJjcmVhdGVPYmplY3RTdG9yZSIsImtleVBhdGgiLCJzdG9yZU5hbWUiLCJpZCIsInRyYW5zYWN0aW9uIiwib2JqZWN0U3RvcmUiLCJnZXQiLCJnZXRBbGwiLCJkYXRhIiwibW9kaWZpZWREYXRhIiwiRGF0ZSIsImdldFRpbWUiLCJwdXQiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJkZWxldGUiLCJyZW5kZXJSYXciLCJzdHJpbmciLCJ2YWx1ZXMiLCJTdHJpbmciLCJyYXciLCJXZWJDb21wb25lbnQiLCJIVE1MRWxlbWVudCIsImNvbm5lY3RlZENhbGxiYWNrIiwicmVuZGVyIiwiaW5uZXJIVE1MIiwiaW5qZWN0SFRNTCIsIkFwcCIsIkJBU0VfVVJMIiwicm91dGVzIiwicGF0aCIsImh0bWwiLCJsYWJlbCIsImljb25TcmMiLCJtYWluSWNvbnMiLCJyZWR1Y2UiLCJwcmV2Iiwicm91dGVyIiwiZ2V0TG9jYWxJY29ucyIsImljb24iLCJ0aXRsZSIsInJvdXRlIiwicGF0aFRvUmVnZXhwIiwiUmVnRXhwIiwicmVwbGFjZSIsImN1cnJlbnRQYXRoIiwibG9jYXRpb24iLCJwYXRobmFtZSIsImZpbmQiLCJ2YWx1ZSIsImdldFVybEZyb20iLCJ0ZXN0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZ2V0SWRGcm9tUGF0aCIsInJlcGxhY2VUbyIsIm1hdGNoIiwibmF2aWdhdGVUbyIsInVybCIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJyZXBsYWNlU3RhdGUiLCJiYWNrIiwiRm9vdGVyIiwic3VwZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlQ2xpY2siLCJiaW5kIiwiam9pbiIsInRhcmdldCIsImNsb3Nlc3QiLCJkYXRhc2V0IiwiSG9tZSIsIlRldHJpcyIsIkZsYXBweUJpcmQiLCJJY29ucyIsImljb25zIiwiaGFuZGxlRG91YmxlQ2xpY2siLCJoYW5kbGVLZXlEb3duIiwiaGFuZGxlSWNvbkNoYW5nZSIsImhhbmRsZUljb25EZWxldGUiLCJvYnNlcnZlZEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2siLCJuYW1lIiwib2xkVmFsdWUiLCJuZXdWYWx1ZSIsIm1hcCIsIkpTT04iLCJwYXJzZSIsImdldEF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsInN0cmluZ2lmeSIsInRvZ2dsZUF0dHJpYnV0ZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJub2RlIiwicmVtb3ZlQXR0cmlidXRlIiwiY2hlY2tlZEVsIiwia2V5IiwibGVuZ3RoIiwiZGV0YWlsIiwicHJldkljb25JbmRleCIsImZpbmRJbmRleCIsIm5ld0ljb25zIiwiZmlsdGVyIiwiSWNvbiIsImljb25zcmMiLCJOb3RlUGFkIiwiY29udGVudCIsImhhbmRsZVNhdmUiLCJoYW5kbGVMb2NhbFNhdmUiLCJoYW5kbGVEZWxldGUiLCJkaXNjb25uZWN0ZWRDYWxsYmFjayIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJwcmV2ZW50RGVmYXVsdCIsIm5vdGVQYWREYXRhIiwiZ2V0Tm90ZVBhZERhdGEiLCJibG9iIiwiQmxvYiIsInR5cGUiLCJsaW5rIiwiY3JlYXRlRWxlbWVudCIsImhyZWYiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJkb3dubG9hZCIsImNsaWNrIiwic3RvcFByb3BhZ2F0aW9uIiwiYWxlcnQiLCJpY29uQ2hhbmdlRXZlbnQiLCJDdXN0b21FdmVudCIsImRpc3BhdGNoRXZlbnQiLCJlcnIiLCJjb25maXJtIiwiaWNvbkRlbGV0ZUV2ZW50IiwidHJpbSIsInByb21wdCIsIk51bWJlciIsImRpc2FibGUiLCJidXR0b25zIiwic2xvdHMiLCJ0ZXh0Iiwib25DbGljayIsIm5vdGVwYWQiLCJidWJibGVzIiwiYWNjIiwiY3VyIiwiTm90ZVBhZEhlYWRlciIsImlubmVyVGV4dCIsImJ1dHRvbiIsInNsb3QiLCJ2aWV3QnV0dG9uIiwiZWRpdEJ1dHRvbiIsInN1YiIsImNsaWNrVmlld0J1dHRvbiIsImNsaWNrRWRpdEJ1dHRvbiIsImNsb3NlUG9wdXAiLCJwYXJlbnRFbGVtZW50IiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwic2xvdElkIiwiY2FsbCIsInRvZ2dsZVBvcHVwIiwicG9wdXAiLCJyZW1vdmUiLCJhZGQiLCJxdWV1ZU1pY3JvdGFzayIsImN1c3RvbUVsZW1lbnRzIiwiZGVmaW5lIl0sInNvdXJjZVJvb3QiOiIifQ==