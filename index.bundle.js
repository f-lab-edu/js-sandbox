(()=>{"use strict";var e="/js-sandbox/";const t=new class{db;constructor(e,t,i){this.dbName=e,this.dbVersion=t,this.stores=i}async openDB(){return new Promise(((e,t)=>{const i=window.indexedDB.open(this.dbName,this.dbVersion);i.onsuccess=()=>{this.db=i.result,e()},i.onerror=e=>{t(e)},i.onupgradeneeded=()=>{this.db=i.result,this.stores.forEach((e=>{this.db.objectStoreNames.contains(e)&&this.db.deleteObjectStore(e),this.db.createObjectStore(e,{keyPath:"id"})}))}}))}async getData(e,t){return new Promise(((i,n)=>{const s=this.db.transaction(e,"readonly").objectStore(e).get(t);s.onsuccess=()=>{i(s.result)},s.onerror=e=>{n(e)}}))}async getAllData(e){return new Promise(((t,i)=>{const n=this.db.transaction(e,"readonly").objectStore(e).getAll();n.onsuccess=()=>{t(n.result)},n.onerror=e=>{i(e)}}))}async upsertData(e,t){return new Promise(((i,n)=>{const s=this.db.transaction(e,"readwrite").objectStore(e),a={...t,id:t.id||(new Date).getTime()},o=s.put(a);o.onsuccess=()=>{i(o.result)},o.onerror=()=>{console.log(o.error),n(o.error)}}))}async deleteData(e,t){return new Promise(((i,n)=>{const s=this.db.transaction(e,"readwrite").objectStore(e).delete(t);s.onsuccess=()=>{i(!0)},s.onerror=e=>{n(e)}}))}}("sandboxDB",2,["notepad"]),i=(e,...t)=>String.raw(e,...t);class n extends HTMLElement{connectedCallback(){this.render()}render(){this.innerHTML=this.injectHTML()}injectHTML(){return""}}class s extends n{injectHTML(){return i`
      <div id="page"></div>
      <my-icons tabindex="-1"></my-icons>
      <my-footer></my-footer>
    `}}const a=e+"2a583f97b153f7da7d41.png",o="/js-sandbox",c=[{path:"/",html:i`<my-home></my-home>`,label:"Home",iconSrc:null},{path:"/tetris",html:i`<my-tetris></my-tetris>`,label:"Tetris",iconSrc:e+"71c0bea6462001116fcf.png"},{path:"/flappybird",html:i`<my-flappybird></my-flappybird>`,label:"Flappy&nbsp;Bird",iconSrc:e+"39b884119b49599495ed.png"},{path:"/notepad",html:i`<my-notepad></my-notepad>`,label:"Note&nbsp;Pad",iconSrc:a},{path:"/notepad/:id",html:i`<my-notepad data-id=":id"></my-notepad>`,label:"Note&nbsp;Pad",iconSrc:null}],l=c.reduce(((e,t)=>{const{path:i,label:n,iconSrc:s}=t;return t.iconSrc?[...e,{path:i,label:n,iconSrc:s}]:e}),[]),r=async()=>[...(await t.getAllData("notepad")).reduce(((e,t)=>{const{id:i,title:n}=t;return[...e,{path:`/notepad/${i}`,label:n,iconSrc:a}]}),[])],d=c,h=new class{constructor(e){this.routes=e}pathToRegexp(e){return new RegExp(`^${e.replace(/\//g,"\\/").replace(/:\w+/g,"(.+)")}$`)}render(){const e=window.location.pathname,t=this.routes.find((t=>this.pathToRegexp(this.getUrlFrom(t.path)).test(e)));t?document.querySelector("#page").innerHTML=t.html.replace(":id",this.getIdFromPath(e)):this.replaceTo("/")}getIdFromPath(e){return e.match(/\d+/)?.[0]}navigateTo(e){this.getUrlFrom(e)!==window.location.pathname&&(window.history.pushState(null,null,o+e),this.render())}replaceTo(e){window.history.replaceState(null,null,o+e),this.render()}getUrlFrom(e){return`${o}${e}`}back(){window.history.back(),this.render()}}(d),p=e+"59cb65e4f8f2627d6c2c.png",u=e+"bc8d31a2338dd0b3f68a.png";class b extends n{connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.handleClick.bind(this))}injectHTML(){return i`
      <img alt="window_logo" src=${p} class="window_icon" />
      <div class="input_box">
        <img alt="search" src=${u} class="window_icon" /><input type="text" placeholder="Ï∞æÍ∏∞" />
      </div>
      ${l.map((e=>i` <my-icon data-path="${e.path}" data-iconSrc="${e.iconSrc}"></my-icon> `)).join("")}
    `}handleClick(e){if(!e.target.closest("my-icon"))return;const t=e.target.closest("my-icon");h.navigateTo(t.dataset.path)}}class m extends n{}class y extends n{injectHTML(){return i`
      <h1>Tetris</h1>
      <p>You are viewing the Tetris component!</p>
    `}}class g extends n{injectHTML(){return i`
      <h1>Flappy Bird</h1>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
    `}}class v extends n{async connectedCallback(){this.icons=[...l,...await r()],super.connectedCallback(),this.addEventListener("click",this.handleClick),this.addEventListener("dblclick",this.handleDoubleClick),this.addEventListener("keydown",this.handleKeyDown),this.addEventListener("iconChange",this.handleIconChange),this.addEventListener("iconDelete",this.handleIconDelete)}static get observedAttributes(){return["icons"]}attributeChangedCallback(e,t,i){t!==i&&this.render()}injectHTML(){return i`
      ${this.icons.map((e=>i`
            <my-icon data-path=${e.path} data-label=${e.label} data-iconSrc=${e.iconSrc}></my-icon>
          `)).join("")}
    `}get icons(){return JSON.parse(this.getAttribute("icons"))}set icons(e){this.setAttribute("icons",JSON.stringify(e))}handleClick(e){if(!e.target.closest("my-icon"))return;const t=e.target.closest("my-icon");t.toggleAttribute("checked"),this.querySelectorAll("my-icon").forEach((e=>{e!==t&&e.removeAttribute("checked")}))}handleDoubleClick(e){if(!e.target.closest("my-icon"))return;const t=e.target.closest("my-icon");h.navigateTo(t.dataset.path)}handleKeyDown(e){const t=this.querySelectorAll("my-icon[checked]");if("Enter"===e.key){if(t.length>1)return;if(!t)return;h.navigateTo(t[0].dataset.path)}}handleIconChange(e){const{path:t,label:i,iconSrc:n}=e.detail,s=this.icons.findIndex((e=>e.path===t));if(-1===s)this.icons=[...this.icons,{path:t,label:i,iconSrc:n}];else{const e=[...this.icons];e[s]={path:t,label:i,iconSrc:n},this.icons=e}}handleIconDelete(e){const{path:t}=e.detail;this.icons=this.icons.filter((e=>e.path!==t))}}class k extends n{injectHTML(){const{label:e,iconsrc:t}=this.dataset;return i`
      <img alt="${e}_icon" src=${t} />
      ${e?`<span class="icon_name">${e}</span>`:""}
    `}}class w extends n{async connectedCallback(){this.data=await t.getData("notepad",this.id)??{title:"Ï†úÎ™©ÏóÜÏùå",content:""},super.connectedCallback(),this.addEventListener("save",this.handleSave),this.addEventListener("localSave",this.handleLocalSave),this.addEventListener("delete",this.handleDelete)}disconnectedCallback(){this.removeEventListener("save",this.handleSave),this.removeEventListener("localSave",this.handleLocalSave),this.removeEventListener("delete",this.handleDelete)}injectHTML(){const{title:e,content:t}=this.data;return i`
      <my-notepad-header title=${e}></my-notepad-header>
      <textarea>${t}</textarea>
    `}handleLocalSave(e){e.preventDefault();const t=this.getNotePadData();if(!t)return;const i=new Blob([t.content],{type:"text/plain"}),n=document.createElement("a");n.href=URL.createObjectURL(i),n.download=`${t.title}.txt`,n.click()}async handleSave(e){e.stopPropagation();const i=this.getNotePadData();if(i)try{const e=await t.upsertData("notepad",i),n=`/notepad/${e}`;alert("Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§.");const s=new CustomEvent("iconChange",{detail:{path:n,label:i,iconSrc:a}});document.querySelector("my-icons").dispatchEvent(s),this.id===e?this.title=i.title.replace(/&nbsp/g," "):h.navigateTo(n)}catch(e){alert("Ï†ÄÏû•Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.")}}async handleDelete(e){try{if(e.stopPropagation(),!window.confirm("Ï†ïÎßê ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?"))return;await t.deleteData("notepad",this.id),alert("ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§.");const i=new CustomEvent("iconDelete",{detail:{path:`/notepad/${this.id}`}});document.querySelector("my-icons").dispatchEvent(i),h.replaceTo("/notepad")}catch(e){alert("ÏÇ≠Ï†úÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.")}}getNotePadData(){const e=this.querySelector("textarea").value.trim();if(!e)return alert("ÎÇ¥Ïö©Ïù¥ ÏóÜÏäµÎãàÎã§."),null;let t;for(;!t;)if(!(t=prompt("ÌååÏùºÎ™ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî.",this.data.title.replace(/&nbsp;/g," ")),t||window.confirm("Ï†úÎ™©ÏùÄ ÌïÑÏàòÏûÖÎãàÎã§.")))return null;return{id:this.id,title:t.trim().replace(/ /g,"&nbsp;"),content:e.replace(/ /g,"&nbsp;")}}get id(){return Number(this.getAttribute("data-id"))}set title(e){this.querySelector("my-notepad-header").setAttribute("title",e)}}const f=!0,S=[{id:"file",title:"ÌååÏùº",key:"F",slots:[{id:1,text:"ÏÉàÎ°ú ÎßåÎì§Í∏∞(N)",key:["Ctrl","N"],onClick:function(){const e=document.querySelector("my-notepad");e["data-id"]?h.navigateTo("/notepad"):e.render()}},{id:2,text:"ÎÇ¥ Ïª¥Ìì®ÌÑ∞Ïóê Ï†ÄÏû•(W)",key:["Ctrl","Shift","N"],onClick:function(){this.dispatchEvent(new CustomEvent("localSave",{bubbles:!0}))}},{id:3,text:"Ï†ÄÏû•(S)",key:["Ctrl","S"],onClick:function(){this.dispatchEvent(new CustomEvent("save",{bubbles:!0}))}},{id:4,text:"ÏÇ≠Ï†ú(D)",key:["Ctrl","Shift","S"],onClick:function(){document.querySelector("my-notepad")["data-id"]&&this.dispatchEvent(new CustomEvent("delete",{bubbles:!0}))}},{id:5,text:"ÌéòÏù¥ÏßÄ ÏÑ§Ï†ï(U)...",key:[],disable:f},{id:6,text:"Ïù∏ÏáÑ(P)...",key:["Ctrl","P"],disable:f},{id:7,text:"ÎÅùÎÇ¥Í∏∞(X)",key:[],disable:f}]},{id:"edit",title:"Ìé∏Ïßë",key:"E",slots:[{id:8,text:"Ïã§Ìñâ Ï∑®ÏÜå(U)",key:["Ctrl","Z"],disable:f},{id:9,text:"ÏûòÎùºÎÇ¥Í∏∞(T)",key:["Ctrl","X"],disable:f},{id:10,text:"Î≥µÏÇ¨(C)",key:["Ctrl","C"],disable:f},{id:11,text:"Î∂ôÏó¨ÎÑ£Í∏∞(P)",key:["Ctrl","V"],disable:f},{id:12,text:"ÏÇ≠Ï†ú(D)",key:["Del"],disable:f},{id:13,text:"BingÏúºÎ°ú Í≤ÄÏÉâ(S)...",key:["Ctrl","E"],disable:f},{id:14,text:"Ï∞æÍ∏∞(F)...",key:["Ctrl","F"],disable:f},{id:15,text:"Îã§Ïùå Ï∞æÍ∏∞(N)",key:["F3"],disable:f},{id:16,text:"Ïù¥Ï†Ñ Ï∞æÍ∏∞(V)",key:["Shift","F3"],disable:f},{id:17,text:"Î∞îÍæ∏Í∏∞(R)...",key:["Ctrl","H"],disable:f},{id:18,text:"Ïù¥Îèô(G)...",key:["Ctrl","G"],disable:f},{id:19,text:"Î™®Îëê ÏÑ†ÌÉù(A)",key:["Ctrl","A"],disable:f},{id:20,text:"ÏãúÍ∞Ñ/ÎÇ†Ïßú(D)",key:["F5"],disable:f}]},{id:"format",title:"ÏÑúÏãù",key:"O",slots:[{id:21,text:"ÏûêÎèô Ï§Ñ Î∞îÍøà(W)",key:[],disable:f},{id:22,text:"Í∏ÄÍº¥(F)...",key:[],disable:f}]},{id:"view",title:"Î≥¥Í∏∞",key:"V",slots:[{id:23,text:"ÌôïÎåÄÌïòÍ∏∞(Z)",key:["Ctrl","+"],disable:f},{id:24,text:"Ï∂ïÏÜåÌïòÍ∏∞(X)",key:["Ctrl","-"],disable:f},{id:25,text:"ÏÉÅÌÉú ÌëúÏãúÏ§Ñ(S)",key:[],disable:f}]},{id:"help",title:"ÎèÑÏõÄÎßê",key:"H",slots:[{id:26,text:"ÎèÑÏõÄÎßê Î≥¥Í∏∞(H)",key:[],disable:f},{id:27,text:"ÌîºÎìúÎ∞± Î≥¥ÎÇ¥Í∏∞(F)",key:[],disable:f},{id:28,text:"Î©îÎ™®Ïû• Ï†ïÎ≥¥(A)",key:[],disable:f}]}],x=S.reduce(((e,t)=>[...e,...t.slots]),[]),C=S;class E extends n{connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.handleClick)}disconnectedCallback(){this.removeEventListener("click",this.handleClick)}static get observedAttributes(){return["title"]}attributeChangedCallback(e,t,i){"title"===e&&t&&(this.querySelector("#title").innerText=i)}injectHTML(){return i`
      <header>
        <span>
          <img alt="notepad_icon" src=${a} />
          <span id="title">${this.title}</span> - Windows Î©îÎ™®Ïû•
        </span>
        <div class="view_buttons">
          <button class="view_button" id="mini">üóï</button>
          <button class="view_button" id="full">üóñ</button>
          <button class="view_button" id="close">‚Ö©</button>
        </div>
      </header>
      <div class="edit_buttons">
        ${C.map((e=>i`
              <button class="edit_button">
                ${e.title}(<u>${e.key}</u>)
                <div class="popup">
                  ${e.slots.map((e=>i`
                        <div class="sub" data-id="${e.id}" data-disable="${!!e.disable}">
                          <div>${e.text}</div>
                          ${e.key.length>0?`<div>${e.key.join(" + ")}</div>`:""}
                        </div>
                      `)).join("")}
                </div>
              </button>
            `)).join("")}
      </div>
    `}handleClick(e){const t=e.target.closest(".view_button"),i=e.target.closest(".edit_button"),n=e.target.closest(".sub");t?this.clickViewButton(t):i?this.clickEditButton(i,n):this.closePopup()}clickViewButton(e){switch(e.id){case"full":this.parentElement.classList.toggle("fullscreen");break;case"mini":case"close":h.back()}}clickEditButton(e,t){if(t){const e=Number(t.dataset.id),{onClick:i}=x.find((t=>t.id===e))||{};i&&i.call(this)}else this.togglePopup(e)}togglePopup(e){const t=e.querySelector(".popup");t.classList.contains("show")?t.classList.remove("show"):(this.closePopup(),t.classList.add("show"))}closePopup(){const e=this.querySelector(".popup.show");e?.classList.remove("show")}get title(){return this.getAttribute("title")}}(async()=>{try{await t.openDB()}catch(e){queueMicrotask((()=>alert("IndexedDBÎ•º ÏÇ¨Ïö©Ìï† Ïàò ÏóÜÏäµÎãàÎã§.")))}customElements.define("my-app",s),customElements.define("my-footer",b),customElements.define("my-home",m),customElements.define("my-tetris",y),customElements.define("my-flappybird",g),customElements.define("my-icons",v),customElements.define("my-icon",k),customElements.define("my-notepad",w),customElements.define("my-notepad-header",E)})(),window.addEventListener("load",(()=>h.render())),window.addEventListener("popstate",(()=>h.render()))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QSxFQUFLLENBQ1AsTUFBTU8sRUFBU3ZCLE9BQU9nQixFQUFJakYsUUFBUXJFLEtBQzVCLFFBQUUySSxHQUFZRixFQUFNM0YsTUFBTXFHLEdBQVNBLEVBQUtuSixLQUFPNkosS0FBVyxDQUFDLEVBQzdEbEIsR0FDRkEsRUFBUW1CLEtBQUtwTCxLQUVqQixNQUNFQSxLQUFLcUwsWUFBWVYsRUFFckIsQ0FFQVUsWUFBWVYsR0FDVixNQUFNVyxFQUFRWCxFQUFXbEcsY0FBYyxVQUNuQzZHLEVBQU1MLFVBQVVoSyxTQUFTLFFBQzNCcUssRUFBTUwsVUFBVU0sT0FBTyxTQUV2QnZMLEtBQUsrSyxhQUNMTyxFQUFNTCxVQUFVTyxJQUFJLFFBRXhCLENBRUFULGFBQ0UsTUFBTU8sRUFBUXRMLEtBQUt5RSxjQUFjLGVBQ2pDNkcsR0FBT0wsVUFBVU0sT0FBTyxPQUMxQixDQUVJM0gsWUFDRixPQUFPNUQsS0FBSzZHLGFBQWEsUUFDM0IsRUM3R0YsV0FDRSxVQUNRLFVBQ1IsQ0FBRSxNQUFPakcsR0FDUDZLLGdCQUFlLElBQU10QyxNQUFNLDJCQUM3QixDQUVBdUMsZUFBZUMsT0FBTyxTQUFVNUksR0FDaEMySSxlQUFlQyxPQUFPLFlBQWF4RyxHQUNuQ3VHLGVBQWVDLE9BQU8sVUFBVy9GLEdBQ2pDOEYsZUFBZUMsT0FBTyxZQUFhOUYsR0FDbkM2RixlQUFlQyxPQUFPLGdCQUFpQjdGLEdBQ3ZDNEYsZUFBZUMsT0FBTyxXQUFZNUYsR0FDbEMyRixlQUFlQyxPQUFPLFVBQVcvRCxHQUNqQzhELGVBQWVDLE9BQU8sYUFBYzdELEdBQ3BDNEQsZUFBZUMsT0FBTyxvQkFBcUJyQixFQUM1QyxFQWhCRCxHQWtCQWhLLE9BQU8rRSxpQkFBaUIsUUFBUSxJQUFNLGFBQ3RDL0UsT0FBTytFLGlCQUFpQixZQUFZLElBQU0sWSIsInNvdXJjZXMiOlsid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL2NvcmUvSW5kZXhlZERCLmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy91dGlscy91dGlscy5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvY29yZS9XZWJDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL0FwcC5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvdXRpbHMvcm91dGVzLmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy9jb3JlL1JvdXRlci5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvdmlldy9Db21tb24vRm9vdGVyLmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy92aWV3L0hvbWUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL3ZpZXcvVGV0cmlzL2luZGV4LmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy92aWV3L0ZsYXBweUJpcmQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL3ZpZXcvQ29tbW9uL0ljb25zLmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy92aWV3L0NvbW1vbi9JY29uLmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy92aWV3L05vdGVQYWQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL3ZpZXcvTm90ZVBhZC9jb25zdC9idXR0b25zLmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy92aWV3L05vdGVQYWQvY29tcG9uZW50cy9Ob3RlUGFkSGVhZGVyLmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvanMtc2FuZGJveC9cIjsiLCJjbGFzcyBJbmRleGVkREIge1xyXG4gIGRiO1xyXG5cclxuICAvKipcclxuICAgKiDsg53shLHsnpBcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGJOYW1lXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGRiVmVyc2lvblxyXG4gICAqIEBwYXJhbSB7c3RyaW5nW119IHN0b3Jlc1xyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKGRiTmFtZSwgZGJWZXJzaW9uLCBzdG9yZXMpIHtcclxuICAgIHRoaXMuZGJOYW1lID0gZGJOYW1lO1xyXG4gICAgdGhpcy5kYlZlcnNpb24gPSBkYlZlcnNpb247XHJcbiAgICB0aGlzLnN0b3JlcyA9IHN0b3JlcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERCIOyYpO2UiCDrqZTshJzrk5xcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cclxuICAgKi9cclxuICBhc3luYyBvcGVuREIoKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBjb25zdCByZXF1ZXN0ID0gd2luZG93LmluZGV4ZWREQi5vcGVuKHRoaXMuZGJOYW1lLCB0aGlzLmRiVmVyc2lvbik7XHJcblxyXG4gICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmRiID0gcmVxdWVzdC5yZXN1bHQ7XHJcbiAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgcmVxdWVzdC5vbmVycm9yID0gKGUpID0+IHtcclxuICAgICAgICByZWplY3QoZSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZXF1ZXN0Lm9udXBncmFkZW5lZWRlZCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmRiID0gcmVxdWVzdC5yZXN1bHQ7XHJcblxyXG4gICAgICAgIHRoaXMuc3RvcmVzLmZvckVhY2goKHN0b3JlKSA9PiB7XHJcbiAgICAgICAgICBpZiAodGhpcy5kYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKHN0b3JlKSkge1xyXG4gICAgICAgICAgICB0aGlzLmRiLmRlbGV0ZU9iamVjdFN0b3JlKHN0b3JlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRoaXMuZGIuY3JlYXRlT2JqZWN0U3RvcmUoc3RvcmUsIHsga2V5UGF0aDogJ2lkJyB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog642w7J207YSwIOyhsO2ajCDrqZTshJzrk5xcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RvcmVOYW1lXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGlkXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8b2JqZWN0Pn1cclxuICAgKi9cclxuICBhc3luYyBnZXREYXRhKHN0b3JlTmFtZSwgaWQpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSB0aGlzLmRiLnRyYW5zYWN0aW9uKHN0b3JlTmFtZSwgJ3JlYWRvbmx5Jykub2JqZWN0U3RvcmUoc3RvcmVOYW1lKS5nZXQoaWQpO1xyXG5cclxuICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XHJcbiAgICAgICAgcmVzb2x2ZShyZXF1ZXN0LnJlc3VsdCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoZSkgPT4ge1xyXG4gICAgICAgIHJlamVjdChlKTtcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog642w7J207YSwIOyghOyytCDsobDtmowg66mU7ISc65OcXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0b3JlTmFtZVxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPG9iamVjdFtdPn1cclxuICAgKi9cclxuICBhc3luYyBnZXRBbGxEYXRhKHN0b3JlTmFtZSkge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgY29uc3QgcmVxdWVzdCA9IHRoaXMuZGIudHJhbnNhY3Rpb24oc3RvcmVOYW1lLCAncmVhZG9ubHknKS5vYmplY3RTdG9yZShzdG9yZU5hbWUpLmdldEFsbCgpO1xyXG5cclxuICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XHJcbiAgICAgICAgcmVzb2x2ZShyZXF1ZXN0LnJlc3VsdCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoZSkgPT4ge1xyXG4gICAgICAgIHJlamVjdChlKTtcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog642w7J207YSwIOy2lOqwgCDrqZTshJzrk5xcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RvcmVOYW1lXHJcbiAgICogQHBhcmFtIHtvYmplY3R9IGRhdGFcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxvYmplY3Q+fVxyXG4gICAqL1xyXG4gIGFzeW5jIHVwc2VydERhdGEoc3RvcmVOYW1lLCBkYXRhKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBjb25zdCBvYmplY3RTdG9yZSA9IHRoaXMuZGIudHJhbnNhY3Rpb24oc3RvcmVOYW1lLCAncmVhZHdyaXRlJykub2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcclxuICAgICAgY29uc3QgbW9kaWZpZWREYXRhID0geyAuLi5kYXRhLCBpZDogZGF0YS5pZCB8fCBuZXcgRGF0ZSgpLmdldFRpbWUoKSB9O1xyXG4gICAgICBjb25zdCByZXF1ZXN0ID0gb2JqZWN0U3RvcmUucHV0KG1vZGlmaWVkRGF0YSk7XHJcblxyXG4gICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcclxuICAgICAgICByZXNvbHZlKHJlcXVlc3QucmVzdWx0KTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhyZXF1ZXN0LmVycm9yKTtcclxuICAgICAgICByZWplY3QocmVxdWVzdC5lcnJvcik7XHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOuNsOydtO2EsCDsgq3soJwg66mU7ISc65OcXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0b3JlTmFtZVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpZFxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPG9iamVjdD59XHJcbiAgICovXHJcbiAgYXN5bmMgZGVsZXRlRGF0YShzdG9yZU5hbWUsIGlkKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5kYi50cmFuc2FjdGlvbihzdG9yZU5hbWUsICdyZWFkd3JpdGUnKS5vYmplY3RTdG9yZShzdG9yZU5hbWUpLmRlbGV0ZShpZCk7XHJcblxyXG4gICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcclxuICAgICAgICByZXNvbHZlKHRydWUpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgcmVxdWVzdC5vbmVycm9yID0gKGUpID0+IHtcclxuICAgICAgICByZWplY3QoZSk7XHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IHNhbmRib3hEQiA9IG5ldyBJbmRleGVkREIoJ3NhbmRib3hEQicsIDIsIFsnbm90ZXBhZCddKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHNhbmRib3hEQjtcclxuIiwiY29uc3QgcmVuZGVyUmF3ID0gKHN0cmluZywgLi4udmFsdWVzKSA9PiB7XHJcbiAgcmV0dXJuIFN0cmluZy5yYXcoc3RyaW5nLCAuLi52YWx1ZXMpO1xyXG59O1xyXG5cclxuZXhwb3J0IHsgcmVuZGVyUmF3IGFzIGh0bWwsIHJlbmRlclJhdyBhcyBjc3MgfTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2ViQ29tcG9uZW50IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xyXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xyXG4gICAgdGhpcy5yZW5kZXIoKTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIHRoaXMuaW5uZXJIVE1MID0gdGhpcy5pbmplY3RIVE1MKCk7XHJcbiAgfVxyXG5cclxuICBpbmplY3RIVE1MKCkge1xyXG4gICAgcmV0dXJuIGBgO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBodG1sIH0gZnJvbSAnLi91dGlscy91dGlscyc7XHJcbmltcG9ydCBXZWJDb21wb25lbnQgZnJvbSAnLi9jb3JlL1dlYkNvbXBvbmVudCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcHAgZXh0ZW5kcyBXZWJDb21wb25lbnQge1xyXG4gIGluamVjdEhUTUwoKSB7XHJcbiAgICByZXR1cm4gaHRtbGBcclxuICAgICAgPGRpdiBpZD1cInBhZ2VcIj48L2Rpdj5cclxuICAgICAgPG15LWljb25zIHRhYmluZGV4PVwiLTFcIj48L215LWljb25zPlxyXG4gICAgICA8bXktZm9vdGVyPjwvbXktZm9vdGVyPlxyXG4gICAgYDtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgaHRtbCB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHRldHJpcyBmcm9tICcuLi8uLi9wdWJsaWMvdGV0cmlzLnBuZyc7XG5pbXBvcnQgZmxhcHB5QmlyZCBmcm9tICcuLi8uLi9wdWJsaWMvZmxhcHB5QmlyZC5wbmcnO1xuaW1wb3J0IG5vdGVwYWQgZnJvbSAnLi4vLi4vcHVibGljL25vdGVwYWQucG5nJztcbmltcG9ydCBzYW5kYm94REIgZnJvbSAnLi4vY29yZS9JbmRleGVkREInO1xuXG5jb25zdCBCQVNFX1VSTCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnID8gJycgOiAnL2pzLXNhbmRib3gnO1xuXG5jb25zdCByb3V0ZXMgPSBbXG4gIHtcbiAgICBwYXRoOiBgL2AsXG4gICAgaHRtbDogaHRtbGA8bXktaG9tZT48L215LWhvbWU+YCxcbiAgICBsYWJlbDogJ0hvbWUnLFxuICAgIGljb25TcmM6IG51bGwsXG4gIH0sXG4gIHtcbiAgICBwYXRoOiBgL3RldHJpc2AsXG4gICAgaHRtbDogaHRtbGA8bXktdGV0cmlzPjwvbXktdGV0cmlzPmAsXG4gICAgbGFiZWw6ICdUZXRyaXMnLFxuICAgIGljb25TcmM6IHRldHJpcyxcbiAgfSxcbiAge1xuICAgIHBhdGg6IGAvZmxhcHB5YmlyZGAsXG4gICAgaHRtbDogaHRtbGA8bXktZmxhcHB5YmlyZD48L215LWZsYXBweWJpcmQ+YCxcbiAgICBsYWJlbDogJ0ZsYXBweSZuYnNwO0JpcmQnLFxuICAgIGljb25TcmM6IGZsYXBweUJpcmQsXG4gIH0sXG4gIHtcbiAgICBwYXRoOiBgL25vdGVwYWRgLFxuICAgIGh0bWw6IGh0bWxgPG15LW5vdGVwYWQ+PC9teS1ub3RlcGFkPmAsXG4gICAgbGFiZWw6ICdOb3RlJm5ic3A7UGFkJyxcbiAgICBpY29uU3JjOiBub3RlcGFkLFxuICB9LFxuICB7XG4gICAgcGF0aDogYC9ub3RlcGFkLzppZGAsXG4gICAgaHRtbDogaHRtbGA8bXktbm90ZXBhZCBkYXRhLWlkPVwiOmlkXCI+PC9teS1ub3RlcGFkPmAsXG4gICAgbGFiZWw6ICdOb3RlJm5ic3A7UGFkJyxcbiAgICBpY29uU3JjOiBudWxsLFxuICB9LFxuXTtcblxuY29uc3QgbWFpbkljb25zID0gcm91dGVzLnJlZHVjZSgocHJldiwgcm91dGVyKSA9PiB7XG4gIGNvbnN0IHsgcGF0aCwgbGFiZWwsIGljb25TcmMgfSA9IHJvdXRlcjtcbiAgaWYgKCFyb3V0ZXIuaWNvblNyYykgcmV0dXJuIHByZXY7XG4gIHJldHVybiBbLi4ucHJldiwgeyBwYXRoLCBsYWJlbCwgaWNvblNyYyB9XTtcbn0sIFtdKTtcblxuY29uc3QgZ2V0TG9jYWxJY29ucyA9IGFzeW5jICgpID0+IHtcbiAgY29uc3Qgbm90ZXBhZERhdGEgPSBhd2FpdCBzYW5kYm94REIuZ2V0QWxsRGF0YSgnbm90ZXBhZCcpO1xuICBjb25zdCBub3RlcGFkSWNvbnMgPSBub3RlcGFkRGF0YS5yZWR1Y2UoKHByZXYsIGljb24pID0+IHtcbiAgICBjb25zdCB7IGlkLCB0aXRsZSB9ID0gaWNvbjtcbiAgICByZXR1cm4gWy4uLnByZXYsIHsgcGF0aDogYC9ub3RlcGFkLyR7aWR9YCwgbGFiZWw6IHRpdGxlLCBpY29uU3JjOiBub3RlcGFkIH1dO1xuICB9LCBbXSk7XG5cbiAgcmV0dXJuIFsuLi5ub3RlcGFkSWNvbnNdO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVzO1xuZXhwb3J0IHsgbWFpbkljb25zLCBnZXRMb2NhbEljb25zLCBCQVNFX1VSTCB9O1xuIiwiaW1wb3J0IHJvdXRlcywgeyBCQVNFX1VSTCB9IGZyb20gJy4uL3V0aWxzL3JvdXRlcyc7XG5cbmNsYXNzIFJvdXRlciB7XG4gIGNvbnN0cnVjdG9yKHJvdXRlKSB7XG4gICAgdGhpcy5yb3V0ZXMgPSByb3V0ZTtcbiAgfVxuXG4gIHBhdGhUb1JlZ2V4cChwYXRoKSB7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoYF4ke3BhdGgucmVwbGFjZSgvXFwvL2csICdcXFxcLycpLnJlcGxhY2UoLzpcXHcrL2csICcoLispJyl9JGApO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGN1cnJlbnRQYXRoID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lO1xuICAgIGNvbnN0IHJvdXRlID0gdGhpcy5yb3V0ZXMuZmluZCgodmFsdWUpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLnBhdGhUb1JlZ2V4cCh0aGlzLmdldFVybEZyb20odmFsdWUucGF0aCkpLnRlc3QoY3VycmVudFBhdGgpO1xuICAgIH0pO1xuXG4gICAgaWYgKCFyb3V0ZSkge1xuICAgICAgdGhpcy5yZXBsYWNlVG8oJy8nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcGFnZScpLmlubmVySFRNTCA9IHJvdXRlLmh0bWwucmVwbGFjZSgnOmlkJywgdGhpcy5nZXRJZEZyb21QYXRoKGN1cnJlbnRQYXRoKSk7XG4gIH1cblxuICBnZXRJZEZyb21QYXRoKHBhdGgpIHtcbiAgICByZXR1cm4gcGF0aC5tYXRjaCgvXFxkKy8pPy5bMF07XG4gIH1cblxuICBuYXZpZ2F0ZVRvKHVybCkge1xuICAgIGlmICh0aGlzLmdldFVybEZyb20odXJsKSA9PT0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lKSByZXR1cm47XG4gICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKG51bGwsIG51bGwsIEJBU0VfVVJMICsgdXJsKTtcbiAgICB0aGlzLnJlbmRlcigpO1xuICB9XG5cbiAgcmVwbGFjZVRvKHVybCkge1xuICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCBudWxsLCBCQVNFX1VSTCArIHVybCk7XG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxuXG4gIGdldFVybEZyb20odXJsKSB7XG4gICAgcmV0dXJuIGAke0JBU0VfVVJMfSR7dXJsfWA7XG4gIH1cblxuICBiYWNrKCkge1xuICAgIHdpbmRvdy5oaXN0b3J5LmJhY2soKTtcbiAgICB0aGlzLnJlbmRlcigpO1xuICB9XG59XG5cbmNvbnN0IHJvdXRlciA9IG5ldyBSb3V0ZXIocm91dGVzKTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIiwiaW1wb3J0IFdlYkNvbXBvbmVudCBmcm9tICcuLi8uLi9jb3JlL1dlYkNvbXBvbmVudCc7XHJcbmltcG9ydCB7IGh0bWwgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XHJcbmltcG9ydCB7IG1haW5JY29ucyB9IGZyb20gJy4uLy4uL3V0aWxzL3JvdXRlcyc7XHJcbmltcG9ydCByb3V0ZXIgZnJvbSAnLi4vLi4vY29yZS9Sb3V0ZXInO1xyXG5pbXBvcnQgd2luZG93TG9nbyBmcm9tICcuLi8uLi8uLi9wdWJsaWMvd2luZG93TG9nby5wbmcnO1xyXG5pbXBvcnQgc2VhcmNoSWNvbiBmcm9tICcuLi8uLi8uLi9wdWJsaWMvc2VhcmNoSWNvbi5wbmcnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9vdGVyIGV4dGVuZHMgV2ViQ29tcG9uZW50IHtcclxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcclxuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XHJcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpKTtcclxuICB9XHJcblxyXG4gIGluamVjdEhUTUwoKSB7XHJcbiAgICByZXR1cm4gaHRtbGBcclxuICAgICAgPGltZyBhbHQ9XCJ3aW5kb3dfbG9nb1wiIHNyYz0ke3dpbmRvd0xvZ299IGNsYXNzPVwid2luZG93X2ljb25cIiAvPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiaW5wdXRfYm94XCI+XHJcbiAgICAgICAgPGltZyBhbHQ9XCJzZWFyY2hcIiBzcmM9JHtzZWFyY2hJY29ufSBjbGFzcz1cIndpbmRvd19pY29uXCIgLz48aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIuywvuq4sFwiIC8+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICAke21haW5JY29uc1xyXG4gICAgICAgIC5tYXAoKGljb24pID0+IHtcclxuICAgICAgICAgIHJldHVybiBodG1sYCA8bXktaWNvbiBkYXRhLXBhdGg9XCIke2ljb24ucGF0aH1cIiBkYXRhLWljb25TcmM9XCIke2ljb24uaWNvblNyY31cIj48L215LWljb24+IGA7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuam9pbignJyl9XHJcbiAgICBgO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlQ2xpY2soZSkge1xyXG4gICAgaWYgKCFlLnRhcmdldC5jbG9zZXN0KCdteS1pY29uJykpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBpY29uID0gZS50YXJnZXQuY2xvc2VzdCgnbXktaWNvbicpO1xyXG4gICAgcm91dGVyLm5hdmlnYXRlVG8oaWNvbi5kYXRhc2V0LnBhdGgpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgV2ViQ29tcG9uZW50IGZyb20gJy4uLy4uL2NvcmUvV2ViQ29tcG9uZW50JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhvbWUgZXh0ZW5kcyBXZWJDb21wb25lbnQge31cclxuIiwiaW1wb3J0IFdlYkNvbXBvbmVudCBmcm9tICcuLi8uLi9jb3JlL1dlYkNvbXBvbmVudCc7XHJcbmltcG9ydCB7IGh0bWwgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXRyaXMgZXh0ZW5kcyBXZWJDb21wb25lbnQge1xyXG4gIGluamVjdEhUTUwoKSB7XHJcbiAgICByZXR1cm4gaHRtbGBcclxuICAgICAgPGgxPlRldHJpczwvaDE+XHJcbiAgICAgIDxwPllvdSBhcmUgdmlld2luZyB0aGUgVGV0cmlzIGNvbXBvbmVudCE8L3A+XHJcbiAgICBgO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgV2ViQ29tcG9uZW50IGZyb20gJy4uLy4uL2NvcmUvV2ViQ29tcG9uZW50JztcclxuaW1wb3J0IHsgaHRtbCB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZsYXBweUJpcmQgZXh0ZW5kcyBXZWJDb21wb25lbnQge1xyXG4gIGluamVjdEhUTUwoKSB7XHJcbiAgICByZXR1cm4gaHRtbGBcclxuICAgICAgPGgxPkZsYXBweSBCaXJkPC9oMT5cclxuICAgICAgPHA+WW91IGFyZSB2aWV3aW5nIHRoZSBGbGFwcHkgQmlyZCBjb21wb25lbnQhPC9wPlxyXG4gICAgICA8cD5Zb3UgYXJlIHZpZXdpbmcgdGhlIEZsYXBweSBCaXJkIGNvbXBvbmVudCE8L3A+XHJcbiAgICAgIDxwPllvdSBhcmUgdmlld2luZyB0aGUgRmxhcHB5IEJpcmQgY29tcG9uZW50ITwvcD5cclxuICAgICAgPHA+WW91IGFyZSB2aWV3aW5nIHRoZSBGbGFwcHkgQmlyZCBjb21wb25lbnQhPC9wPlxyXG4gICAgICA8cD5Zb3UgYXJlIHZpZXdpbmcgdGhlIEZsYXBweSBCaXJkIGNvbXBvbmVudCE8L3A+XHJcbiAgICAgIDxwPllvdSBhcmUgdmlld2luZyB0aGUgRmxhcHB5IEJpcmQgY29tcG9uZW50ITwvcD5cclxuICAgIGA7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IGh0bWwgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XHJcbmltcG9ydCByb3V0ZXIgZnJvbSAnLi4vLi4vY29yZS9Sb3V0ZXInO1xyXG5pbXBvcnQgV2ViQ29tcG9uZW50IGZyb20gJy4uLy4uL2NvcmUvV2ViQ29tcG9uZW50JztcclxuaW1wb3J0IHsgZ2V0TG9jYWxJY29ucywgbWFpbkljb25zIH0gZnJvbSAnLi4vLi4vdXRpbHMvcm91dGVzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEljb25zIGV4dGVuZHMgV2ViQ29tcG9uZW50IHtcclxuICBhc3luYyBjb25uZWN0ZWRDYWxsYmFjaygpIHtcclxuICAgIHRoaXMuaWNvbnMgPSBbLi4ubWFpbkljb25zLCAuLi4oYXdhaXQgZ2V0TG9jYWxJY29ucygpKV07XHJcbiAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xyXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2spO1xyXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdkYmxjbGljaycsIHRoaXMuaGFuZGxlRG91YmxlQ2xpY2spO1xyXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5oYW5kbGVLZXlEb3duKTtcclxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignaWNvbkNoYW5nZScsIHRoaXMuaGFuZGxlSWNvbkNoYW5nZSk7XHJcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2ljb25EZWxldGUnLCB0aGlzLmhhbmRsZUljb25EZWxldGUpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7XHJcbiAgICByZXR1cm4gWydpY29ucyddO1xyXG4gIH1cclxuXHJcbiAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKG5hbWUsIG9sZFZhbHVlLCBuZXdWYWx1ZSkge1xyXG4gICAgaWYgKG9sZFZhbHVlID09PSBuZXdWYWx1ZSkgcmV0dXJuO1xyXG4gICAgdGhpcy5yZW5kZXIoKTtcclxuICB9XHJcblxyXG4gIGluamVjdEhUTUwoKSB7XHJcbiAgICByZXR1cm4gaHRtbGBcclxuICAgICAgJHt0aGlzLmljb25zXHJcbiAgICAgICAgLm1hcCgoaWNvbikgPT4ge1xyXG4gICAgICAgICAgcmV0dXJuIGh0bWxgXHJcbiAgICAgICAgICAgIDxteS1pY29uIGRhdGEtcGF0aD0ke2ljb24ucGF0aH0gZGF0YS1sYWJlbD0ke2ljb24ubGFiZWx9IGRhdGEtaWNvblNyYz0ke2ljb24uaWNvblNyY30+PC9teS1pY29uPlxyXG4gICAgICAgICAgYDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5qb2luKCcnKX1cclxuICAgIGA7XHJcbiAgfVxyXG5cclxuICBnZXQgaWNvbnMoKSB7XHJcbiAgICByZXR1cm4gSlNPTi5wYXJzZSh0aGlzLmdldEF0dHJpYnV0ZSgnaWNvbnMnKSk7XHJcbiAgfVxyXG5cclxuICBzZXQgaWNvbnModmFsdWUpIHtcclxuICAgIHRoaXMuc2V0QXR0cmlidXRlKCdpY29ucycsIEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVDbGljayhlKSB7XHJcbiAgICBpZiAoIWUudGFyZ2V0LmNsb3Nlc3QoJ215LWljb24nKSkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGljb24gPSBlLnRhcmdldC5jbG9zZXN0KCdteS1pY29uJyk7XHJcbiAgICBpY29uLnRvZ2dsZUF0dHJpYnV0ZSgnY2hlY2tlZCcpO1xyXG4gICAgdGhpcy5xdWVyeVNlbGVjdG9yQWxsKCdteS1pY29uJykuZm9yRWFjaCgobm9kZSkgPT4ge1xyXG4gICAgICBpZiAobm9kZSAhPT0gaWNvbikge1xyXG4gICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKCdjaGVja2VkJyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlRG91YmxlQ2xpY2soZSkge1xyXG4gICAgaWYgKCFlLnRhcmdldC5jbG9zZXN0KCdteS1pY29uJykpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBpY29uID0gZS50YXJnZXQuY2xvc2VzdCgnbXktaWNvbicpO1xyXG4gICAgcm91dGVyLm5hdmlnYXRlVG8oaWNvbi5kYXRhc2V0LnBhdGgpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlS2V5RG93bihlKSB7XHJcbiAgICBjb25zdCBjaGVja2VkRWwgPSB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoJ215LWljb25bY2hlY2tlZF0nKTtcclxuICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xyXG4gICAgICBpZiAoY2hlY2tlZEVsLmxlbmd0aCA+IDEpIHJldHVybjtcclxuICAgICAgaWYgKCFjaGVja2VkRWwpIHJldHVybjtcclxuICAgICAgcm91dGVyLm5hdmlnYXRlVG8oY2hlY2tlZEVsWzBdLmRhdGFzZXQucGF0aCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVJY29uQ2hhbmdlKGUpIHtcclxuICAgIGNvbnN0IHsgcGF0aCwgbGFiZWwsIGljb25TcmMgfSA9IGUuZGV0YWlsO1xyXG4gICAgY29uc3QgcHJldkljb25JbmRleCA9IHRoaXMuaWNvbnMuZmluZEluZGV4KChpY29uKSA9PiBpY29uLnBhdGggPT09IHBhdGgpO1xyXG5cclxuICAgIGlmIChwcmV2SWNvbkluZGV4ID09PSAtMSkge1xyXG4gICAgICB0aGlzLmljb25zID0gWy4uLnRoaXMuaWNvbnMsIHsgcGF0aCwgbGFiZWwsIGljb25TcmMgfV07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBuZXdJY29ucyA9IFsuLi50aGlzLmljb25zXTtcclxuICAgICAgbmV3SWNvbnNbcHJldkljb25JbmRleF0gPSB7IHBhdGgsIGxhYmVsLCBpY29uU3JjIH07XHJcbiAgICAgIHRoaXMuaWNvbnMgPSBuZXdJY29ucztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZUljb25EZWxldGUoZSkge1xyXG4gICAgY29uc3QgeyBwYXRoIH0gPSBlLmRldGFpbDtcclxuICAgIHRoaXMuaWNvbnMgPSB0aGlzLmljb25zLmZpbHRlcigoaWNvbikgPT4gaWNvbi5wYXRoICE9PSBwYXRoKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgaHRtbCB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJztcclxuaW1wb3J0IFdlYkNvbXBvbmVudCBmcm9tICcuLi8uLi9jb3JlL1dlYkNvbXBvbmVudCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJY29uIGV4dGVuZHMgV2ViQ29tcG9uZW50IHtcclxuICBpbmplY3RIVE1MKCkge1xyXG4gICAgY29uc3QgeyBsYWJlbCwgaWNvbnNyYyB9ID0gdGhpcy5kYXRhc2V0O1xyXG4gICAgcmV0dXJuIGh0bWxgXHJcbiAgICAgIDxpbWcgYWx0PVwiJHtsYWJlbH1faWNvblwiIHNyYz0ke2ljb25zcmN9IC8+XHJcbiAgICAgICR7bGFiZWwgPyBgPHNwYW4gY2xhc3M9XCJpY29uX25hbWVcIj4ke2xhYmVsfTwvc3Bhbj5gIDogJyd9XHJcbiAgICBgO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgV2ViQ29tcG9uZW50IGZyb20gJy4uLy4uL2NvcmUvV2ViQ29tcG9uZW50JztcclxuaW1wb3J0IHsgaHRtbCB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJztcclxuaW1wb3J0ICcuL3N0eWxlcy5zY3NzJztcclxuaW1wb3J0IHNhbmRib3hEQiBmcm9tICcuLi8uLi9jb3JlL0luZGV4ZWREQic7XHJcbmltcG9ydCBOb3RlUGFkSWNvbiBmcm9tICcuLi8uLi8uLi9wdWJsaWMvbm90ZXBhZC5wbmcnO1xyXG5pbXBvcnQgcm91dGVyIGZyb20gJy4uLy4uL2NvcmUvUm91dGVyJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5vdGVQYWQgZXh0ZW5kcyBXZWJDb21wb25lbnQge1xyXG4gIGFzeW5jIGNvbm5lY3RlZENhbGxiYWNrKCkge1xyXG4gICAgdGhpcy5kYXRhID0gKGF3YWl0IHNhbmRib3hEQi5nZXREYXRhKCdub3RlcGFkJywgdGhpcy5pZCkpID8/IHtcclxuICAgICAgdGl0bGU6ICfsoJzrqqnsl4bsnYwnLFxyXG4gICAgICBjb250ZW50OiAnJyxcclxuICAgIH07XHJcbiAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xyXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdzYXZlJywgdGhpcy5oYW5kbGVTYXZlKTtcclxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignbG9jYWxTYXZlJywgdGhpcy5oYW5kbGVMb2NhbFNhdmUpO1xyXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdkZWxldGUnLCB0aGlzLmhhbmRsZURlbGV0ZSk7XHJcbiAgfVxyXG5cclxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcclxuICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2F2ZScsIHRoaXMuaGFuZGxlU2F2ZSk7XHJcbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvY2FsU2F2ZScsIHRoaXMuaGFuZGxlTG9jYWxTYXZlKTtcclxuICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignZGVsZXRlJywgdGhpcy5oYW5kbGVEZWxldGUpO1xyXG4gIH1cclxuXHJcbiAgaW5qZWN0SFRNTCgpIHtcclxuICAgIGNvbnN0IHsgdGl0bGUsIGNvbnRlbnQgfSA9IHRoaXMuZGF0YTtcclxuICAgIHJldHVybiBodG1sYFxyXG4gICAgICA8bXktbm90ZXBhZC1oZWFkZXIgdGl0bGU9JHt0aXRsZX0+PC9teS1ub3RlcGFkLWhlYWRlcj5cclxuICAgICAgPHRleHRhcmVhPiR7Y29udGVudH08L3RleHRhcmVhPlxyXG4gICAgYDtcclxuICB9XHJcblxyXG4gIGhhbmRsZUxvY2FsU2F2ZShlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBjb25zdCBub3RlUGFkRGF0YSA9IHRoaXMuZ2V0Tm90ZVBhZERhdGEoKTtcclxuICAgIGlmICghbm90ZVBhZERhdGEpIHJldHVybjtcclxuICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbbm90ZVBhZERhdGEuY29udGVudF0sIHsgdHlwZTogJ3RleHQvcGxhaW4nIH0pO1xyXG4gICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICAgIGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcbiAgICBsaW5rLmRvd25sb2FkID0gYCR7bm90ZVBhZERhdGEudGl0bGV9LnR4dGA7XHJcbiAgICBsaW5rLmNsaWNrKCk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBoYW5kbGVTYXZlKGUpIHtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICBjb25zdCBub3RlUGFkRGF0YSA9IHRoaXMuZ2V0Tm90ZVBhZERhdGEoKTtcclxuICAgIGlmICghbm90ZVBhZERhdGEpIHJldHVybjtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzYW5kYm94REIudXBzZXJ0RGF0YSgnbm90ZXBhZCcsIG5vdGVQYWREYXRhKTtcclxuXHJcbiAgICAgIGNvbnN0IHBhdGggPSBgL25vdGVwYWQvJHtyZXN1bHR9YDtcclxuXHJcbiAgICAgIGFsZXJ0KCfsoIDsnqXrkJjsl4jsirXri4jri6QuJyk7XHJcbiAgICAgIGNvbnN0IGljb25DaGFuZ2VFdmVudCA9IG5ldyBDdXN0b21FdmVudCgnaWNvbkNoYW5nZScsIHtcclxuICAgICAgICBkZXRhaWw6IHtcclxuICAgICAgICAgIHBhdGgsXHJcbiAgICAgICAgICBsYWJlbDogbm90ZVBhZERhdGEsXHJcbiAgICAgICAgICBpY29uU3JjOiBOb3RlUGFkSWNvbixcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbXktaWNvbnMnKS5kaXNwYXRjaEV2ZW50KGljb25DaGFuZ2VFdmVudCk7XHJcblxyXG4gICAgICBpZiAodGhpcy5pZCA9PT0gcmVzdWx0KSB7XHJcbiAgICAgICAgdGhpcy50aXRsZSA9IG5vdGVQYWREYXRhLnRpdGxlLnJlcGxhY2UoLyZuYnNwL2csICcgJyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcm91dGVyLm5hdmlnYXRlVG8ocGF0aCk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBhbGVydCgn7KCA7J6l7JeQIOyLpO2MqO2WiOyKteuLiOuLpC4nKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGhhbmRsZURlbGV0ZShlKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICBjb25zdCBjb25maXJtUmVzdWx0ID0gd2luZG93LmNvbmZpcm0oJ+ygleunkCDsgq3soJztlZjsi5zqsqDsirXri4jquYw/Jyk7XHJcbiAgICAgIGlmICghY29uZmlybVJlc3VsdCkgcmV0dXJuO1xyXG5cclxuICAgICAgYXdhaXQgc2FuZGJveERCLmRlbGV0ZURhdGEoJ25vdGVwYWQnLCB0aGlzLmlkKTtcclxuXHJcbiAgICAgIGFsZXJ0KCfsgq3soJzrkJjsl4jsirXri4jri6QuJyk7XHJcbiAgICAgIGNvbnN0IGljb25EZWxldGVFdmVudCA9IG5ldyBDdXN0b21FdmVudCgnaWNvbkRlbGV0ZScsIHtcclxuICAgICAgICBkZXRhaWw6IHtcclxuICAgICAgICAgIHBhdGg6IGAvbm90ZXBhZC8ke3RoaXMuaWR9YCxcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbXktaWNvbnMnKS5kaXNwYXRjaEV2ZW50KGljb25EZWxldGVFdmVudCk7XHJcbiAgICAgIHJvdXRlci5yZXBsYWNlVG8oJy9ub3RlcGFkJyk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgYWxlcnQoJ+yCreygnOyXkCDsi6TtjKjtlojsirXri4jri6QuJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXROb3RlUGFkRGF0YSgpIHtcclxuICAgIGNvbnN0IGNvbnRlbnRFbCA9IHRoaXMucXVlcnlTZWxlY3RvcigndGV4dGFyZWEnKTtcclxuICAgIGNvbnN0IGNvbnRlbnQgPSBjb250ZW50RWwudmFsdWUudHJpbSgpO1xyXG4gICAgaWYgKCFjb250ZW50KSB7XHJcbiAgICAgIGFsZXJ0KCfrgrTsmqnsnbQg7JeG7Iq164uI64ukLicpO1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgdGl0bGU7XHJcbiAgICB3aGlsZSAoIXRpdGxlKSB7XHJcbiAgICAgIHRpdGxlID0gcHJvbXB0KCftjIzsnbzrqoXsnYQg7J6F66Cl7ZWY7IS47JqULicsIHRoaXMuZGF0YS50aXRsZS5yZXBsYWNlKC8mbmJzcDsvZywgJyAnKSk7XHJcbiAgICAgIGlmICghdGl0bGUpIHtcclxuICAgICAgICBjb25zdCBjb25maXJtUmVzdWx0ID0gd2luZG93LmNvbmZpcm0oJ+ygnOuqqeydgCDtlYTsiJjsnoXri4jri6QuJyk7XHJcbiAgICAgICAgaWYgKCFjb25maXJtUmVzdWx0KSByZXR1cm4gbnVsbDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlkOiB0aGlzLmlkLFxyXG4gICAgICB0aXRsZTogdGl0bGUudHJpbSgpLnJlcGxhY2UoLyAvZywgJyZuYnNwOycpLFxyXG4gICAgICBjb250ZW50OiBjb250ZW50LnJlcGxhY2UoLyAvZywgJyZuYnNwOycpLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGdldCBpZCgpIHtcclxuICAgIHJldHVybiBOdW1iZXIodGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKSk7XHJcbiAgfVxyXG5cclxuICBzZXQgdGl0bGUodGl0bGUpIHtcclxuICAgIHRoaXMucXVlcnlTZWxlY3RvcignbXktbm90ZXBhZC1oZWFkZXInKS5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgdGl0bGUpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgcm91dGVyIGZyb20gJy4uLy4uLy4uL2NvcmUvUm91dGVyJztcclxuXHJcbmNvbnN0IGRpc2FibGUgPSB0cnVlO1xyXG5cclxuY29uc3QgYnV0dG9ucyA9IFtcclxuICB7XHJcbiAgICBpZDogJ2ZpbGUnLFxyXG4gICAgdGl0bGU6ICftjIzsnbwnLFxyXG4gICAga2V5OiAnRicsXHJcbiAgICBzbG90czogW1xyXG4gICAgICB7IGlkOiAxLCB0ZXh0OiAn7IOI66GcIOunjOuTpOq4sChOKScsIGtleTogWydDdHJsJywgJ04nXSwgb25DbGljazogaGFuZGxlTmV3Q2xpY2sgfSxcclxuICAgICAgeyBpZDogMiwgdGV4dDogJ+uCtCDsu7Ttk6jthLDsl5Ag7KCA7J6lKFcpJywga2V5OiBbJ0N0cmwnLCAnU2hpZnQnLCAnTiddLCBvbkNsaWNrOiBoYW5kbGVMb2NhbFNhdmVDbGljayB9LFxyXG4gICAgICB7IGlkOiAzLCB0ZXh0OiAn7KCA7J6lKFMpJywga2V5OiBbJ0N0cmwnLCAnUyddLCBvbkNsaWNrOiBoYW5kbGVTYXZlQ2xpY2sgfSxcclxuICAgICAgeyBpZDogNCwgdGV4dDogJ+yCreygnChEKScsIGtleTogWydDdHJsJywgJ1NoaWZ0JywgJ1MnXSwgb25DbGljazogaGFuZGxlRGVsZXRlQ2xpY2sgfSxcclxuICAgICAgeyBpZDogNSwgdGV4dDogJ+2OmOydtOyngCDshKTsoJUoVSkuLi4nLCBrZXk6IFtdLCBkaXNhYmxlIH0sXHJcbiAgICAgIHsgaWQ6IDYsIHRleHQ6ICfsnbjsh4QoUCkuLi4nLCBrZXk6IFsnQ3RybCcsICdQJ10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogNywgdGV4dDogJ+uBneuCtOq4sChYKScsIGtleTogW10sIGRpc2FibGUgfSxcclxuICAgIF0sXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogJ2VkaXQnLFxyXG4gICAgdGl0bGU6ICftjrjsp5EnLFxyXG4gICAga2V5OiAnRScsXHJcbiAgICBzbG90czogW1xyXG4gICAgICB7IGlkOiA4LCB0ZXh0OiAn7Iuk7ZaJIOy3qOyGjChVKScsIGtleTogWydDdHJsJywgJ1onXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiA5LCB0ZXh0OiAn7J6Y652864K06riwKFQpJywga2V5OiBbJ0N0cmwnLCAnWCddLCBkaXNhYmxlIH0sXHJcbiAgICAgIHsgaWQ6IDEwLCB0ZXh0OiAn67O17IKsKEMpJywga2V5OiBbJ0N0cmwnLCAnQyddLCBkaXNhYmxlIH0sXHJcbiAgICAgIHsgaWQ6IDExLCB0ZXh0OiAn67aZ7Jes64Sj6riwKFApJywga2V5OiBbJ0N0cmwnLCAnViddLCBkaXNhYmxlIH0sXHJcbiAgICAgIHsgaWQ6IDEyLCB0ZXh0OiAn7IKt7KCcKEQpJywga2V5OiBbJ0RlbCddLCBkaXNhYmxlIH0sXHJcbiAgICAgIHsgaWQ6IDEzLCB0ZXh0OiAnQmluZ+ycvOuhnCDqsoDsg4koUykuLi4nLCBrZXk6IFsnQ3RybCcsICdFJ10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogMTQsIHRleHQ6ICfssL7quLAoRikuLi4nLCBrZXk6IFsnQ3RybCcsICdGJ10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogMTUsIHRleHQ6ICfri6TsnYwg7LC+6riwKE4pJywga2V5OiBbJ0YzJ10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogMTYsIHRleHQ6ICfsnbTsoIQg7LC+6riwKFYpJywga2V5OiBbJ1NoaWZ0JywgJ0YzJ10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogMTcsIHRleHQ6ICfrsJTqvrjquLAoUikuLi4nLCBrZXk6IFsnQ3RybCcsICdIJ10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogMTgsIHRleHQ6ICfsnbTrj5koRykuLi4nLCBrZXk6IFsnQ3RybCcsICdHJ10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogMTksIHRleHQ6ICfrqqjrkZAg7ISg7YOdKEEpJywga2V5OiBbJ0N0cmwnLCAnQSddLCBkaXNhYmxlIH0sXHJcbiAgICAgIHsgaWQ6IDIwLCB0ZXh0OiAn7Iuc6rCEL+uCoOynnChEKScsIGtleTogWydGNSddLCBkaXNhYmxlIH0sXHJcbiAgICBdLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6ICdmb3JtYXQnLFxyXG4gICAgdGl0bGU6ICfshJzsi50nLFxyXG4gICAga2V5OiAnTycsXHJcbiAgICBzbG90czogW1xyXG4gICAgICB7IGlkOiAyMSwgdGV4dDogJ+yekOuPmSDspIQg67CU6r+IKFcpJywga2V5OiBbXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiAyMiwgdGV4dDogJ+q4gOq8tChGKS4uLicsIGtleTogW10sIGRpc2FibGUgfSxcclxuICAgIF0sXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogJ3ZpZXcnLFxyXG4gICAgdGl0bGU6ICfrs7TquLAnLFxyXG4gICAga2V5OiAnVicsXHJcbiAgICBzbG90czogW1xyXG4gICAgICB7IGlkOiAyMywgdGV4dDogJ+2ZleuMgO2VmOq4sChaKScsIGtleTogWydDdHJsJywgJysnXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiAyNCwgdGV4dDogJ+y2leyGjO2VmOq4sChYKScsIGtleTogWydDdHJsJywgJy0nXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiAyNSwgdGV4dDogJ+yDge2DnCDtkZzsi5zspIQoUyknLCBrZXk6IFtdLCBkaXNhYmxlIH0sXHJcbiAgICBdLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6ICdoZWxwJyxcclxuICAgIHRpdGxlOiAn64+E7JuA66eQJyxcclxuICAgIGtleTogJ0gnLFxyXG4gICAgc2xvdHM6IFtcclxuICAgICAgeyBpZDogMjYsIHRleHQ6ICfrj4Tsm4Drp5Ag67O06riwKEgpJywga2V5OiBbXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiAyNywgdGV4dDogJ+2UvOuTnOuwsSDrs7TrgrTquLAoRiknLCBrZXk6IFtdLCBkaXNhYmxlIH0sXHJcbiAgICAgIHsgaWQ6IDI4LCB0ZXh0OiAn66mU66qo7J6lIOygleuztChBKScsIGtleTogW10sIGRpc2FibGUgfSxcclxuICAgIF0sXHJcbiAgfSxcclxuXTtcclxuXHJcbmNvbnN0IHNsb3RzID0gYnV0dG9ucy5yZWR1Y2UoKGFjYywgY3VyKSA9PiB7XHJcbiAgcmV0dXJuIFsuLi5hY2MsIC4uLmN1ci5zbG90c107XHJcbn0sIFtdKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGJ1dHRvbnM7XHJcbmV4cG9ydCB7IHNsb3RzIH07XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVTYXZlQ2xpY2soKSB7XHJcbiAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnc2F2ZScsIHsgYnViYmxlczogdHJ1ZSB9KSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUxvY2FsU2F2ZUNsaWNrKCkge1xyXG4gIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2xvY2FsU2F2ZScsIHsgYnViYmxlczogdHJ1ZSB9KSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNsaWNrKCkge1xyXG4gIGNvbnN0IG5vdGVwYWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdteS1ub3RlcGFkJyk7XHJcbiAgaWYgKCFub3RlcGFkWydkYXRhLWlkJ10pIHJldHVybjtcclxuICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdkZWxldGUnLCB7IGJ1YmJsZXM6IHRydWUgfSkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVOZXdDbGljaygpIHtcclxuICBjb25zdCBub3RlcGFkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbXktbm90ZXBhZCcpO1xyXG4gIGlmICghbm90ZXBhZFsnZGF0YS1pZCddKSB7XHJcbiAgICBub3RlcGFkLnJlbmRlcigpO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuICByb3V0ZXIubmF2aWdhdGVUbygnL25vdGVwYWQnKTtcclxufVxyXG4iLCJpbXBvcnQgeyBodG1sIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvdXRpbHMnO1xyXG5pbXBvcnQgV2ViQ29tcG9uZW50IGZyb20gJy4uLy4uLy4uL2NvcmUvV2ViQ29tcG9uZW50JztcclxuaW1wb3J0IGJ1dHRvbnMsIHsgc2xvdHMgfSBmcm9tICcuLi9jb25zdC9idXR0b25zJztcclxuaW1wb3J0IE5vdGVQYWRJY29uIGZyb20gJy4uLy4uLy4uLy4uL3B1YmxpYy9ub3RlcGFkLnBuZyc7XHJcbmltcG9ydCByb3V0ZXIgZnJvbSAnLi4vLi4vLi4vY29yZS9Sb3V0ZXInO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTm90ZVBhZEhlYWRlciBleHRlbmRzIFdlYkNvbXBvbmVudCB7XHJcbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XHJcbiAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xyXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2spO1xyXG4gIH1cclxuXHJcbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XHJcbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGljayk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpIHtcclxuICAgIHJldHVybiBbJ3RpdGxlJ107XHJcbiAgfVxyXG5cclxuICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XHJcbiAgICBpZiAobmFtZSA9PT0gJ3RpdGxlJyAmJiBvbGRWYWx1ZSkge1xyXG4gICAgICB0aGlzLnF1ZXJ5U2VsZWN0b3IoJyN0aXRsZScpLmlubmVyVGV4dCA9IG5ld1ZhbHVlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaW5qZWN0SFRNTCgpIHtcclxuICAgIHJldHVybiBodG1sYFxyXG4gICAgICA8aGVhZGVyPlxyXG4gICAgICAgIDxzcGFuPlxyXG4gICAgICAgICAgPGltZyBhbHQ9XCJub3RlcGFkX2ljb25cIiBzcmM9JHtOb3RlUGFkSWNvbn0gLz5cclxuICAgICAgICAgIDxzcGFuIGlkPVwidGl0bGVcIj4ke3RoaXMudGl0bGV9PC9zcGFuPiAtIFdpbmRvd3Mg66mU66qo7J6lXHJcbiAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ2aWV3X2J1dHRvbnNcIj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJ2aWV3X2J1dHRvblwiIGlkPVwibWluaVwiPvCfl5U8L2J1dHRvbj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJ2aWV3X2J1dHRvblwiIGlkPVwiZnVsbFwiPvCfl5Y8L2J1dHRvbj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJ2aWV3X2J1dHRvblwiIGlkPVwiY2xvc2VcIj7ihak8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9oZWFkZXI+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJlZGl0X2J1dHRvbnNcIj5cclxuICAgICAgICAke2J1dHRvbnNcclxuICAgICAgICAgIC5tYXAoXHJcbiAgICAgICAgICAgIChidXR0b24pID0+IGh0bWxgXHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImVkaXRfYnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgICAke2J1dHRvbi50aXRsZX0oPHU+JHtidXR0b24ua2V5fTwvdT4pXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicG9wdXBcIj5cclxuICAgICAgICAgICAgICAgICAgJHtidXR0b24uc2xvdHNcclxuICAgICAgICAgICAgICAgICAgICAubWFwKFxyXG4gICAgICAgICAgICAgICAgICAgICAgKHNsb3QpID0+IGh0bWxgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWJcIiBkYXRhLWlkPVwiJHtzbG90LmlkfVwiIGRhdGEtZGlzYWJsZT1cIiR7ISFzbG90LmRpc2FibGV9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj4ke3Nsb3QudGV4dH08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAke3Nsb3Qua2V5Lmxlbmd0aCA+IDAgPyBgPGRpdj4ke3Nsb3Qua2V5LmpvaW4oJyArICcpfTwvZGl2PmAgOiAnJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICBgXHJcbiAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgIC5qb2luKCcnKX1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICBgXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgICAuam9pbignJyl9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgYDtcclxuICB9XHJcblxyXG4gIGhhbmRsZUNsaWNrKGUpIHtcclxuICAgIGNvbnN0IHZpZXdCdXR0b24gPSBlLnRhcmdldC5jbG9zZXN0KCcudmlld19idXR0b24nKTtcclxuICAgIGNvbnN0IGVkaXRCdXR0b24gPSBlLnRhcmdldC5jbG9zZXN0KCcuZWRpdF9idXR0b24nKTtcclxuICAgIGNvbnN0IHN1YiA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5zdWInKTtcclxuXHJcbiAgICBpZiAodmlld0J1dHRvbikge1xyXG4gICAgICB0aGlzLmNsaWNrVmlld0J1dHRvbih2aWV3QnV0dG9uKTtcclxuICAgIH0gZWxzZSBpZiAoZWRpdEJ1dHRvbikge1xyXG4gICAgICB0aGlzLmNsaWNrRWRpdEJ1dHRvbihlZGl0QnV0dG9uLCBzdWIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5jbG9zZVBvcHVwKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjbGlja1ZpZXdCdXR0b24odmlld0J1dHRvbikge1xyXG4gICAgc3dpdGNoICh2aWV3QnV0dG9uLmlkKSB7XHJcbiAgICAgIGNhc2UgJ2Z1bGwnOlxyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCdmdWxsc2NyZWVuJyk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ21pbmknOlxyXG4gICAgICBjYXNlICdjbG9zZSc6XHJcbiAgICAgICAgcm91dGVyLmJhY2soKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNsaWNrRWRpdEJ1dHRvbihlZGl0QnV0dG9uLCBzdWIpIHtcclxuICAgIGlmIChzdWIpIHtcclxuICAgICAgY29uc3Qgc2xvdElkID0gTnVtYmVyKHN1Yi5kYXRhc2V0LmlkKTtcclxuICAgICAgY29uc3QgeyBvbkNsaWNrIH0gPSBzbG90cy5maW5kKChzbG90KSA9PiBzbG90LmlkID09PSBzbG90SWQpIHx8IHt9O1xyXG4gICAgICBpZiAob25DbGljaykge1xyXG4gICAgICAgIG9uQ2xpY2suY2FsbCh0aGlzKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy50b2dnbGVQb3B1cChlZGl0QnV0dG9uKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHRvZ2dsZVBvcHVwKGVkaXRCdXR0b24pIHtcclxuICAgIGNvbnN0IHBvcHVwID0gZWRpdEJ1dHRvbi5xdWVyeVNlbGVjdG9yKCcucG9wdXAnKTtcclxuICAgIGlmIChwb3B1cC5jbGFzc0xpc3QuY29udGFpbnMoJ3Nob3cnKSkge1xyXG4gICAgICBwb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmNsb3NlUG9wdXAoKTtcclxuICAgICAgcG9wdXAuY2xhc3NMaXN0LmFkZCgnc2hvdycpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY2xvc2VQb3B1cCgpIHtcclxuICAgIGNvbnN0IHBvcHVwID0gdGhpcy5xdWVyeVNlbGVjdG9yKCcucG9wdXAuc2hvdycpO1xyXG4gICAgcG9wdXA/LmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTtcclxuICB9XHJcblxyXG4gIGdldCB0aXRsZSgpIHtcclxuICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZSgndGl0bGUnKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0ICcuL3N0eWxlLnNjc3MnO1xyXG5pbXBvcnQgc2FuZGJveERCIGZyb20gJy4vY29yZS9JbmRleGVkREInO1xyXG5pbXBvcnQgQXBwIGZyb20gJy4vQXBwJztcclxuaW1wb3J0IEZvb3RlciBmcm9tICcuL3ZpZXcvQ29tbW9uL0Zvb3Rlcic7XHJcbmltcG9ydCBIb21lIGZyb20gJy4vdmlldy9Ib21lJztcclxuaW1wb3J0IFRldHJpcyBmcm9tICcuL3ZpZXcvVGV0cmlzJztcclxuaW1wb3J0IEZsYXBweUJpcmQgZnJvbSAnLi92aWV3L0ZsYXBweUJpcmQnO1xyXG5pbXBvcnQgSWNvbnMgZnJvbSAnLi92aWV3L0NvbW1vbi9JY29ucyc7XHJcbmltcG9ydCBJY29uIGZyb20gJy4vdmlldy9Db21tb24vSWNvbic7XHJcbmltcG9ydCBOb3RlUGFkIGZyb20gJy4vdmlldy9Ob3RlUGFkJztcclxuaW1wb3J0IE5vdGVQYWRIZWFkZXIgZnJvbSAnLi92aWV3L05vdGVQYWQvY29tcG9uZW50cy9Ob3RlUGFkSGVhZGVyJztcclxuaW1wb3J0IHJvdXRlciBmcm9tICcuL2NvcmUvUm91dGVyJztcclxuXHJcbihhc3luYyAoKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IHNhbmRib3hEQi5vcGVuREIoKTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBxdWV1ZU1pY3JvdGFzaygoKSA9PiBhbGVydCgnSW5kZXhlZERC66W8IOyCrOyaqe2VoCDsiJgg7JeG7Iq164uI64ukLicpKTtcclxuICB9XHJcblxyXG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbXktYXBwJywgQXBwKTtcclxuICBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ215LWZvb3RlcicsIEZvb3Rlcik7XHJcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdteS1ob21lJywgSG9tZSk7XHJcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdteS10ZXRyaXMnLCBUZXRyaXMpO1xyXG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbXktZmxhcHB5YmlyZCcsIEZsYXBweUJpcmQpO1xyXG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbXktaWNvbnMnLCBJY29ucyk7XHJcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdteS1pY29uJywgSWNvbik7XHJcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdteS1ub3RlcGFkJywgTm90ZVBhZCk7XHJcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdteS1ub3RlcGFkLWhlYWRlcicsIE5vdGVQYWRIZWFkZXIpO1xyXG59KSgpO1xyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiByb3V0ZXIucmVuZGVyKCkpO1xyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCAoKSA9PiByb3V0ZXIucmVuZGVyKCkpO1xyXG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImRiIiwiY29uc3RydWN0b3IiLCJkYk5hbWUiLCJkYlZlcnNpb24iLCJzdG9yZXMiLCJ0aGlzIiwiYXN5bmMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlcXVlc3QiLCJ3aW5kb3ciLCJpbmRleGVkREIiLCJvcGVuIiwib25zdWNjZXNzIiwicmVzdWx0Iiwib25lcnJvciIsImUiLCJvbnVwZ3JhZGVuZWVkZWQiLCJmb3JFYWNoIiwic3RvcmUiLCJvYmplY3RTdG9yZU5hbWVzIiwiY29udGFpbnMiLCJkZWxldGVPYmplY3RTdG9yZSIsImNyZWF0ZU9iamVjdFN0b3JlIiwia2V5UGF0aCIsInN0b3JlTmFtZSIsImlkIiwidHJhbnNhY3Rpb24iLCJvYmplY3RTdG9yZSIsImdldCIsImdldEFsbCIsImRhdGEiLCJtb2RpZmllZERhdGEiLCJEYXRlIiwiZ2V0VGltZSIsInB1dCIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsImRlbGV0ZSIsInJlbmRlclJhdyIsInN0cmluZyIsInZhbHVlcyIsIlN0cmluZyIsInJhdyIsIldlYkNvbXBvbmVudCIsIkhUTUxFbGVtZW50IiwiY29ubmVjdGVkQ2FsbGJhY2siLCJyZW5kZXIiLCJpbm5lckhUTUwiLCJpbmplY3RIVE1MIiwiQXBwIiwiQkFTRV9VUkwiLCJyb3V0ZXMiLCJwYXRoIiwiaHRtbCIsImxhYmVsIiwiaWNvblNyYyIsIm1haW5JY29ucyIsInJlZHVjZSIsInByZXYiLCJyb3V0ZXIiLCJnZXRMb2NhbEljb25zIiwiaWNvbiIsInRpdGxlIiwicm91dGUiLCJwYXRoVG9SZWdleHAiLCJSZWdFeHAiLCJyZXBsYWNlIiwiY3VycmVudFBhdGgiLCJsb2NhdGlvbiIsInBhdGhuYW1lIiwiZmluZCIsInZhbHVlIiwiZ2V0VXJsRnJvbSIsInRlc3QiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJnZXRJZEZyb21QYXRoIiwicmVwbGFjZVRvIiwibWF0Y2giLCJuYXZpZ2F0ZVRvIiwidXJsIiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsInJlcGxhY2VTdGF0ZSIsImJhY2siLCJGb290ZXIiLCJzdXBlciIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVDbGljayIsImJpbmQiLCJqb2luIiwidGFyZ2V0IiwiY2xvc2VzdCIsImRhdGFzZXQiLCJIb21lIiwiVGV0cmlzIiwiRmxhcHB5QmlyZCIsIkljb25zIiwiaWNvbnMiLCJoYW5kbGVEb3VibGVDbGljayIsImhhbmRsZUtleURvd24iLCJoYW5kbGVJY29uQ2hhbmdlIiwiaGFuZGxlSWNvbkRlbGV0ZSIsIm9ic2VydmVkQXR0cmlidXRlcyIsImF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayIsIm5hbWUiLCJvbGRWYWx1ZSIsIm5ld1ZhbHVlIiwibWFwIiwiSlNPTiIsInBhcnNlIiwiZ2V0QXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwic3RyaW5naWZ5IiwidG9nZ2xlQXR0cmlidXRlIiwicXVlcnlTZWxlY3RvckFsbCIsIm5vZGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJjaGVja2VkRWwiLCJrZXkiLCJsZW5ndGgiLCJkZXRhaWwiLCJwcmV2SWNvbkluZGV4IiwiZmluZEluZGV4IiwibmV3SWNvbnMiLCJmaWx0ZXIiLCJJY29uIiwiaWNvbnNyYyIsIk5vdGVQYWQiLCJjb250ZW50IiwiaGFuZGxlU2F2ZSIsImhhbmRsZUxvY2FsU2F2ZSIsImhhbmRsZURlbGV0ZSIsImRpc2Nvbm5lY3RlZENhbGxiYWNrIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInByZXZlbnREZWZhdWx0Iiwibm90ZVBhZERhdGEiLCJnZXROb3RlUGFkRGF0YSIsImJsb2IiLCJCbG9iIiwidHlwZSIsImxpbmsiLCJjcmVhdGVFbGVtZW50IiwiaHJlZiIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsImRvd25sb2FkIiwiY2xpY2siLCJzdG9wUHJvcGFnYXRpb24iLCJhbGVydCIsImljb25DaGFuZ2VFdmVudCIsIkN1c3RvbUV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsImVyciIsImNvbmZpcm0iLCJpY29uRGVsZXRlRXZlbnQiLCJ0cmltIiwicHJvbXB0IiwiTnVtYmVyIiwiZGlzYWJsZSIsImJ1dHRvbnMiLCJzbG90cyIsInRleHQiLCJvbkNsaWNrIiwibm90ZXBhZCIsImJ1YmJsZXMiLCJhY2MiLCJjdXIiLCJOb3RlUGFkSGVhZGVyIiwiaW5uZXJUZXh0IiwiYnV0dG9uIiwic2xvdCIsInZpZXdCdXR0b24iLCJlZGl0QnV0dG9uIiwic3ViIiwiY2xpY2tWaWV3QnV0dG9uIiwiY2xpY2tFZGl0QnV0dG9uIiwiY2xvc2VQb3B1cCIsInBhcmVudEVsZW1lbnQiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJzbG90SWQiLCJjYWxsIiwidG9nZ2xlUG9wdXAiLCJwb3B1cCIsInJlbW92ZSIsImFkZCIsInF1ZXVlTWljcm90YXNrIiwiY3VzdG9tRWxlbWVudHMiLCJkZWZpbmUiXSwic291cmNlUm9vdCI6IiJ9