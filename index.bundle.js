(()=>{"use strict";var e="/js-sandbox/";const t=new class{db;constructor(e,t,i){this.dbName=e,this.dbVersion=t,this.stores=i}async openDB(){return new Promise(((e,t)=>{const i=window.indexedDB.open(this.dbName,this.dbVersion);i.onsuccess=()=>{this.db=i.result,e()},i.onerror=e=>{t(e)},i.onupgradeneeded=()=>{this.db=i.result,this.stores.forEach((e=>{this.db.objectStoreNames.contains(e)&&this.db.deleteObjectStore(e),this.db.createObjectStore(e,{keyPath:"id"})}))}}))}async getData(e,t){return new Promise(((i,n)=>{const s=this.db.transaction(e,"readonly").objectStore(e).get(t);s.onsuccess=()=>{i(s.result)},s.onerror=e=>{n(e)}}))}async getAllData(e){return new Promise(((t,i)=>{const n=this.db.transaction(e,"readonly").objectStore(e).getAll();n.onsuccess=()=>{t(n.result)},n.onerror=e=>{i(e)}}))}async upsertData(e,t){return new Promise(((i,n)=>{const s=this.db.transaction(e,"readwrite").objectStore(e),a={...t,id:t.id||(new Date).getTime()},o=s.put(a);o.onsuccess=()=>{i(o.result)},o.onerror=()=>{console.log(o.error),n(o.error)}}))}async deleteData(e,t){return new Promise(((i,n)=>{const s=this.db.transaction(e,"readwrite").objectStore(e).delete(t);s.onsuccess=()=>{i(!0)},s.onerror=e=>{n(e)}}))}}("sandboxDB",2,["notepad"]),i=(e,...t)=>String.raw(e,...t);class n extends HTMLElement{connectedCallback(){this.render()}render(){this.innerHTML=this.injectHTML()}injectHTML(){return""}}class s extends n{injectHTML(){return i`
      <div id="page"></div>
      <my-icons tabindex="-1"></my-icons>
      <my-footer></my-footer>
    `}}const a=e+"2a583f97b153f7da7d41.png",o="/js-sandbox",c=[{path:"/",html:i`<my-home></my-home>`,label:"Home",iconSrc:null},{path:"/tetris",html:i`<my-tetris></my-tetris>`,label:"Tetris",iconSrc:e+"71c0bea6462001116fcf.png"},{path:"/flappybird",html:i`<my-flappybird></my-flappybird>`,label:"Flappy&nbsp;Bird",iconSrc:e+"39b884119b49599495ed.png"},{path:"/notepad",html:i`<my-notepad></my-notepad>`,label:"Note&nbsp;Pad",iconSrc:a},{path:`${o}/notepad/:id`,html:i`<my-notepad data-id=":id"></my-notepad>`,label:"Note&nbsp;Pad",iconSrc:null}],l=c.reduce(((e,t)=>{const{path:i,label:n,iconSrc:s}=t;return t.iconSrc?[...e,{path:i,label:n,iconSrc:s}]:e}),[]),r=async()=>[...(await t.getAllData("notepad")).reduce(((e,t)=>{const{id:i,title:n}=t;return[...e,{path:`/notepad/${i}`,label:n,iconSrc:a}]}),[])],d=c,h=new class{constructor(e){this.routes=e}pathToRegexp(e){return new RegExp(`^${e.replace(/\//g,"\\/").replace(/:\w+/g,"(.+)")}$`)}render(){const e=window.location.pathname,t=this.routes.find((t=>this.pathToRegexp(t.path).test(e)));t?document.querySelector("#page").innerHTML=t.html.replace(":id",this.getIdFromPath(e)):this.replaceTo("/")}getIdFromPath(e){return e.match(/\d+/)?.[0]}navigateTo(e){this.getUrlFrom(e)!==window.location.pathname&&(window.history.pushState(null,null,o+e),this.render())}replaceTo(e){window.history.replaceState(null,null,o+e),this.render()}getUrlFrom(e){return`${o}${e}`}back(){window.history.back(),this.render()}}(d),p=e+"59cb65e4f8f2627d6c2c.png",u=e+"bc8d31a2338dd0b3f68a.png";class b extends n{connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.handleClick.bind(this))}injectHTML(){return i`
      <img alt="window_logo" src=${p} class="window_icon" />
      <div class="input_box">
        <img alt="search" src=${u} class="window_icon" /><input type="text" placeholder="Ï∞æÍ∏∞" />
      </div>
      ${l.map((e=>i` <my-icon data-path="${e.path}" data-iconSrc="${e.iconSrc}"></my-icon> `)).join("")}
    `}handleClick(e){if(!e.target.closest("my-icon"))return;const t=e.target.closest("my-icon");h.navigateTo(t.dataset.path)}}class m extends n{}class y extends n{injectHTML(){return i`
      <h1>Tetris</h1>
      <p>You are viewing the Tetris component!</p>
    `}}class g extends n{injectHTML(){return i`
      <h1>Flappy Bird</h1>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
      <p>You are viewing the Flappy Bird component!</p>
    `}}class v extends n{async connectedCallback(){this.icons=[...l,...await r()],super.connectedCallback(),this.addEventListener("click",this.handleClick),this.addEventListener("dblclick",this.handleDoubleClick),this.addEventListener("keydown",this.handleKeyDown),this.addEventListener("iconChange",this.handleIconChange),this.addEventListener("iconDelete",this.handleIconDelete)}static get observedAttributes(){return["icons"]}attributeChangedCallback(e,t,i){t!==i&&this.render()}injectHTML(){return i`
      ${this.icons.map((e=>i`
            <my-icon data-path=${e.path} data-label=${e.label} data-iconSrc=${e.iconSrc}></my-icon>
          `)).join("")}
    `}get icons(){return JSON.parse(this.getAttribute("icons"))}set icons(e){this.setAttribute("icons",JSON.stringify(e))}handleClick(e){if(!e.target.closest("my-icon"))return;const t=e.target.closest("my-icon");t.toggleAttribute("checked"),this.querySelectorAll("my-icon").forEach((e=>{e!==t&&e.removeAttribute("checked")}))}handleDoubleClick(e){if(!e.target.closest("my-icon"))return;const t=e.target.closest("my-icon");h.navigateTo(t.dataset.path)}handleKeyDown(e){const t=this.querySelectorAll("my-icon[checked]");if("Enter"===e.key){if(t.length>1)return;if(!t)return;h.navigateTo(t[0].dataset.path)}}handleIconChange(e){const{path:t,label:i,iconSrc:n}=e.detail,s=this.icons.findIndex((e=>e.path===t));if(-1===s)this.icons=[...this.icons,{path:t,label:i,iconSrc:n}];else{const e=[...this.icons];e[s]={path:t,label:i,iconSrc:n},this.icons=e}}handleIconDelete(e){const{path:t}=e.detail;this.icons=this.icons.filter((e=>e.path!==t))}}class k extends n{injectHTML(){const{label:e,iconsrc:t}=this.dataset;return i`
      <img alt="${e}_icon" src=${t} />
      ${e?`<span class="icon_name">${e}</span>`:""}
    `}}class w extends n{async connectedCallback(){this.data=await t.getData("notepad",this.id)??{title:"Ï†úÎ™©ÏóÜÏùå",content:""},super.connectedCallback(),this.addEventListener("save",this.handleSave),this.addEventListener("localSave",this.handleLocalSave),this.addEventListener("delete",this.handleDelete)}disconnectedCallback(){this.removeEventListener("save",this.handleSave),this.removeEventListener("localSave",this.handleLocalSave),this.removeEventListener("delete",this.handleDelete)}injectHTML(){const{title:e,content:t}=this.data;return i`
      <my-notepad-header title=${e}></my-notepad-header>
      <textarea>${t}</textarea>
    `}handleLocalSave(e){e.preventDefault();const t=this.getNotePadData();if(!t)return;const i=new Blob([t.content],{type:"text/plain"}),n=document.createElement("a");n.href=URL.createObjectURL(i),n.download=`${t.title}.txt`,n.click()}async handleSave(e){e.stopPropagation();const i=this.getNotePadData();if(i)try{const e=await t.upsertData("notepad",i),n=`/notepad/${e}`;alert("Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§.");const s=new CustomEvent("iconChange",{detail:{path:n,label:i,iconSrc:a}});document.querySelector("my-icons").dispatchEvent(s),this.id===e?this.title=i.title.replace(/&nbsp/g," "):h.navigateTo(n)}catch(e){alert("Ï†ÄÏû•Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.")}}async handleDelete(e){try{if(e.stopPropagation(),!window.confirm("Ï†ïÎßê ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?"))return;await t.deleteData("notepad",this.id),alert("ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§.");const i=new CustomEvent("iconDelete",{detail:{path:`/notepad/${this.id}`}});document.querySelector("my-icons").dispatchEvent(i),h.replaceTo("/notepad")}catch(e){alert("ÏÇ≠Ï†úÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.")}}getNotePadData(){const e=this.querySelector("textarea").value.trim();if(!e)return alert("ÎÇ¥Ïö©Ïù¥ ÏóÜÏäµÎãàÎã§."),null;let t;for(;!t;)if(!(t=prompt("ÌååÏùºÎ™ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî.",this.data.title.replace(/&nbsp;/g," ")),t||window.confirm("Ï†úÎ™©ÏùÄ ÌïÑÏàòÏûÖÎãàÎã§.")))return null;return{id:this.id,title:t.trim().replace(/ /g,"&nbsp;"),content:e.replace(/ /g,"&nbsp;")}}get id(){return Number(this.getAttribute("data-id"))}set title(e){this.querySelector("my-notepad-header").setAttribute("title",e)}}const f=!0,S=[{id:"file",title:"ÌååÏùº",key:"F",slots:[{id:1,text:"ÏÉàÎ°ú ÎßåÎì§Í∏∞(N)",key:["Ctrl","N"],onClick:function(){const e=document.querySelector("my-notepad");e["data-id"]?h.navigateTo("/notepad"):e.render()}},{id:2,text:"ÎÇ¥ Ïª¥Ìì®ÌÑ∞Ïóê Ï†ÄÏû•(W)",key:["Ctrl","Shift","N"],onClick:function(){this.dispatchEvent(new CustomEvent("localSave",{bubbles:!0}))}},{id:3,text:"Ï†ÄÏû•(S)",key:["Ctrl","S"],onClick:function(){this.dispatchEvent(new CustomEvent("save",{bubbles:!0}))}},{id:4,text:"ÏÇ≠Ï†ú(D)",key:["Ctrl","Shift","S"],onClick:function(){document.querySelector("my-notepad")["data-id"]&&this.dispatchEvent(new CustomEvent("delete",{bubbles:!0}))}},{id:5,text:"ÌéòÏù¥ÏßÄ ÏÑ§Ï†ï(U)...",key:[],disable:f},{id:6,text:"Ïù∏ÏáÑ(P)...",key:["Ctrl","P"],disable:f},{id:7,text:"ÎÅùÎÇ¥Í∏∞(X)",key:[],disable:f}]},{id:"edit",title:"Ìé∏Ïßë",key:"E",slots:[{id:8,text:"Ïã§Ìñâ Ï∑®ÏÜå(U)",key:["Ctrl","Z"],disable:f},{id:9,text:"ÏûòÎùºÎÇ¥Í∏∞(T)",key:["Ctrl","X"],disable:f},{id:10,text:"Î≥µÏÇ¨(C)",key:["Ctrl","C"],disable:f},{id:11,text:"Î∂ôÏó¨ÎÑ£Í∏∞(P)",key:["Ctrl","V"],disable:f},{id:12,text:"ÏÇ≠Ï†ú(D)",key:["Del"],disable:f},{id:13,text:"BingÏúºÎ°ú Í≤ÄÏÉâ(S)...",key:["Ctrl","E"],disable:f},{id:14,text:"Ï∞æÍ∏∞(F)...",key:["Ctrl","F"],disable:f},{id:15,text:"Îã§Ïùå Ï∞æÍ∏∞(N)",key:["F3"],disable:f},{id:16,text:"Ïù¥Ï†Ñ Ï∞æÍ∏∞(V)",key:["Shift","F3"],disable:f},{id:17,text:"Î∞îÍæ∏Í∏∞(R)...",key:["Ctrl","H"],disable:f},{id:18,text:"Ïù¥Îèô(G)...",key:["Ctrl","G"],disable:f},{id:19,text:"Î™®Îëê ÏÑ†ÌÉù(A)",key:["Ctrl","A"],disable:f},{id:20,text:"ÏãúÍ∞Ñ/ÎÇ†Ïßú(D)",key:["F5"],disable:f}]},{id:"format",title:"ÏÑúÏãù",key:"O",slots:[{id:21,text:"ÏûêÎèô Ï§Ñ Î∞îÍøà(W)",key:[],disable:f},{id:22,text:"Í∏ÄÍº¥(F)...",key:[],disable:f}]},{id:"view",title:"Î≥¥Í∏∞",key:"V",slots:[{id:23,text:"ÌôïÎåÄÌïòÍ∏∞(Z)",key:["Ctrl","+"],disable:f},{id:24,text:"Ï∂ïÏÜåÌïòÍ∏∞(X)",key:["Ctrl","-"],disable:f},{id:25,text:"ÏÉÅÌÉú ÌëúÏãúÏ§Ñ(S)",key:[],disable:f}]},{id:"help",title:"ÎèÑÏõÄÎßê",key:"H",slots:[{id:26,text:"ÎèÑÏõÄÎßê Î≥¥Í∏∞(H)",key:[],disable:f},{id:27,text:"ÌîºÎìúÎ∞± Î≥¥ÎÇ¥Í∏∞(F)",key:[],disable:f},{id:28,text:"Î©îÎ™®Ïû• Ï†ïÎ≥¥(A)",key:[],disable:f}]}],x=S.reduce(((e,t)=>[...e,...t.slots]),[]),C=S;class E extends n{connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.handleClick)}disconnectedCallback(){this.removeEventListener("click",this.handleClick)}static get observedAttributes(){return["title"]}attributeChangedCallback(e,t,i){"title"===e&&t&&(this.querySelector("#title").innerText=i)}injectHTML(){return i`
      <header>
        <span>
          <img alt="notepad_icon" src=${a} />
          <span id="title">${this.title}</span> - Windows Î©îÎ™®Ïû•
        </span>
        <div class="view_buttons">
          <button class="view_button" id="mini">üóï</button>
          <button class="view_button" id="full">üóñ</button>
          <button class="view_button" id="close">‚Ö©</button>
        </div>
      </header>
      <div class="edit_buttons">
        ${C.map((e=>i`
              <button class="edit_button">
                ${e.title}(<u>${e.key}</u>)
                <div class="popup">
                  ${e.slots.map((e=>i`
                        <div class="sub" data-id="${e.id}" data-disable="${!!e.disable}">
                          <div>${e.text}</div>
                          ${e.key.length>0?`<div>${e.key.join(" + ")}</div>`:""}
                        </div>
                      `)).join("")}
                </div>
              </button>
            `)).join("")}
      </div>
    `}handleClick(e){const t=e.target.closest(".view_button"),i=e.target.closest(".edit_button"),n=e.target.closest(".sub");t?this.clickViewButton(t):i?this.clickEditButton(i,n):this.closePopup()}clickViewButton(e){switch(e.id){case"full":this.parentElement.classList.toggle("fullscreen");break;case"mini":case"close":h.back()}}clickEditButton(e,t){if(t){const e=Number(t.dataset.id),{onClick:i}=x.find((t=>t.id===e))||{};i&&i.call(this)}else this.togglePopup(e)}togglePopup(e){const t=e.querySelector(".popup");t.classList.contains("show")?t.classList.remove("show"):(this.closePopup(),t.classList.add("show"))}closePopup(){const e=this.querySelector(".popup.show");e?.classList.remove("show")}get title(){return this.getAttribute("title")}}(async()=>{try{await t.openDB()}catch(e){queueMicrotask((()=>alert("IndexedDBÎ•º ÏÇ¨Ïö©Ìï† Ïàò ÏóÜÏäµÎãàÎã§.")))}customElements.define("my-app",s),customElements.define("my-footer",b),customElements.define("my-home",m),customElements.define("my-tetris",y),customElements.define("my-flappybird",g),customElements.define("my-icons",v),customElements.define("my-icon",k),customElements.define("my-notepad",w),customElements.define("my-notepad-header",E)})(),window.addEventListener("load",(()=>h.render())),window.addEventListener("popstate",(()=>h.render()))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNQLE1BQU1PLEVBQVN2QixPQUFPZ0IsRUFBSWpGLFFBQVFyRSxLQUM1QixRQUFFMkksR0FBWUYsRUFBTTNGLE1BQU1xRyxHQUFTQSxFQUFLbkosS0FBTzZKLEtBQVcsQ0FBQyxFQUM3RGxCLEdBQ0ZBLEVBQVFtQixLQUFLcEwsS0FFakIsTUFDRUEsS0FBS3FMLFlBQVlWLEVBRXJCLENBRUFVLFlBQVlWLEdBQ1YsTUFBTVcsRUFBUVgsRUFBV25HLGNBQWMsVUFDbkM4RyxFQUFNTCxVQUFVaEssU0FBUyxRQUMzQnFLLEVBQU1MLFVBQVVNLE9BQU8sU0FFdkJ2TCxLQUFLK0ssYUFDTE8sRUFBTUwsVUFBVU8sSUFBSSxRQUV4QixDQUVBVCxhQUNFLE1BQU1PLEVBQVF0TCxLQUFLd0UsY0FBYyxlQUNqQzhHLEdBQU9MLFVBQVVNLE9BQU8sT0FDMUIsQ0FFSTNILFlBQ0YsT0FBTzVELEtBQUs2RyxhQUFhLFFBQzNCLEVDN0dGLFdBQ0UsVUFDUSxVQUNSLENBQUUsTUFBT2pHLEdBQ1A2SyxnQkFBZSxJQUFNdEMsTUFBTSwyQkFDN0IsQ0FFQXVDLGVBQWVDLE9BQU8sU0FBVTVJLEdBQ2hDMkksZUFBZUMsT0FBTyxZQUFheEcsR0FDbkN1RyxlQUFlQyxPQUFPLFVBQVcvRixHQUNqQzhGLGVBQWVDLE9BQU8sWUFBYTlGLEdBQ25DNkYsZUFBZUMsT0FBTyxnQkFBaUI3RixHQUN2QzRGLGVBQWVDLE9BQU8sV0FBWTVGLEdBQ2xDMkYsZUFBZUMsT0FBTyxVQUFXL0QsR0FDakM4RCxlQUFlQyxPQUFPLGFBQWM3RCxHQUNwQzRELGVBQWVDLE9BQU8sb0JBQXFCckIsRUFDNUMsRUFoQkQsR0FrQkFoSyxPQUFPK0UsaUJBQWlCLFFBQVEsSUFBTSxhQUN0Qy9FLE9BQU8rRSxpQkFBaUIsWUFBWSxJQUFNLFkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94L3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy9jb3JlL0luZGV4ZWREQi5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvdXRpbHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL2NvcmUvV2ViQ29tcG9uZW50LmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy9BcHAuanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL3V0aWxzL3JvdXRlcy5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvY29yZS9Sb3V0ZXIuanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1zYW5kYm94Ly4vc3JjL3ZpZXcvQ29tbW9uL0Zvb3Rlci5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvdmlldy9Ib21lL2luZGV4LmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy92aWV3L1RldHJpcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvdmlldy9GbGFwcHlCaXJkL2luZGV4LmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy92aWV3L0NvbW1vbi9JY29ucy5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvdmlldy9Db21tb24vSWNvbi5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvdmlldy9Ob3RlUGFkL2luZGV4LmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtc2FuZGJveC8uL3NyYy92aWV3L05vdGVQYWQvY29uc3QvYnV0dG9ucy5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvdmlldy9Ob3RlUGFkL2NvbXBvbmVudHMvTm90ZVBhZEhlYWRlci5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LXNhbmRib3gvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL2pzLXNhbmRib3gvXCI7IiwiY2xhc3MgSW5kZXhlZERCIHtcclxuICBkYjtcclxuXHJcbiAgLyoqXHJcbiAgICog7IOd7ISx7J6QXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRiTmFtZVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkYlZlcnNpb25cclxuICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBzdG9yZXNcclxuICAgKi9cclxuICBjb25zdHJ1Y3RvcihkYk5hbWUsIGRiVmVyc2lvbiwgc3RvcmVzKSB7XHJcbiAgICB0aGlzLmRiTmFtZSA9IGRiTmFtZTtcclxuICAgIHRoaXMuZGJWZXJzaW9uID0gZGJWZXJzaW9uO1xyXG4gICAgdGhpcy5zdG9yZXMgPSBzdG9yZXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEQiDsmKTtlIgg66mU7ISc65OcXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XHJcbiAgICovXHJcbiAgYXN5bmMgb3BlbkRCKCkge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgY29uc3QgcmVxdWVzdCA9IHdpbmRvdy5pbmRleGVkREIub3Blbih0aGlzLmRiTmFtZSwgdGhpcy5kYlZlcnNpb24pO1xyXG5cclxuICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5kYiA9IHJlcXVlc3QucmVzdWx0O1xyXG4gICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJlcXVlc3Qub25lcnJvciA9IChlKSA9PiB7XHJcbiAgICAgICAgcmVqZWN0KGUpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgcmVxdWVzdC5vbnVwZ3JhZGVuZWVkZWQgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5kYiA9IHJlcXVlc3QucmVzdWx0O1xyXG5cclxuICAgICAgICB0aGlzLnN0b3Jlcy5mb3JFYWNoKChzdG9yZSkgPT4ge1xyXG4gICAgICAgICAgaWYgKHRoaXMuZGIub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucyhzdG9yZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5kYi5kZWxldGVPYmplY3RTdG9yZShzdG9yZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLmRiLmNyZWF0ZU9iamVjdFN0b3JlKHN0b3JlLCB7IGtleVBhdGg6ICdpZCcgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOuNsOydtO2EsCDsobDtmowg66mU7ISc65OcXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0b3JlTmFtZVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpZFxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPG9iamVjdD59XHJcbiAgICovXHJcbiAgYXN5bmMgZ2V0RGF0YShzdG9yZU5hbWUsIGlkKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5kYi50cmFuc2FjdGlvbihzdG9yZU5hbWUsICdyZWFkb25seScpLm9iamVjdFN0b3JlKHN0b3JlTmFtZSkuZ2V0KGlkKTtcclxuXHJcbiAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xyXG4gICAgICAgIHJlc29sdmUocmVxdWVzdC5yZXN1bHQpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgcmVxdWVzdC5vbmVycm9yID0gKGUpID0+IHtcclxuICAgICAgICByZWplY3QoZSk7XHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOuNsOydtO2EsCDsoITssrQg7KGw7ZqMIOuplOyEnOuTnFxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdG9yZU5hbWVcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxvYmplY3RbXT59XHJcbiAgICovXHJcbiAgYXN5bmMgZ2V0QWxsRGF0YShzdG9yZU5hbWUpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSB0aGlzLmRiLnRyYW5zYWN0aW9uKHN0b3JlTmFtZSwgJ3JlYWRvbmx5Jykub2JqZWN0U3RvcmUoc3RvcmVOYW1lKS5nZXRBbGwoKTtcclxuXHJcbiAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xyXG4gICAgICAgIHJlc29sdmUocmVxdWVzdC5yZXN1bHQpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgcmVxdWVzdC5vbmVycm9yID0gKGUpID0+IHtcclxuICAgICAgICByZWplY3QoZSk7XHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOuNsOydtO2EsCDstpTqsIAg66mU7ISc65OcXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0b3JlTmFtZVxyXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8b2JqZWN0Pn1cclxuICAgKi9cclxuICBhc3luYyB1cHNlcnREYXRhKHN0b3JlTmFtZSwgZGF0YSkge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgY29uc3Qgb2JqZWN0U3RvcmUgPSB0aGlzLmRiLnRyYW5zYWN0aW9uKHN0b3JlTmFtZSwgJ3JlYWR3cml0ZScpLm9iamVjdFN0b3JlKHN0b3JlTmFtZSk7XHJcbiAgICAgIGNvbnN0IG1vZGlmaWVkRGF0YSA9IHsgLi4uZGF0YSwgaWQ6IGRhdGEuaWQgfHwgbmV3IERhdGUoKS5nZXRUaW1lKCkgfTtcclxuICAgICAgY29uc3QgcmVxdWVzdCA9IG9iamVjdFN0b3JlLnB1dChtb2RpZmllZERhdGEpO1xyXG5cclxuICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XHJcbiAgICAgICAgcmVzb2x2ZShyZXF1ZXN0LnJlc3VsdCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2cocmVxdWVzdC5lcnJvcik7XHJcbiAgICAgICAgcmVqZWN0KHJlcXVlc3QuZXJyb3IpO1xyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDrjbDsnbTthLAg7IKt7KCcIOuplOyEnOuTnFxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdG9yZU5hbWVcclxuICAgKiBAcGFyYW0ge251bWJlcn0gaWRcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxvYmplY3Q+fVxyXG4gICAqL1xyXG4gIGFzeW5jIGRlbGV0ZURhdGEoc3RvcmVOYW1lLCBpZCkge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgY29uc3QgcmVxdWVzdCA9IHRoaXMuZGIudHJhbnNhY3Rpb24oc3RvcmVOYW1lLCAncmVhZHdyaXRlJykub2JqZWN0U3RvcmUoc3RvcmVOYW1lKS5kZWxldGUoaWQpO1xyXG5cclxuICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XHJcbiAgICAgICAgcmVzb2x2ZSh0cnVlKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJlcXVlc3Qub25lcnJvciA9IChlKSA9PiB7XHJcbiAgICAgICAgcmVqZWN0KGUpO1xyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBzYW5kYm94REIgPSBuZXcgSW5kZXhlZERCKCdzYW5kYm94REInLCAyLCBbJ25vdGVwYWQnXSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBzYW5kYm94REI7XHJcbiIsImNvbnN0IHJlbmRlclJhdyA9IChzdHJpbmcsIC4uLnZhbHVlcykgPT4ge1xyXG4gIHJldHVybiBTdHJpbmcucmF3KHN0cmluZywgLi4udmFsdWVzKTtcclxufTtcclxuXHJcbmV4cG9ydCB7IHJlbmRlclJhdyBhcyBodG1sLCByZW5kZXJSYXcgYXMgY3NzIH07XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFdlYkNvbXBvbmVudCBleHRlbmRzIEhUTUxFbGVtZW50IHtcclxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcclxuICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgfVxyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICB0aGlzLmlubmVySFRNTCA9IHRoaXMuaW5qZWN0SFRNTCgpO1xyXG4gIH1cclxuXHJcbiAgaW5qZWN0SFRNTCgpIHtcclxuICAgIHJldHVybiBgYDtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgaHRtbCB9IGZyb20gJy4vdXRpbHMvdXRpbHMnO1xyXG5pbXBvcnQgV2ViQ29tcG9uZW50IGZyb20gJy4vY29yZS9XZWJDb21wb25lbnQnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBwIGV4dGVuZHMgV2ViQ29tcG9uZW50IHtcclxuICBpbmplY3RIVE1MKCkge1xyXG4gICAgcmV0dXJuIGh0bWxgXHJcbiAgICAgIDxkaXYgaWQ9XCJwYWdlXCI+PC9kaXY+XHJcbiAgICAgIDxteS1pY29ucyB0YWJpbmRleD1cIi0xXCI+PC9teS1pY29ucz5cclxuICAgICAgPG15LWZvb3Rlcj48L215LWZvb3Rlcj5cclxuICAgIGA7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IGh0bWwgfSBmcm9tICcuL3V0aWxzJztcclxuaW1wb3J0IHRldHJpcyBmcm9tICcuLi8uLi9wdWJsaWMvdGV0cmlzLnBuZyc7XHJcbmltcG9ydCBmbGFwcHlCaXJkIGZyb20gJy4uLy4uL3B1YmxpYy9mbGFwcHlCaXJkLnBuZyc7XHJcbmltcG9ydCBub3RlcGFkIGZyb20gJy4uLy4uL3B1YmxpYy9ub3RlcGFkLnBuZyc7XHJcbmltcG9ydCBzYW5kYm94REIgZnJvbSAnLi4vY29yZS9JbmRleGVkREInO1xyXG5cclxuY29uc3QgQkFTRV9VUkwgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/ICcnIDogJy9qcy1zYW5kYm94JztcclxuXHJcbmNvbnN0IHJvdXRlcyA9IFtcclxuICB7XHJcbiAgICBwYXRoOiBgL2AsXHJcbiAgICBodG1sOiBodG1sYDxteS1ob21lPjwvbXktaG9tZT5gLFxyXG4gICAgbGFiZWw6ICdIb21lJyxcclxuICAgIGljb25TcmM6IG51bGwsXHJcbiAgfSxcclxuICB7XHJcbiAgICBwYXRoOiBgL3RldHJpc2AsXHJcbiAgICBodG1sOiBodG1sYDxteS10ZXRyaXM+PC9teS10ZXRyaXM+YCxcclxuICAgIGxhYmVsOiAnVGV0cmlzJyxcclxuICAgIGljb25TcmM6IHRldHJpcyxcclxuICB9LFxyXG4gIHtcclxuICAgIHBhdGg6IGAvZmxhcHB5YmlyZGAsXHJcbiAgICBodG1sOiBodG1sYDxteS1mbGFwcHliaXJkPjwvbXktZmxhcHB5YmlyZD5gLFxyXG4gICAgbGFiZWw6ICdGbGFwcHkmbmJzcDtCaXJkJyxcclxuICAgIGljb25TcmM6IGZsYXBweUJpcmQsXHJcbiAgfSxcclxuICB7XHJcbiAgICBwYXRoOiBgL25vdGVwYWRgLFxyXG4gICAgaHRtbDogaHRtbGA8bXktbm90ZXBhZD48L215LW5vdGVwYWQ+YCxcclxuICAgIGxhYmVsOiAnTm90ZSZuYnNwO1BhZCcsXHJcbiAgICBpY29uU3JjOiBub3RlcGFkLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcGF0aDogYCR7QkFTRV9VUkx9L25vdGVwYWQvOmlkYCxcclxuICAgIGh0bWw6IGh0bWxgPG15LW5vdGVwYWQgZGF0YS1pZD1cIjppZFwiPjwvbXktbm90ZXBhZD5gLFxyXG4gICAgbGFiZWw6ICdOb3RlJm5ic3A7UGFkJyxcclxuICAgIGljb25TcmM6IG51bGwsXHJcbiAgfSxcclxuXTtcclxuXHJcbmNvbnN0IG1haW5JY29ucyA9IHJvdXRlcy5yZWR1Y2UoKHByZXYsIHJvdXRlcikgPT4ge1xyXG4gIGNvbnN0IHsgcGF0aCwgbGFiZWwsIGljb25TcmMgfSA9IHJvdXRlcjtcclxuICBpZiAoIXJvdXRlci5pY29uU3JjKSByZXR1cm4gcHJldjtcclxuICByZXR1cm4gWy4uLnByZXYsIHsgcGF0aCwgbGFiZWwsIGljb25TcmMgfV07XHJcbn0sIFtdKTtcclxuXHJcbmNvbnN0IGdldExvY2FsSWNvbnMgPSBhc3luYyAoKSA9PiB7XHJcbiAgY29uc3Qgbm90ZXBhZERhdGEgPSBhd2FpdCBzYW5kYm94REIuZ2V0QWxsRGF0YSgnbm90ZXBhZCcpO1xyXG4gIGNvbnN0IG5vdGVwYWRJY29ucyA9IG5vdGVwYWREYXRhLnJlZHVjZSgocHJldiwgaWNvbikgPT4ge1xyXG4gICAgY29uc3QgeyBpZCwgdGl0bGUgfSA9IGljb247XHJcbiAgICByZXR1cm4gWy4uLnByZXYsIHsgcGF0aDogYC9ub3RlcGFkLyR7aWR9YCwgbGFiZWw6IHRpdGxlLCBpY29uU3JjOiBub3RlcGFkIH1dO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgcmV0dXJuIFsuLi5ub3RlcGFkSWNvbnNdO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVzO1xyXG5leHBvcnQgeyBtYWluSWNvbnMsIGdldExvY2FsSWNvbnMsIEJBU0VfVVJMIH07XHJcbiIsImltcG9ydCByb3V0ZXMsIHsgQkFTRV9VUkwgfSBmcm9tICcuLi91dGlscy9yb3V0ZXMnO1xyXG5cclxuY2xhc3MgUm91dGVyIHtcclxuICBjb25zdHJ1Y3Rvcihyb3V0ZSkge1xyXG4gICAgdGhpcy5yb3V0ZXMgPSByb3V0ZTtcclxuICB9XHJcblxyXG4gIHBhdGhUb1JlZ2V4cChwYXRoKSB7XHJcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChgXiR7cGF0aC5yZXBsYWNlKC9cXC8vZywgJ1xcXFwvJykucmVwbGFjZSgvOlxcdysvZywgJyguKyknKX0kYCk7XHJcbiAgfVxyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICBjb25zdCBjdXJyZW50UGF0aCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTtcclxuICAgIGNvbnN0IHJvdXRlID0gdGhpcy5yb3V0ZXMuZmluZCgodmFsdWUpID0+IHRoaXMucGF0aFRvUmVnZXhwKHZhbHVlLnBhdGgpLnRlc3QoY3VycmVudFBhdGgpKTtcclxuXHJcbiAgICBpZiAoIXJvdXRlKSB7XHJcbiAgICAgIHRoaXMucmVwbGFjZVRvKCcvJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcGFnZScpLmlubmVySFRNTCA9IHJvdXRlLmh0bWwucmVwbGFjZSgnOmlkJywgdGhpcy5nZXRJZEZyb21QYXRoKGN1cnJlbnRQYXRoKSk7XHJcbiAgfVxyXG5cclxuICBnZXRJZEZyb21QYXRoKHBhdGgpIHtcclxuICAgIHJldHVybiBwYXRoLm1hdGNoKC9cXGQrLyk/LlswXTtcclxuICB9XHJcblxyXG4gIG5hdmlnYXRlVG8odXJsKSB7XHJcbiAgICBpZiAodGhpcy5nZXRVcmxGcm9tKHVybCkgPT09IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSkgcmV0dXJuO1xyXG4gICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKG51bGwsIG51bGwsIEJBU0VfVVJMICsgdXJsKTtcclxuICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgfVxyXG5cclxuICByZXBsYWNlVG8odXJsKSB7XHJcbiAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgbnVsbCwgQkFTRV9VUkwgKyB1cmwpO1xyXG4gICAgdGhpcy5yZW5kZXIoKTtcclxuICB9XHJcblxyXG4gIGdldFVybEZyb20odXJsKSB7XHJcbiAgICByZXR1cm4gYCR7QkFTRV9VUkx9JHt1cmx9YDtcclxuICB9XHJcblxyXG4gIGJhY2soKSB7XHJcbiAgICB3aW5kb3cuaGlzdG9yeS5iYWNrKCk7XHJcbiAgICB0aGlzLnJlbmRlcigpO1xyXG4gIH1cclxufVxyXG5cclxuY29uc3Qgcm91dGVyID0gbmV3IFJvdXRlcihyb3V0ZXMpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xyXG4iLCJpbXBvcnQgV2ViQ29tcG9uZW50IGZyb20gJy4uLy4uL2NvcmUvV2ViQ29tcG9uZW50JztcclxuaW1wb3J0IHsgaHRtbCB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJztcclxuaW1wb3J0IHsgbWFpbkljb25zIH0gZnJvbSAnLi4vLi4vdXRpbHMvcm91dGVzJztcclxuaW1wb3J0IHJvdXRlciBmcm9tICcuLi8uLi9jb3JlL1JvdXRlcic7XHJcbmltcG9ydCB3aW5kb3dMb2dvIGZyb20gJy4uLy4uLy4uL3B1YmxpYy93aW5kb3dMb2dvLnBuZyc7XHJcbmltcG9ydCBzZWFyY2hJY29uIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9zZWFyY2hJY29uLnBuZyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGb290ZXIgZXh0ZW5kcyBXZWJDb21wb25lbnQge1xyXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xyXG4gICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcclxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNsaWNrLmJpbmQodGhpcykpO1xyXG4gIH1cclxuXHJcbiAgaW5qZWN0SFRNTCgpIHtcclxuICAgIHJldHVybiBodG1sYFxyXG4gICAgICA8aW1nIGFsdD1cIndpbmRvd19sb2dvXCIgc3JjPSR7d2luZG93TG9nb30gY2xhc3M9XCJ3aW5kb3dfaWNvblwiIC8+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJpbnB1dF9ib3hcIj5cclxuICAgICAgICA8aW1nIGFsdD1cInNlYXJjaFwiIHNyYz0ke3NlYXJjaEljb259IGNsYXNzPVwid2luZG93X2ljb25cIiAvPjxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwi7LC+6riwXCIgLz5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgICR7bWFpbkljb25zXHJcbiAgICAgICAgLm1hcCgoaWNvbikgPT4ge1xyXG4gICAgICAgICAgcmV0dXJuIGh0bWxgIDxteS1pY29uIGRhdGEtcGF0aD1cIiR7aWNvbi5wYXRofVwiIGRhdGEtaWNvblNyYz1cIiR7aWNvbi5pY29uU3JjfVwiPjwvbXktaWNvbj4gYDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5qb2luKCcnKX1cclxuICAgIGA7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVDbGljayhlKSB7XHJcbiAgICBpZiAoIWUudGFyZ2V0LmNsb3Nlc3QoJ215LWljb24nKSkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGljb24gPSBlLnRhcmdldC5jbG9zZXN0KCdteS1pY29uJyk7XHJcbiAgICByb3V0ZXIubmF2aWdhdGVUbyhpY29uLmRhdGFzZXQucGF0aCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBXZWJDb21wb25lbnQgZnJvbSAnLi4vLi4vY29yZS9XZWJDb21wb25lbnQnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSG9tZSBleHRlbmRzIFdlYkNvbXBvbmVudCB7fVxyXG4iLCJpbXBvcnQgV2ViQ29tcG9uZW50IGZyb20gJy4uLy4uL2NvcmUvV2ViQ29tcG9uZW50JztcclxuaW1wb3J0IHsgaHRtbCB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRldHJpcyBleHRlbmRzIFdlYkNvbXBvbmVudCB7XHJcbiAgaW5qZWN0SFRNTCgpIHtcclxuICAgIHJldHVybiBodG1sYFxyXG4gICAgICA8aDE+VGV0cmlzPC9oMT5cclxuICAgICAgPHA+WW91IGFyZSB2aWV3aW5nIHRoZSBUZXRyaXMgY29tcG9uZW50ITwvcD5cclxuICAgIGA7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBXZWJDb21wb25lbnQgZnJvbSAnLi4vLi4vY29yZS9XZWJDb21wb25lbnQnO1xyXG5pbXBvcnQgeyBodG1sIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbHMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmxhcHB5QmlyZCBleHRlbmRzIFdlYkNvbXBvbmVudCB7XHJcbiAgaW5qZWN0SFRNTCgpIHtcclxuICAgIHJldHVybiBodG1sYFxyXG4gICAgICA8aDE+RmxhcHB5IEJpcmQ8L2gxPlxyXG4gICAgICA8cD5Zb3UgYXJlIHZpZXdpbmcgdGhlIEZsYXBweSBCaXJkIGNvbXBvbmVudCE8L3A+XHJcbiAgICAgIDxwPllvdSBhcmUgdmlld2luZyB0aGUgRmxhcHB5IEJpcmQgY29tcG9uZW50ITwvcD5cclxuICAgICAgPHA+WW91IGFyZSB2aWV3aW5nIHRoZSBGbGFwcHkgQmlyZCBjb21wb25lbnQhPC9wPlxyXG4gICAgICA8cD5Zb3UgYXJlIHZpZXdpbmcgdGhlIEZsYXBweSBCaXJkIGNvbXBvbmVudCE8L3A+XHJcbiAgICAgIDxwPllvdSBhcmUgdmlld2luZyB0aGUgRmxhcHB5IEJpcmQgY29tcG9uZW50ITwvcD5cclxuICAgICAgPHA+WW91IGFyZSB2aWV3aW5nIHRoZSBGbGFwcHkgQmlyZCBjb21wb25lbnQhPC9wPlxyXG4gICAgYDtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgaHRtbCB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJztcclxuaW1wb3J0IHJvdXRlciBmcm9tICcuLi8uLi9jb3JlL1JvdXRlcic7XHJcbmltcG9ydCBXZWJDb21wb25lbnQgZnJvbSAnLi4vLi4vY29yZS9XZWJDb21wb25lbnQnO1xyXG5pbXBvcnQgeyBnZXRMb2NhbEljb25zLCBtYWluSWNvbnMgfSBmcm9tICcuLi8uLi91dGlscy9yb3V0ZXMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSWNvbnMgZXh0ZW5kcyBXZWJDb21wb25lbnQge1xyXG4gIGFzeW5jIGNvbm5lY3RlZENhbGxiYWNrKCkge1xyXG4gICAgdGhpcy5pY29ucyA9IFsuLi5tYWluSWNvbnMsIC4uLihhd2FpdCBnZXRMb2NhbEljb25zKCkpXTtcclxuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XHJcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGljayk7XHJcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgdGhpcy5oYW5kbGVEb3VibGVDbGljayk7XHJcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmhhbmRsZUtleURvd24pO1xyXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdpY29uQ2hhbmdlJywgdGhpcy5oYW5kbGVJY29uQ2hhbmdlKTtcclxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignaWNvbkRlbGV0ZScsIHRoaXMuaGFuZGxlSWNvbkRlbGV0ZSk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpIHtcclxuICAgIHJldHVybiBbJ2ljb25zJ107XHJcbiAgfVxyXG5cclxuICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XHJcbiAgICBpZiAob2xkVmFsdWUgPT09IG5ld1ZhbHVlKSByZXR1cm47XHJcbiAgICB0aGlzLnJlbmRlcigpO1xyXG4gIH1cclxuXHJcbiAgaW5qZWN0SFRNTCgpIHtcclxuICAgIHJldHVybiBodG1sYFxyXG4gICAgICAke3RoaXMuaWNvbnNcclxuICAgICAgICAubWFwKChpY29uKSA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gaHRtbGBcclxuICAgICAgICAgICAgPG15LWljb24gZGF0YS1wYXRoPSR7aWNvbi5wYXRofSBkYXRhLWxhYmVsPSR7aWNvbi5sYWJlbH0gZGF0YS1pY29uU3JjPSR7aWNvbi5pY29uU3JjfT48L215LWljb24+XHJcbiAgICAgICAgICBgO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmpvaW4oJycpfVxyXG4gICAgYDtcclxuICB9XHJcblxyXG4gIGdldCBpY29ucygpIHtcclxuICAgIHJldHVybiBKU09OLnBhcnNlKHRoaXMuZ2V0QXR0cmlidXRlKCdpY29ucycpKTtcclxuICB9XHJcblxyXG4gIHNldCBpY29ucyh2YWx1ZSkge1xyXG4gICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ2ljb25zJywgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUNsaWNrKGUpIHtcclxuICAgIGlmICghZS50YXJnZXQuY2xvc2VzdCgnbXktaWNvbicpKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgaWNvbiA9IGUudGFyZ2V0LmNsb3Nlc3QoJ215LWljb24nKTtcclxuICAgIGljb24udG9nZ2xlQXR0cmlidXRlKCdjaGVja2VkJyk7XHJcbiAgICB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoJ215LWljb24nKS5mb3JFYWNoKChub2RlKSA9PiB7XHJcbiAgICAgIGlmIChub2RlICE9PSBpY29uKSB7XHJcbiAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUoJ2NoZWNrZWQnKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVEb3VibGVDbGljayhlKSB7XHJcbiAgICBpZiAoIWUudGFyZ2V0LmNsb3Nlc3QoJ215LWljb24nKSkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGljb24gPSBlLnRhcmdldC5jbG9zZXN0KCdteS1pY29uJyk7XHJcbiAgICByb3V0ZXIubmF2aWdhdGVUbyhpY29uLmRhdGFzZXQucGF0aCk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVLZXlEb3duKGUpIHtcclxuICAgIGNvbnN0IGNoZWNrZWRFbCA9IHRoaXMucXVlcnlTZWxlY3RvckFsbCgnbXktaWNvbltjaGVja2VkXScpO1xyXG4gICAgaWYgKGUua2V5ID09PSAnRW50ZXInKSB7XHJcbiAgICAgIGlmIChjaGVja2VkRWwubGVuZ3RoID4gMSkgcmV0dXJuO1xyXG4gICAgICBpZiAoIWNoZWNrZWRFbCkgcmV0dXJuO1xyXG4gICAgICByb3V0ZXIubmF2aWdhdGVUbyhjaGVja2VkRWxbMF0uZGF0YXNldC5wYXRoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZUljb25DaGFuZ2UoZSkge1xyXG4gICAgY29uc3QgeyBwYXRoLCBsYWJlbCwgaWNvblNyYyB9ID0gZS5kZXRhaWw7XHJcbiAgICBjb25zdCBwcmV2SWNvbkluZGV4ID0gdGhpcy5pY29ucy5maW5kSW5kZXgoKGljb24pID0+IGljb24ucGF0aCA9PT0gcGF0aCk7XHJcblxyXG4gICAgaWYgKHByZXZJY29uSW5kZXggPT09IC0xKSB7XHJcbiAgICAgIHRoaXMuaWNvbnMgPSBbLi4udGhpcy5pY29ucywgeyBwYXRoLCBsYWJlbCwgaWNvblNyYyB9XTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IG5ld0ljb25zID0gWy4uLnRoaXMuaWNvbnNdO1xyXG4gICAgICBuZXdJY29uc1twcmV2SWNvbkluZGV4XSA9IHsgcGF0aCwgbGFiZWwsIGljb25TcmMgfTtcclxuICAgICAgdGhpcy5pY29ucyA9IG5ld0ljb25zO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlSWNvbkRlbGV0ZShlKSB7XHJcbiAgICBjb25zdCB7IHBhdGggfSA9IGUuZGV0YWlsO1xyXG4gICAgdGhpcy5pY29ucyA9IHRoaXMuaWNvbnMuZmlsdGVyKChpY29uKSA9PiBpY29uLnBhdGggIT09IHBhdGgpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBodG1sIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbHMnO1xyXG5pbXBvcnQgV2ViQ29tcG9uZW50IGZyb20gJy4uLy4uL2NvcmUvV2ViQ29tcG9uZW50JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEljb24gZXh0ZW5kcyBXZWJDb21wb25lbnQge1xyXG4gIGluamVjdEhUTUwoKSB7XHJcbiAgICBjb25zdCB7IGxhYmVsLCBpY29uc3JjIH0gPSB0aGlzLmRhdGFzZXQ7XHJcbiAgICByZXR1cm4gaHRtbGBcclxuICAgICAgPGltZyBhbHQ9XCIke2xhYmVsfV9pY29uXCIgc3JjPSR7aWNvbnNyY30gLz5cclxuICAgICAgJHtsYWJlbCA/IGA8c3BhbiBjbGFzcz1cImljb25fbmFtZVwiPiR7bGFiZWx9PC9zcGFuPmAgOiAnJ31cclxuICAgIGA7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBXZWJDb21wb25lbnQgZnJvbSAnLi4vLi4vY29yZS9XZWJDb21wb25lbnQnO1xyXG5pbXBvcnQgeyBodG1sIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbHMnO1xyXG5pbXBvcnQgJy4vc3R5bGVzLnNjc3MnO1xyXG5pbXBvcnQgc2FuZGJveERCIGZyb20gJy4uLy4uL2NvcmUvSW5kZXhlZERCJztcclxuaW1wb3J0IE5vdGVQYWRJY29uIGZyb20gJy4uLy4uLy4uL3B1YmxpYy9ub3RlcGFkLnBuZyc7XHJcbmltcG9ydCByb3V0ZXIgZnJvbSAnLi4vLi4vY29yZS9Sb3V0ZXInO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTm90ZVBhZCBleHRlbmRzIFdlYkNvbXBvbmVudCB7XHJcbiAgYXN5bmMgY29ubmVjdGVkQ2FsbGJhY2soKSB7XHJcbiAgICB0aGlzLmRhdGEgPSAoYXdhaXQgc2FuZGJveERCLmdldERhdGEoJ25vdGVwYWQnLCB0aGlzLmlkKSkgPz8ge1xyXG4gICAgICB0aXRsZTogJ+ygnOuqqeyXhuydjCcsXHJcbiAgICAgIGNvbnRlbnQ6ICcnLFxyXG4gICAgfTtcclxuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XHJcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ3NhdmUnLCB0aGlzLmhhbmRsZVNhdmUpO1xyXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdsb2NhbFNhdmUnLCB0aGlzLmhhbmRsZUxvY2FsU2F2ZSk7XHJcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2RlbGV0ZScsIHRoaXMuaGFuZGxlRGVsZXRlKTtcclxuICB9XHJcblxyXG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xyXG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCdzYXZlJywgdGhpcy5oYW5kbGVTYXZlKTtcclxuICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9jYWxTYXZlJywgdGhpcy5oYW5kbGVMb2NhbFNhdmUpO1xyXG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCdkZWxldGUnLCB0aGlzLmhhbmRsZURlbGV0ZSk7XHJcbiAgfVxyXG5cclxuICBpbmplY3RIVE1MKCkge1xyXG4gICAgY29uc3QgeyB0aXRsZSwgY29udGVudCB9ID0gdGhpcy5kYXRhO1xyXG4gICAgcmV0dXJuIGh0bWxgXHJcbiAgICAgIDxteS1ub3RlcGFkLWhlYWRlciB0aXRsZT0ke3RpdGxlfT48L215LW5vdGVwYWQtaGVhZGVyPlxyXG4gICAgICA8dGV4dGFyZWE+JHtjb250ZW50fTwvdGV4dGFyZWE+XHJcbiAgICBgO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlTG9jYWxTYXZlKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGNvbnN0IG5vdGVQYWREYXRhID0gdGhpcy5nZXROb3RlUGFkRGF0YSgpO1xyXG4gICAgaWYgKCFub3RlUGFkRGF0YSkgcmV0dXJuO1xyXG4gICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtub3RlUGFkRGF0YS5jb250ZW50XSwgeyB0eXBlOiAndGV4dC9wbGFpbicgfSk7XHJcbiAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgbGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuICAgIGxpbmsuZG93bmxvYWQgPSBgJHtub3RlUGFkRGF0YS50aXRsZX0udHh0YDtcclxuICAgIGxpbmsuY2xpY2soKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGhhbmRsZVNhdmUoZSkge1xyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIGNvbnN0IG5vdGVQYWREYXRhID0gdGhpcy5nZXROb3RlUGFkRGF0YSgpO1xyXG4gICAgaWYgKCFub3RlUGFkRGF0YSkgcmV0dXJuO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNhbmRib3hEQi51cHNlcnREYXRhKCdub3RlcGFkJywgbm90ZVBhZERhdGEpO1xyXG5cclxuICAgICAgY29uc3QgcGF0aCA9IGAvbm90ZXBhZC8ke3Jlc3VsdH1gO1xyXG5cclxuICAgICAgYWxlcnQoJ+yggOyepeuQmOyXiOyKteuLiOuLpC4nKTtcclxuICAgICAgY29uc3QgaWNvbkNoYW5nZUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdpY29uQ2hhbmdlJywge1xyXG4gICAgICAgIGRldGFpbDoge1xyXG4gICAgICAgICAgcGF0aCxcclxuICAgICAgICAgIGxhYmVsOiBub3RlUGFkRGF0YSxcclxuICAgICAgICAgIGljb25TcmM6IE5vdGVQYWRJY29uLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdteS1pY29ucycpLmRpc3BhdGNoRXZlbnQoaWNvbkNoYW5nZUV2ZW50KTtcclxuXHJcbiAgICAgIGlmICh0aGlzLmlkID09PSByZXN1bHQpIHtcclxuICAgICAgICB0aGlzLnRpdGxlID0gbm90ZVBhZERhdGEudGl0bGUucmVwbGFjZSgvJm5ic3AvZywgJyAnKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByb3V0ZXIubmF2aWdhdGVUbyhwYXRoKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGFsZXJ0KCfsoIDsnqXsl5Ag7Iuk7Yyo7ZaI7Iq164uI64ukLicpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgaGFuZGxlRGVsZXRlKGUpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgIGNvbnN0IGNvbmZpcm1SZXN1bHQgPSB3aW5kb3cuY29uZmlybSgn7KCV66eQIOyCreygnO2VmOyLnOqyoOyKteuLiOq5jD8nKTtcclxuICAgICAgaWYgKCFjb25maXJtUmVzdWx0KSByZXR1cm47XHJcblxyXG4gICAgICBhd2FpdCBzYW5kYm94REIuZGVsZXRlRGF0YSgnbm90ZXBhZCcsIHRoaXMuaWQpO1xyXG5cclxuICAgICAgYWxlcnQoJ+yCreygnOuQmOyXiOyKteuLiOuLpC4nKTtcclxuICAgICAgY29uc3QgaWNvbkRlbGV0ZUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdpY29uRGVsZXRlJywge1xyXG4gICAgICAgIGRldGFpbDoge1xyXG4gICAgICAgICAgcGF0aDogYC9ub3RlcGFkLyR7dGhpcy5pZH1gLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdteS1pY29ucycpLmRpc3BhdGNoRXZlbnQoaWNvbkRlbGV0ZUV2ZW50KTtcclxuICAgICAgcm91dGVyLnJlcGxhY2VUbygnL25vdGVwYWQnKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBhbGVydCgn7IKt7KCc7JeQIOyLpO2MqO2WiOyKteuLiOuLpC4nKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldE5vdGVQYWREYXRhKCkge1xyXG4gICAgY29uc3QgY29udGVudEVsID0gdGhpcy5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYScpO1xyXG4gICAgY29uc3QgY29udGVudCA9IGNvbnRlbnRFbC52YWx1ZS50cmltKCk7XHJcbiAgICBpZiAoIWNvbnRlbnQpIHtcclxuICAgICAgYWxlcnQoJ+uCtOyaqeydtCDsl4bsirXri4jri6QuJyk7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCB0aXRsZTtcclxuICAgIHdoaWxlICghdGl0bGUpIHtcclxuICAgICAgdGl0bGUgPSBwcm9tcHQoJ+2MjOydvOuqheydhCDsnoXroKXtlZjshLjsmpQuJywgdGhpcy5kYXRhLnRpdGxlLnJlcGxhY2UoLyZuYnNwOy9nLCAnICcpKTtcclxuICAgICAgaWYgKCF0aXRsZSkge1xyXG4gICAgICAgIGNvbnN0IGNvbmZpcm1SZXN1bHQgPSB3aW5kb3cuY29uZmlybSgn7KCc66qp7J2AIO2VhOyImOyeheuLiOuLpC4nKTtcclxuICAgICAgICBpZiAoIWNvbmZpcm1SZXN1bHQpIHJldHVybiBudWxsO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaWQ6IHRoaXMuaWQsXHJcbiAgICAgIHRpdGxlOiB0aXRsZS50cmltKCkucmVwbGFjZSgvIC9nLCAnJm5ic3A7JyksXHJcbiAgICAgIGNvbnRlbnQ6IGNvbnRlbnQucmVwbGFjZSgvIC9nLCAnJm5ic3A7JyksXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgZ2V0IGlkKCkge1xyXG4gICAgcmV0dXJuIE51bWJlcih0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpKTtcclxuICB9XHJcblxyXG4gIHNldCB0aXRsZSh0aXRsZSkge1xyXG4gICAgdGhpcy5xdWVyeVNlbGVjdG9yKCdteS1ub3RlcGFkLWhlYWRlcicpLnNldEF0dHJpYnV0ZSgndGl0bGUnLCB0aXRsZSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCByb3V0ZXIgZnJvbSAnLi4vLi4vLi4vY29yZS9Sb3V0ZXInO1xyXG5cclxuY29uc3QgZGlzYWJsZSA9IHRydWU7XHJcblxyXG5jb25zdCBidXR0b25zID0gW1xyXG4gIHtcclxuICAgIGlkOiAnZmlsZScsXHJcbiAgICB0aXRsZTogJ+2MjOydvCcsXHJcbiAgICBrZXk6ICdGJyxcclxuICAgIHNsb3RzOiBbXHJcbiAgICAgIHsgaWQ6IDEsIHRleHQ6ICfsg4jroZwg66eM65Ok6riwKE4pJywga2V5OiBbJ0N0cmwnLCAnTiddLCBvbkNsaWNrOiBoYW5kbGVOZXdDbGljayB9LFxyXG4gICAgICB7IGlkOiAyLCB0ZXh0OiAn64K0IOy7tO2TqO2EsOyXkCDsoIDsnqUoVyknLCBrZXk6IFsnQ3RybCcsICdTaGlmdCcsICdOJ10sIG9uQ2xpY2s6IGhhbmRsZUxvY2FsU2F2ZUNsaWNrIH0sXHJcbiAgICAgIHsgaWQ6IDMsIHRleHQ6ICfsoIDsnqUoUyknLCBrZXk6IFsnQ3RybCcsICdTJ10sIG9uQ2xpY2s6IGhhbmRsZVNhdmVDbGljayB9LFxyXG4gICAgICB7IGlkOiA0LCB0ZXh0OiAn7IKt7KCcKEQpJywga2V5OiBbJ0N0cmwnLCAnU2hpZnQnLCAnUyddLCBvbkNsaWNrOiBoYW5kbGVEZWxldGVDbGljayB9LFxyXG4gICAgICB7IGlkOiA1LCB0ZXh0OiAn7Y6Y7J207KeAIOyEpOyglShVKS4uLicsIGtleTogW10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogNiwgdGV4dDogJ+yduOyHhChQKS4uLicsIGtleTogWydDdHJsJywgJ1AnXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiA3LCB0ZXh0OiAn64Gd64K06riwKFgpJywga2V5OiBbXSwgZGlzYWJsZSB9LFxyXG4gICAgXSxcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiAnZWRpdCcsXHJcbiAgICB0aXRsZTogJ+2OuOynkScsXHJcbiAgICBrZXk6ICdFJyxcclxuICAgIHNsb3RzOiBbXHJcbiAgICAgIHsgaWQ6IDgsIHRleHQ6ICfsi6Ttlokg7Leo7IaMKFUpJywga2V5OiBbJ0N0cmwnLCAnWiddLCBkaXNhYmxlIH0sXHJcbiAgICAgIHsgaWQ6IDksIHRleHQ6ICfsnpjrnbzrgrTquLAoVCknLCBrZXk6IFsnQ3RybCcsICdYJ10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogMTAsIHRleHQ6ICfrs7XsgqwoQyknLCBrZXk6IFsnQ3RybCcsICdDJ10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogMTEsIHRleHQ6ICfrtpnsl6zrhKPquLAoUCknLCBrZXk6IFsnQ3RybCcsICdWJ10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogMTIsIHRleHQ6ICfsgq3soJwoRCknLCBrZXk6IFsnRGVsJ10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogMTMsIHRleHQ6ICdCaW5n7Jy866GcIOqygOyDiShTKS4uLicsIGtleTogWydDdHJsJywgJ0UnXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiAxNCwgdGV4dDogJ+ywvuq4sChGKS4uLicsIGtleTogWydDdHJsJywgJ0YnXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiAxNSwgdGV4dDogJ+uLpOydjCDssL7quLAoTiknLCBrZXk6IFsnRjMnXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiAxNiwgdGV4dDogJ+ydtOyghCDssL7quLAoViknLCBrZXk6IFsnU2hpZnQnLCAnRjMnXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiAxNywgdGV4dDogJ+uwlOq+uOq4sChSKS4uLicsIGtleTogWydDdHJsJywgJ0gnXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiAxOCwgdGV4dDogJ+ydtOuPmShHKS4uLicsIGtleTogWydDdHJsJywgJ0cnXSwgZGlzYWJsZSB9LFxyXG4gICAgICB7IGlkOiAxOSwgdGV4dDogJ+uqqOuRkCDshKDtg50oQSknLCBrZXk6IFsnQ3RybCcsICdBJ10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogMjAsIHRleHQ6ICfsi5zqsIQv64Kg7KecKEQpJywga2V5OiBbJ0Y1J10sIGRpc2FibGUgfSxcclxuICAgIF0sXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogJ2Zvcm1hdCcsXHJcbiAgICB0aXRsZTogJ+yEnOyLnScsXHJcbiAgICBrZXk6ICdPJyxcclxuICAgIHNsb3RzOiBbXHJcbiAgICAgIHsgaWQ6IDIxLCB0ZXh0OiAn7J6Q64+ZIOykhCDrsJTqv4goVyknLCBrZXk6IFtdLCBkaXNhYmxlIH0sXHJcbiAgICAgIHsgaWQ6IDIyLCB0ZXh0OiAn6riA6ry0KEYpLi4uJywga2V5OiBbXSwgZGlzYWJsZSB9LFxyXG4gICAgXSxcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiAndmlldycsXHJcbiAgICB0aXRsZTogJ+uztOq4sCcsXHJcbiAgICBrZXk6ICdWJyxcclxuICAgIHNsb3RzOiBbXHJcbiAgICAgIHsgaWQ6IDIzLCB0ZXh0OiAn7ZmV64yA7ZWY6riwKFopJywga2V5OiBbJ0N0cmwnLCAnKyddLCBkaXNhYmxlIH0sXHJcbiAgICAgIHsgaWQ6IDI0LCB0ZXh0OiAn7LaV7IaM7ZWY6riwKFgpJywga2V5OiBbJ0N0cmwnLCAnLSddLCBkaXNhYmxlIH0sXHJcbiAgICAgIHsgaWQ6IDI1LCB0ZXh0OiAn7IOB7YOcIO2RnOyLnOykhChTKScsIGtleTogW10sIGRpc2FibGUgfSxcclxuICAgIF0sXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogJ2hlbHAnLFxyXG4gICAgdGl0bGU6ICfrj4Tsm4Drp5AnLFxyXG4gICAga2V5OiAnSCcsXHJcbiAgICBzbG90czogW1xyXG4gICAgICB7IGlkOiAyNiwgdGV4dDogJ+uPhOybgOunkCDrs7TquLAoSCknLCBrZXk6IFtdLCBkaXNhYmxlIH0sXHJcbiAgICAgIHsgaWQ6IDI3LCB0ZXh0OiAn7ZS865Oc67CxIOuztOuCtOq4sChGKScsIGtleTogW10sIGRpc2FibGUgfSxcclxuICAgICAgeyBpZDogMjgsIHRleHQ6ICfrqZTrqqjsnqUg7KCV67O0KEEpJywga2V5OiBbXSwgZGlzYWJsZSB9LFxyXG4gICAgXSxcclxuICB9LFxyXG5dO1xyXG5cclxuY29uc3Qgc2xvdHMgPSBidXR0b25zLnJlZHVjZSgoYWNjLCBjdXIpID0+IHtcclxuICByZXR1cm4gWy4uLmFjYywgLi4uY3VyLnNsb3RzXTtcclxufSwgW10pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYnV0dG9ucztcclxuZXhwb3J0IHsgc2xvdHMgfTtcclxuXHJcbmZ1bmN0aW9uIGhhbmRsZVNhdmVDbGljaygpIHtcclxuICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdzYXZlJywgeyBidWJibGVzOiB0cnVlIH0pKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlTG9jYWxTYXZlQ2xpY2soKSB7XHJcbiAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnbG9jYWxTYXZlJywgeyBidWJibGVzOiB0cnVlIH0pKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlQ2xpY2soKSB7XHJcbiAgY29uc3Qgbm90ZXBhZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ215LW5vdGVwYWQnKTtcclxuICBpZiAoIW5vdGVwYWRbJ2RhdGEtaWQnXSkgcmV0dXJuO1xyXG4gIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2RlbGV0ZScsIHsgYnViYmxlczogdHJ1ZSB9KSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZU5ld0NsaWNrKCkge1xyXG4gIGNvbnN0IG5vdGVwYWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdteS1ub3RlcGFkJyk7XHJcbiAgaWYgKCFub3RlcGFkWydkYXRhLWlkJ10pIHtcclxuICAgIG5vdGVwYWQucmVuZGVyKCk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG4gIHJvdXRlci5uYXZpZ2F0ZVRvKCcvbm90ZXBhZCcpO1xyXG59XHJcbiIsImltcG9ydCB7IGh0bWwgfSBmcm9tICcuLi8uLi8uLi91dGlscy91dGlscyc7XHJcbmltcG9ydCBXZWJDb21wb25lbnQgZnJvbSAnLi4vLi4vLi4vY29yZS9XZWJDb21wb25lbnQnO1xyXG5pbXBvcnQgYnV0dG9ucywgeyBzbG90cyB9IGZyb20gJy4uL2NvbnN0L2J1dHRvbnMnO1xyXG5pbXBvcnQgTm90ZVBhZEljb24gZnJvbSAnLi4vLi4vLi4vLi4vcHVibGljL25vdGVwYWQucG5nJztcclxuaW1wb3J0IHJvdXRlciBmcm9tICcuLi8uLi8uLi9jb3JlL1JvdXRlcic7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOb3RlUGFkSGVhZGVyIGV4dGVuZHMgV2ViQ29tcG9uZW50IHtcclxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcclxuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XHJcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGljayk7XHJcbiAgfVxyXG5cclxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcclxuICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNsaWNrKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCkge1xyXG4gICAgcmV0dXJuIFsndGl0bGUnXTtcclxuICB9XHJcblxyXG4gIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lLCBvbGRWYWx1ZSwgbmV3VmFsdWUpIHtcclxuICAgIGlmIChuYW1lID09PSAndGl0bGUnICYmIG9sZFZhbHVlKSB7XHJcbiAgICAgIHRoaXMucXVlcnlTZWxlY3RvcignI3RpdGxlJykuaW5uZXJUZXh0ID0gbmV3VmFsdWU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpbmplY3RIVE1MKCkge1xyXG4gICAgcmV0dXJuIGh0bWxgXHJcbiAgICAgIDxoZWFkZXI+XHJcbiAgICAgICAgPHNwYW4+XHJcbiAgICAgICAgICA8aW1nIGFsdD1cIm5vdGVwYWRfaWNvblwiIHNyYz0ke05vdGVQYWRJY29ufSAvPlxyXG4gICAgICAgICAgPHNwYW4gaWQ9XCJ0aXRsZVwiPiR7dGhpcy50aXRsZX08L3NwYW4+IC0gV2luZG93cyDrqZTrqqjsnqVcclxuICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInZpZXdfYnV0dG9uc1wiPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInZpZXdfYnV0dG9uXCIgaWQ9XCJtaW5pXCI+8J+XlTwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInZpZXdfYnV0dG9uXCIgaWQ9XCJmdWxsXCI+8J+XljwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInZpZXdfYnV0dG9uXCIgaWQ9XCJjbG9zZVwiPuKFqTwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2hlYWRlcj5cclxuICAgICAgPGRpdiBjbGFzcz1cImVkaXRfYnV0dG9uc1wiPlxyXG4gICAgICAgICR7YnV0dG9uc1xyXG4gICAgICAgICAgLm1hcChcclxuICAgICAgICAgICAgKGJ1dHRvbikgPT4gaHRtbGBcclxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZWRpdF9idXR0b25cIj5cclxuICAgICAgICAgICAgICAgICR7YnV0dG9uLnRpdGxlfSg8dT4ke2J1dHRvbi5rZXl9PC91PilcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwb3B1cFwiPlxyXG4gICAgICAgICAgICAgICAgICAke2J1dHRvbi5zbG90c1xyXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAoc2xvdCkgPT4gaHRtbGBcclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN1YlwiIGRhdGEtaWQ9XCIke3Nsb3QuaWR9XCIgZGF0YS1kaXNhYmxlPVwiJHshIXNsb3QuZGlzYWJsZX1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PiR7c2xvdC50ZXh0fTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICR7c2xvdC5rZXkubGVuZ3RoID4gMCA/IGA8ZGl2PiR7c2xvdC5rZXkuam9pbignICsgJyl9PC9kaXY+YCA6ICcnfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIGBcclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgLmpvaW4oJycpfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIGBcclxuICAgICAgICAgIClcclxuICAgICAgICAgIC5qb2luKCcnKX1cclxuICAgICAgPC9kaXY+XHJcbiAgICBgO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlQ2xpY2soZSkge1xyXG4gICAgY29uc3Qgdmlld0J1dHRvbiA9IGUudGFyZ2V0LmNsb3Nlc3QoJy52aWV3X2J1dHRvbicpO1xyXG4gICAgY29uc3QgZWRpdEJ1dHRvbiA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5lZGl0X2J1dHRvbicpO1xyXG4gICAgY29uc3Qgc3ViID0gZS50YXJnZXQuY2xvc2VzdCgnLnN1YicpO1xyXG5cclxuICAgIGlmICh2aWV3QnV0dG9uKSB7XHJcbiAgICAgIHRoaXMuY2xpY2tWaWV3QnV0dG9uKHZpZXdCdXR0b24pO1xyXG4gICAgfSBlbHNlIGlmIChlZGl0QnV0dG9uKSB7XHJcbiAgICAgIHRoaXMuY2xpY2tFZGl0QnV0dG9uKGVkaXRCdXR0b24sIHN1Yik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmNsb3NlUG9wdXAoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNsaWNrVmlld0J1dHRvbih2aWV3QnV0dG9uKSB7XHJcbiAgICBzd2l0Y2ggKHZpZXdCdXR0b24uaWQpIHtcclxuICAgICAgY2FzZSAnZnVsbCc6XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ2Z1bGxzY3JlZW4nKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnbWluaSc6XHJcbiAgICAgIGNhc2UgJ2Nsb3NlJzpcclxuICAgICAgICByb3V0ZXIuYmFjaygpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY2xpY2tFZGl0QnV0dG9uKGVkaXRCdXR0b24sIHN1Yikge1xyXG4gICAgaWYgKHN1Yikge1xyXG4gICAgICBjb25zdCBzbG90SWQgPSBOdW1iZXIoc3ViLmRhdGFzZXQuaWQpO1xyXG4gICAgICBjb25zdCB7IG9uQ2xpY2sgfSA9IHNsb3RzLmZpbmQoKHNsb3QpID0+IHNsb3QuaWQgPT09IHNsb3RJZCkgfHwge307XHJcbiAgICAgIGlmIChvbkNsaWNrKSB7XHJcbiAgICAgICAgb25DbGljay5jYWxsKHRoaXMpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnRvZ2dsZVBvcHVwKGVkaXRCdXR0b24pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdG9nZ2xlUG9wdXAoZWRpdEJ1dHRvbikge1xyXG4gICAgY29uc3QgcG9wdXAgPSBlZGl0QnV0dG9uLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cCcpO1xyXG4gICAgaWYgKHBvcHVwLmNsYXNzTGlzdC5jb250YWlucygnc2hvdycpKSB7XHJcbiAgICAgIHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuY2xvc2VQb3B1cCgpO1xyXG4gICAgICBwb3B1cC5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjbG9zZVBvcHVwKCkge1xyXG4gICAgY29uc3QgcG9wdXAgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC5zaG93Jyk7XHJcbiAgICBwb3B1cD8uY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHRpdGxlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKCd0aXRsZScpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgJy4vc3R5bGUuc2Nzcyc7XHJcbmltcG9ydCBzYW5kYm94REIgZnJvbSAnLi9jb3JlL0luZGV4ZWREQic7XHJcbmltcG9ydCBBcHAgZnJvbSAnLi9BcHAnO1xyXG5pbXBvcnQgRm9vdGVyIGZyb20gJy4vdmlldy9Db21tb24vRm9vdGVyJztcclxuaW1wb3J0IEhvbWUgZnJvbSAnLi92aWV3L0hvbWUnO1xyXG5pbXBvcnQgVGV0cmlzIGZyb20gJy4vdmlldy9UZXRyaXMnO1xyXG5pbXBvcnQgRmxhcHB5QmlyZCBmcm9tICcuL3ZpZXcvRmxhcHB5QmlyZCc7XHJcbmltcG9ydCBJY29ucyBmcm9tICcuL3ZpZXcvQ29tbW9uL0ljb25zJztcclxuaW1wb3J0IEljb24gZnJvbSAnLi92aWV3L0NvbW1vbi9JY29uJztcclxuaW1wb3J0IE5vdGVQYWQgZnJvbSAnLi92aWV3L05vdGVQYWQnO1xyXG5pbXBvcnQgTm90ZVBhZEhlYWRlciBmcm9tICcuL3ZpZXcvTm90ZVBhZC9jb21wb25lbnRzL05vdGVQYWRIZWFkZXInO1xyXG5pbXBvcnQgcm91dGVyIGZyb20gJy4vY29yZS9Sb3V0ZXInO1xyXG5cclxuKGFzeW5jICgpID0+IHtcclxuICB0cnkge1xyXG4gICAgYXdhaXQgc2FuZGJveERCLm9wZW5EQigpO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHF1ZXVlTWljcm90YXNrKCgpID0+IGFsZXJ0KCdJbmRleGVkRELrpbwg7IKs7Jqp7ZWgIOyImCDsl4bsirXri4jri6QuJykpO1xyXG4gIH1cclxuXHJcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdteS1hcHAnLCBBcHApO1xyXG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbXktZm9vdGVyJywgRm9vdGVyKTtcclxuICBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ215LWhvbWUnLCBIb21lKTtcclxuICBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ215LXRldHJpcycsIFRldHJpcyk7XHJcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdteS1mbGFwcHliaXJkJywgRmxhcHB5QmlyZCk7XHJcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdteS1pY29ucycsIEljb25zKTtcclxuICBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ215LWljb24nLCBJY29uKTtcclxuICBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ215LW5vdGVwYWQnLCBOb3RlUGFkKTtcclxuICBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ215LW5vdGVwYWQtaGVhZGVyJywgTm90ZVBhZEhlYWRlcik7XHJcbn0pKCk7XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHJvdXRlci5yZW5kZXIoKSk7XHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsICgpID0+IHJvdXRlci5yZW5kZXIoKSk7XHJcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZGIiLCJjb25zdHJ1Y3RvciIsImRiTmFtZSIsImRiVmVyc2lvbiIsInN0b3JlcyIsInRoaXMiLCJhc3luYyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVxdWVzdCIsIndpbmRvdyIsImluZGV4ZWREQiIsIm9wZW4iLCJvbnN1Y2Nlc3MiLCJyZXN1bHQiLCJvbmVycm9yIiwiZSIsIm9udXBncmFkZW5lZWRlZCIsImZvckVhY2giLCJzdG9yZSIsIm9iamVjdFN0b3JlTmFtZXMiLCJjb250YWlucyIsImRlbGV0ZU9iamVjdFN0b3JlIiwiY3JlYXRlT2JqZWN0U3RvcmUiLCJrZXlQYXRoIiwic3RvcmVOYW1lIiwiaWQiLCJ0cmFuc2FjdGlvbiIsIm9iamVjdFN0b3JlIiwiZ2V0IiwiZ2V0QWxsIiwiZGF0YSIsIm1vZGlmaWVkRGF0YSIsIkRhdGUiLCJnZXRUaW1lIiwicHV0IiwiY29uc29sZSIsImxvZyIsImVycm9yIiwiZGVsZXRlIiwicmVuZGVyUmF3Iiwic3RyaW5nIiwidmFsdWVzIiwiU3RyaW5nIiwicmF3IiwiV2ViQ29tcG9uZW50IiwiSFRNTEVsZW1lbnQiLCJjb25uZWN0ZWRDYWxsYmFjayIsInJlbmRlciIsImlubmVySFRNTCIsImluamVjdEhUTUwiLCJBcHAiLCJCQVNFX1VSTCIsInJvdXRlcyIsInBhdGgiLCJodG1sIiwibGFiZWwiLCJpY29uU3JjIiwibWFpbkljb25zIiwicmVkdWNlIiwicHJldiIsInJvdXRlciIsImdldExvY2FsSWNvbnMiLCJpY29uIiwidGl0bGUiLCJyb3V0ZSIsInBhdGhUb1JlZ2V4cCIsIlJlZ0V4cCIsInJlcGxhY2UiLCJjdXJyZW50UGF0aCIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJmaW5kIiwidmFsdWUiLCJ0ZXN0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZ2V0SWRGcm9tUGF0aCIsInJlcGxhY2VUbyIsIm1hdGNoIiwibmF2aWdhdGVUbyIsInVybCIsImdldFVybEZyb20iLCJoaXN0b3J5IiwicHVzaFN0YXRlIiwicmVwbGFjZVN0YXRlIiwiYmFjayIsIkZvb3RlciIsInN1cGVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZUNsaWNrIiwiYmluZCIsImpvaW4iLCJ0YXJnZXQiLCJjbG9zZXN0IiwiZGF0YXNldCIsIkhvbWUiLCJUZXRyaXMiLCJGbGFwcHlCaXJkIiwiSWNvbnMiLCJpY29ucyIsImhhbmRsZURvdWJsZUNsaWNrIiwiaGFuZGxlS2V5RG93biIsImhhbmRsZUljb25DaGFuZ2UiLCJoYW5kbGVJY29uRGVsZXRlIiwib2JzZXJ2ZWRBdHRyaWJ1dGVzIiwiYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrIiwibmFtZSIsIm9sZFZhbHVlIiwibmV3VmFsdWUiLCJtYXAiLCJKU09OIiwicGFyc2UiLCJnZXRBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJzdHJpbmdpZnkiLCJ0b2dnbGVBdHRyaWJ1dGUiLCJxdWVyeVNlbGVjdG9yQWxsIiwibm9kZSIsInJlbW92ZUF0dHJpYnV0ZSIsImNoZWNrZWRFbCIsImtleSIsImxlbmd0aCIsImRldGFpbCIsInByZXZJY29uSW5kZXgiLCJmaW5kSW5kZXgiLCJuZXdJY29ucyIsImZpbHRlciIsIkljb24iLCJpY29uc3JjIiwiTm90ZVBhZCIsImNvbnRlbnQiLCJoYW5kbGVTYXZlIiwiaGFuZGxlTG9jYWxTYXZlIiwiaGFuZGxlRGVsZXRlIiwiZGlzY29ubmVjdGVkQ2FsbGJhY2siLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicHJldmVudERlZmF1bHQiLCJub3RlUGFkRGF0YSIsImdldE5vdGVQYWREYXRhIiwiYmxvYiIsIkJsb2IiLCJ0eXBlIiwibGluayIsImNyZWF0ZUVsZW1lbnQiLCJocmVmIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiZG93bmxvYWQiLCJjbGljayIsInN0b3BQcm9wYWdhdGlvbiIsImFsZXJ0IiwiaWNvbkNoYW5nZUV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwiZXJyIiwiY29uZmlybSIsImljb25EZWxldGVFdmVudCIsInRyaW0iLCJwcm9tcHQiLCJOdW1iZXIiLCJkaXNhYmxlIiwiYnV0dG9ucyIsInNsb3RzIiwidGV4dCIsIm9uQ2xpY2siLCJub3RlcGFkIiwiYnViYmxlcyIsImFjYyIsImN1ciIsIk5vdGVQYWRIZWFkZXIiLCJpbm5lclRleHQiLCJidXR0b24iLCJzbG90Iiwidmlld0J1dHRvbiIsImVkaXRCdXR0b24iLCJzdWIiLCJjbGlja1ZpZXdCdXR0b24iLCJjbGlja0VkaXRCdXR0b24iLCJjbG9zZVBvcHVwIiwicGFyZW50RWxlbWVudCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInNsb3RJZCIsImNhbGwiLCJ0b2dnbGVQb3B1cCIsInBvcHVwIiwicmVtb3ZlIiwiYWRkIiwicXVldWVNaWNyb3Rhc2siLCJjdXN0b21FbGVtZW50cyIsImRlZmluZSJdLCJzb3VyY2VSb290IjoiIn0=